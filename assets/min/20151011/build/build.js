(function(d){function g(a,c,b){switch(arguments.length){case 2:return null!=a?a:c;case 3:return null!=a?a:null!=c?c:b;default:throw Error("Implement me");}}function k(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function h(a){!1===J.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function q(a,c){var b=!0;return m(function(){return b&&
(h(a),b=!1),c.apply(this,arguments)},c)}function e(a,c){return function(b){return n(a.call(this,b),c)}}function b(a,c){return function(b){return this.localeData().ordinal(a.call(this,b),c)}}function a(){}function c(a,c){!1!==c&&I(a);v(this,a);this._d=new Date(+a._d);!1===Za&&(Za=!0,J.updateOffset(this),Za=!1)}function f(a){a=y(a);var c=a.year||0,b=a.quarter||0,f=a.month||0,e=a.week||0,d=a.day||0;this._milliseconds=+(a.millisecond||0)+1E3*(a.second||0)+6E4*(a.minute||0)+36E5*(a.hour||0);this._days=
+d+7*e;this._months=+f+3*b+12*c;this._data={};this._locale=J.localeData();this._bubble()}function m(a,c){for(var b in c)X.call(c,b)&&(a[b]=c[b]);return X.call(c,"toString")&&(a.toString=c.toString),X.call(c,"valueOf")&&(a.valueOf=c.valueOf),a}function v(a,c){var b,f,e;if("undefined"!=typeof c._isAMomentObject&&(a._isAMomentObject=c._isAMomentObject),"undefined"!=typeof c._i&&(a._i=c._i),"undefined"!=typeof c._f&&(a._f=c._f),"undefined"!=typeof c._l&&(a._l=c._l),"undefined"!=typeof c._strict&&(a._strict=
c._strict),"undefined"!=typeof c._tzm&&(a._tzm=c._tzm),"undefined"!=typeof c._isUTC&&(a._isUTC=c._isUTC),"undefined"!=typeof c._offset&&(a._offset=c._offset),"undefined"!=typeof c._pf&&(a._pf=c._pf),"undefined"!=typeof c._locale&&(a._locale=c._locale),0<Ta.length)for(b in Ta)f=Ta[b],e=c[f],"undefined"!=typeof e&&(a[f]=e);return a}function r(a){return 0>a?Math.ceil(a):Math.floor(a)}function n(a,c,b){for(var f=""+Math.abs(a);f.length<c;)f="0"+f;return(0<=a?b?"+":"":"-")+f}function w(a,c){var b={milliseconds:0,
months:0};return b.months=c.month()-a.month()+12*(c.year()-a.year()),a.clone().add(b.months,"M").isAfter(c)&&--b.months,b.milliseconds=+c-+a.clone().add(b.months,"M"),b}function p(a,c){var b;return c=P(c,a),a.isBefore(c)?b=w(a,c):(b=w(c,a),b.milliseconds=-b.milliseconds,b.months=-b.months),b}function l(a,c){return function(b,f){var e,d;null===f||isNaN(+f)||(ea[c]||(h("moment()."+c+"(period, number) is deprecated. Please use moment()."+c+"(number, period)."),ea[c]=!0),d=b,b=f,f=d);return b="string"==
typeof b?+b:b,e=J.duration(b,f),x(this,e,a),this}}function x(a,c,b,f){var e=c._milliseconds,d=c._days;c=c._months;f=null==f?!0:f;e&&a._d.setTime(+a._d+e*b);d&&ma(a,"Date",Ja(a,"Date")+d*b);c&&pa(a,Ja(a,"Month")+c*b);f&&J.updateOffset(a,d||c)}function E(a){return"[object Array]"===Object.prototype.toString.call(a)}function z(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function A(a,c,b){var f,e=Math.min(a.length,c.length),d=Math.abs(a.length-c.length),l=0;for(f=0;e>
f;f++)(b&&a[f]!==c[f]||!b&&D(a[f])!==D(c[f]))&&l++;return l+d}function u(a){if(a){var c=a.toLowerCase().replace(/(.)s$/,"$1");a=fa[a]||Ka[c]||c}return a}function y(a){var c,b,f={};for(b in a)X.call(a,b)&&(c=u(b),c&&(f[c]=a[b]));return f}function L(a){var c,b;if(0===a.indexOf("week"))c=7,b="day";else{if(0!==a.indexOf("month"))return;c=12;b="month"}J[a]=function(f,e){var l,m,h=J._locale[a],p=[];if("number"==typeof f&&(e=f,f=d),m=function(a){a=J().utc().set(b,a);return h.call(J._locale,a,f||"")},null!=
e)return m(e);for(l=0;c>l;l++)p.push(m(l));return p}}function D(a){a=+a;var c=0;return 0!==a&&isFinite(a)&&(c=0<=a?Math.floor(a):Math.ceil(a)),c}function B(a,c){return(new Date(Date.UTC(a,c+1,0))).getUTCDate()}function G(a,c,b){return ka(J([a,11,31+c-b]),c,b).week}function F(a){return 0===a%4&&0!==a%100||0===a%400}function I(a){var c;a._a&&-2===a._pf.overflow&&(c=0>a._a[qa]||11<a._a[qa]?qa:1>a._a[sa]||a._a[sa]>B(a._a[ia],a._a[qa])?sa:0>a._a[za]||24<a._a[za]||24===a._a[za]&&(0!==a._a[Na]||0!==a._a[Sa]||
0!==a._a[Aa])?za:0>a._a[Na]||59<a._a[Na]?Na:0>a._a[Sa]||59<a._a[Sa]?Sa:0>a._a[Aa]||999<a._a[Aa]?Aa:-1,a._pf._overflowDayOfYear&&(ia>c||c>sa)&&(c=sa),a._pf.overflow=c)}function O(a){return null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&0>a._pf.overflow&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length&&a._pf.bigHour===d)),a._isValid}function N(a){return a?
a.toLowerCase().replace("_","-"):a}function R(a){var c=null;if(!Ia[a]&&Da)try{c=J.locale(),require("./locale/"+a),J.locale(c)}catch(b){}return Ia[a]}function P(a,c){var b,f;return c._isUTC?(b=c.clone(),f=(J.isMoment(a)||z(a)?+a:+J(a))-+b,b._d.setTime(+b._d+f),J.updateOffset(b,!1),b):J(a).local()}function K(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function S(a){var c,b,f=a.match(Wa);c=0;for(b=f.length;b>c;c++)f[c]=xa[f[c]]?xa[f[c]]:K(f[c]);return function(e){var d=
"";for(c=0;b>c;c++)d+=f[c]instanceof Function?f[c].call(e,a):f[c];return d}}function M(a,c){return a.isValid()?(c=C(c,a.localeData()),ta[c]||(ta[c]=S(c)),ta[c](a)):a.localeData().invalidDate()}function C(a,c){function b(a){return c.longDateFormat(a)||a}var f=5;for(ab.lastIndex=0;0<=f&&ab.test(a);)a=a.replace(ab,b),ab.lastIndex=0,--f;return a}function H(a,c){var b=c._strict;switch(a){case "Q":return ob;case "DDDD":return Ga;case "YYYY":case "GGGG":case "gggg":return b?bb:eb;case "Y":case "G":case "g":return wb;
case "YYYYYY":case "YYYYY":case "GGGGG":case "ggggg":return b?pb:Xa;case "S":if(b)return ob;case "SS":if(b)return cb;case "SSS":if(b)return Ga;case "DDD":return tb;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return Ua;case "a":case "A":return c._locale._meridiemParse;case "x":return Oa;case "X":return ib;case "Z":case "ZZ":return qb;case "T":return rb;case "SSSS":return Ea;case "MM":case "DD":case "YY":case "GG":case "gg":case "HH":case "hh":case "mm":case "ss":case "ww":case "WW":return b?
cb:jb;case "M":case "D":case "d":case "H":case "h":case "m":case "s":case "w":case "W":case "e":case "E":return jb;case "Do":return b?c._locale._ordinalParse:c._locale._ordinalParseLenient;default:var b=RegExp,f;f=U(a.replace("\\","")).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return new b(f)}}function T(a){a=(a||"").match(qb)||[];a=((a[a.length-1]||[])+"").match(ja)||["-",0,0];var c=+(60*a[1])+D(a[2]);return"+"===a[0]?c:-c}function V(a){var c,b,f,e=[];if(!a._d){b=new Date;b=a._useUTC?[b.getUTCFullYear(),
b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()];if(a._w&&null==a._a[sa]&&null==a._a[qa]){var d,l,m,h,p,n;d=a._w;null!=d.GG||null!=d.W||null!=d.E?(p=1,n=4,l=g(d.GG,a._a[ia],ka(J(),1,4).year),m=g(d.W,1),h=g(d.E,1)):(p=a._locale._week.dow,n=a._locale._week.doy,l=g(d.gg,a._a[ia],ka(J(),p,n).year),m=g(d.w,1),null!=d.d?(h=d.d,p>h&&++m):h=null!=d.e?d.e+p:p);d=p;var r,v;p=da(l,0,1).getUTCDay();n=(p=0===p?7:p,h=null!=h?h:d,r=d-p+(p>n?7:0)-(d>p?7:0),v=7*(m-1)+(h-d)+r+1,{year:0<v?
l:l-1,dayOfYear:0<v?v:(F(l-1)?366:365)+v});a._a[ia]=n.year;a._dayOfYear=n.dayOfYear}a._dayOfYear&&(f=g(a._a[ia],b[ia]),a._dayOfYear>(F(f)?366:365)&&(a._pf._overflowDayOfYear=!0),c=da(f,0,a._dayOfYear),a._a[qa]=c.getUTCMonth(),a._a[sa]=c.getUTCDate());for(c=0;3>c&&null==a._a[c];++c)a._a[c]=e[c]=b[c];for(;7>c;c++)a._a[c]=e[c]=null==a._a[c]?2===c?1:0:a._a[c];24===a._a[za]&&0===a._a[Na]&&0===a._a[Sa]&&0===a._a[Aa]&&(a._nextDay=!0,a._a[za]=0);a._d=(a._useUTC?da:ua).apply(null,e);null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-
a._tzm);a._nextDay&&(a._a[za]=24)}}function W(a){var c;a._d||(c=y(a._i),a._a=[c.year,c.month,c.day||c.date,c.hour,c.minute,c.second,c.millisecond],V(a))}function Y(a){if(a._f===J.ISO_8601)return void ca(a);a._a=[];a._pf.empty=!0;var c,b,f,e,l,m=""+a._i,h=m.length,p=0;f=C(a._f,a._locale).match(Wa)||[];for(c=0;c<f.length;c++)if(e=f[c],(b=(m.match(H(e,a))||[])[0])&&(l=m.substr(0,m.indexOf(b)),0<l.length&&a._pf.unusedInput.push(l),m=m.slice(m.indexOf(b)+b.length),p+=b.length),xa[e]){b?a._pf.empty=!1:
a._pf.unusedTokens.push(e);var n=a,v=void 0,r=n._a;switch(e){case "Q":null!=b&&(r[qa]=3*(D(b)-1));break;case "M":case "MM":null!=b&&(r[qa]=D(b)-1);break;case "MMM":case "MMMM":v=n._locale.monthsParse(b,e,n._strict);null!=v?r[qa]=v:n._pf.invalidMonth=b;break;case "D":case "DD":null!=b&&(r[sa]=D(b));break;case "Do":null!=b&&(r[sa]=D(parseInt(b.match(/\d{1,2}/)[0],10)));break;case "DDD":case "DDDD":null!=b&&(n._dayOfYear=D(b));break;case "YY":r[ia]=J.parseTwoDigitYear(b);break;case "YYYY":case "YYYYY":case "YYYYYY":r[ia]=
D(b);break;case "a":case "A":n._meridiem=b;break;case "h":case "hh":n._pf.bigHour=!0;case "H":case "HH":r[za]=D(b);break;case "m":case "mm":r[Na]=D(b);break;case "s":case "ss":r[Sa]=D(b);break;case "S":case "SS":case "SSS":case "SSSS":r[Aa]=D(1E3*("0."+b));break;case "x":n._d=new Date(D(b));break;case "X":n._d=new Date(1E3*parseFloat(b));break;case "Z":case "ZZ":n._useUTC=!0;n._tzm=T(b);break;case "dd":case "ddd":case "dddd":v=n._locale.weekdaysParse(b);null!=v?(n._w=n._w||{},n._w.d=v):n._pf.invalidWeekday=
b;break;case "w":case "ww":case "W":case "WW":case "d":case "e":case "E":e=e.substr(0,1);case "gggg":case "GGGG":case "GGGGG":e=e.substr(0,2);b&&(n._w=n._w||{},n._w[e]=D(b));break;case "gg":case "GG":n._w=n._w||{},n._w[e]=J.parseTwoDigitYear(b)}}else a._strict&&!b&&a._pf.unusedTokens.push(e);a._pf.charsLeftOver=h-p;0<m.length&&a._pf.unusedInput.push(m);!0===a._pf.bigHour&&12>=a._a[za]&&(a._pf.bigHour=d);c=a._a;f=za;m=a._locale;l=a._a[za];var h=a._meridiem,w,m=null==h?l:null!=m.meridiemHour?m.meridiemHour(l,
h):null!=m.isPM?(w=m.isPM(h),w&&12>l&&(l+=12),w||12!==l||(l=0),l):l;c[f]=m;V(a);I(a)}function U(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,c,b,f,e){return c||b||f||e})}function ca(a){var c,b,f=a._i,e=Va.exec(f);if(e){a._pf.iso=!0;c=0;for(b=db.length;b>c;c++)if(db[c][1].exec(f)){a._f=db[c][0]+(e[6]||" ");break}c=0;for(b=fb.length;b>c;c++)if(fb[c][1].exec(f)){a._f+=fb[c][0];break}f.match(qb)&&(a._f+="Z");Y(a)}else a._isValid=!1}function la(a){ca(a);!1===a._isValid&&(delete a._isValid,
J.createFromInputFallback(a))}function Q(a,c){var b,f=[];for(b=0;b<a.length;++b)f.push(c(a[b],b));return f}function Z(a){var c,b=a._i;b===d?a._d=new Date:z(b)?a._d=new Date(+b):null!==(c=Ma.exec(b))?a._d=new Date(+c[1]):"string"==typeof b?la(a):E(b)?(a._a=Q(b.slice(0),function(a){return parseInt(a,10)}),V(a)):"object"==typeof b?W(a):"number"==typeof b?a._d=new Date(b):J.createFromInputFallback(a)}function ua(a,c,b,f,e,d,l){c=new Date(a,c,b,f,e,d,l);return 1970>a&&c.setFullYear(a),c}function da(a){var c=
new Date(Date.UTC.apply(null,arguments));return 1970>a&&c.setUTCFullYear(a),c}function aa(a,c,b,f,e){return e.relativeTime(c||1,!!b,a,f)}function ka(a,c,b){var f;c=b-c;b-=a.day();return b>c&&(b-=7),c-7>b&&(b+=7),f=J(a).add(b,"d"),{week:Math.ceil(f.dayOfYear()/7),year:f.year()}}function Ba(a){var b,f=a._i,e=a._f;a._locale=a._locale||J.localeData(a._l);if(null===f||e===d&&""===f)b=J.invalid({nullInput:!0});else{"string"==typeof f&&(a._i=f=a._locale.preparse(f));if(J.isMoment(f))a=new c(f,!0);else{if(e)if(E(e)){var l,
h,p;if(0===a._f.length)a._pf.invalidFormat=!0,a._d=new Date(0/0);else{for(f=0;f<a._f.length;f++)e=0,l=v({},a),null!=a._useUTC&&(l._useUTC=a._useUTC),l._pf=k(),l._f=a._f[f],Y(l),O(l)&&(e+=l._pf.charsLeftOver,e+=10*l._pf.unusedTokens.length,l._pf.score=e,(null==p||p>e)&&(p=e,h=l));m(a,h||l)}}else Y(a);else Z(a);a=(b=new c(a),b._nextDay&&(b.add(1,"d"),b._nextDay=d),b)}b=a}return b}function ba(a,c){var b,f;if(1===c.length&&E(c[0])&&(c=c[0]),!c.length)return J();b=c[0];for(f=1;f<c.length;++f)c[f][a](b)&&
(b=c[f]);return b}function pa(a,c){var b;return"string"==typeof c&&(c=a.localeData().monthsParse(c),"number"!=typeof c)?a:(b=Math.min(a.date(),B(a.year(),c)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](c,b),a)}function Ja(a,c){return a._d["get"+(a._isUTC?"UTC":"")+c]()}function ma(a,c,b){return"Month"===c?pa(a,b):a._d["set"+(a._isUTC?"UTC":"")+c](b)}function ha(a,c){return function(b){return null!=b?(ma(this,a,b),J.updateOffset(this,c),this):Ja(this,a)}}function Ha(a){J.duration.fn[a]=function(){return this._data[a]}}
function t(a){"undefined"==typeof ender&&(na=Pa.moment,Pa.moment=a?q("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",J):J)}for(var J,na,va,Pa="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,wa=Math.round,X=Object.prototype.hasOwnProperty,ia=0,qa=1,sa=2,za=3,Na=4,Sa=5,Aa=6,Ia={},Ta=[],Da="undefined"!=typeof module&&module&&module.exports,Ma=/^\/?Date\((\-?\d+)/i,ga=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,
ya=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Wa=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,ab=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,jb=/\d\d?/,tb=/\d{1,3}/,eb=/\d{1,4}/,Xa=/[+\-]?\d{1,6}/,Ea=/\d+/,Ua=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,
qb=/Z|[\+\-]\d\d:?\d\d/gi,rb=/T/i,Oa=/[\+\-]?\d+/,ib=/[\+\-]?\d+(\.\d{1,3})?/,ob=/\d/,cb=/\d\d/,Ga=/\d{3}/,bb=/\d{4}/,pb=/[+-]?\d{6}/,wb=/[+-]?\d+/,Va=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,db=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],fb=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],
["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ja=/([\+\-]|\d\d)/gi,lb={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},fa={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Ka={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},
ta={},oa={s:45,m:45,h:22,d:26,M:11},Qa="DDD w W M D d".split(" "),gb="MDHhmswW".split(""),xa={M:function(){return this.month()+1},MMM:function(a){return this.localeData().monthsShort(this,a)},MMMM:function(a){return this.localeData().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.localeData().weekdaysMin(this,a)},ddd:function(a){return this.localeData().weekdaysShort(this,a)},dddd:function(a){return this.localeData().weekdays(this,
a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return n(this.year()%100,2)},YYYY:function(){return n(this.year(),4)},YYYYY:function(){return n(this.year(),5)},YYYYYY:function(){var a=this.year();return(0<=a?"+":"-")+n(Math.abs(a),6)},gg:function(){return n(this.weekYear()%100,2)},gggg:function(){return n(this.weekYear(),4)},ggggg:function(){return n(this.weekYear(),5)},GG:function(){return n(this.isoWeekYear()%100,2)},GGGG:function(){return n(this.isoWeekYear(),
4)},GGGGG:function(){return n(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return D(this.milliseconds()/100)},SS:function(){return n(D(this.milliseconds()/
10),2)},SSS:function(){return n(this.milliseconds(),3)},SSSS:function(){return n(this.milliseconds(),3)},Z:function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+n(D(a/60),2)+":"+n(D(a)%60,2)},ZZ:function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+n(D(a/60),2)+n(D(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},ea={},sb=["months",
"monthsShort","weekdays","weekdaysShort","weekdaysMin"],Za=!1;Qa.length;)va=Qa.pop(),xa[va+"o"]=b(xa[va],va);for(;gb.length;)va=gb.pop(),xa[va+va]=e(xa[va],2);xa.DDDD=e(xa.DDD,3);m(a.prototype,{set:function(a){var c,b;for(b in a)c=a[b],"function"==typeof c?this[b]=c:this["_"+b]=c;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January February March April May June July August September October November December".split(" "),months:function(a){return this._months[a.month()]},
_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a,c,b){var f,e,d;this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]);for(f=0;12>f;f++)if((e=J.utc([2E3,f]),b&&!this._longMonthsParse[f]&&(this._longMonthsParse[f]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[f]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$",
"i")),b||this._monthsParse[f]||(d="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[f]=new RegExp(d.replace(".",""),"i")),b&&"MMMM"===c&&this._longMonthsParse[f].test(a))||b&&"MMM"===c&&this._shortMonthsParse[f].test(a)||!b&&this._monthsParse[f].test(a))return f},_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},
_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var c,b,f;this._weekdaysParse||(this._weekdaysParse=[]);for(c=0;7>c;c++)if(this._weekdaysParse[c]||(b=J([2E3,1]).day(c),f="^"+this.weekdays(b,"")+"|^"+this.weekdaysShort(b,"")+"|^"+this.weekdaysMin(b,""),this._weekdaysParse[c]=new RegExp(f.replace(".",""),"i")),this._weekdaysParse[c].test(a))return c},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",
LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(a){var c=this._longDateFormat[a];return!c&&this._longDateFormat[a.toUpperCase()]&&(c=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=c),c},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,c,b){return 11<a?b?"pm":"PM":b?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",
nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,c,b){a=this._calendar[a];return"function"==typeof a?a.apply(c,[b]):a},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,c,b,f){var e=this._relativeTime[b];return"function"==typeof e?e(a,c,b,f):e.replace(/%d/i,a)},pastFuture:function(a,
c){var b=this._relativeTime[0<a?"future":"past"];return"function"==typeof b?b(c):b.replace(/%s/i,c)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(a){return a},postformat:function(a){return a},week:function(a){return ka(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});
J=function(a,c,b,f){var e;return"boolean"==typeof b&&(f=b,b=d),e={},e._isAMomentObject=!0,e._i=a,e._f=c,e._l=b,e._strict=f,e._isUTC=!1,e._pf=k(),Ba(e)};J.suppressDeprecationWarnings=!1;J.createFromInputFallback=q("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});J.min=function(){var a=[].slice.call(arguments,
0);return ba("isBefore",a)};J.max=function(){var a=[].slice.call(arguments,0);return ba("isAfter",a)};J.utc=function(a,c,b,f){var e;return"boolean"==typeof b&&(f=b,b=d),e={},e._isAMomentObject=!0,e._useUTC=!0,e._isUTC=!0,e._l=b,e._i=a,e._f=c,e._strict=f,e._pf=k(),Ba(e).utc()};J.unix=function(a){return J(1E3*a)};J.duration=function(a,c){var b,e,d,l,m=a,h=null;return J.isDuration(a)?m={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(m={},c?m[c]=a:m.milliseconds=a):(h=ga.exec(a))?(b="-"===
h[1]?-1:1,m={y:0,d:D(h[sa])*b,h:D(h[za])*b,m:D(h[Na])*b,s:D(h[Sa])*b,ms:D(h[Aa])*b}):(h=ya.exec(a))?(b="-"===h[1]?-1:1,d=function(a){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*b},m={y:d(h[2]),M:d(h[3]),d:d(h[4]),h:d(h[5]),m:d(h[6]),s:d(h[7]),w:d(h[8])}):null==m?m={}:"object"==typeof m&&("from"in m||"to"in m)&&(l=p(J(m.from),J(m.to)),m={},m.ms=l.milliseconds,m.M=l.months),e=new f(m),J.isDuration(a)&&X.call(a,"_locale")&&(e._locale=a._locale),e};J.version="2.9.0";J.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";
J.ISO_8601=function(){};J.momentProperties=Ta;J.updateOffset=function(){};J.relativeTimeThreshold=function(a,c){return oa[a]===d?!1:c===d?oa[a]:(oa[a]=c,!0)};J.lang=q("moment.lang is deprecated. Use moment.locale instead.",function(a,c){return J.locale(a,c)});J.locale=function(a,c){var b;return a&&(b="undefined"!=typeof c?J.defineLocale(a,c):J.localeData(a),b&&(J.duration._locale=J._locale=b)),J._locale._abbr};J.defineLocale=function(c,b){return null!==b?(b.abbr=c,Ia[c]||(Ia[c]=new a),Ia[c].set(b),
J.locale(c),Ia[c]):(delete Ia[c],null)};J.langData=q("moment.langData is deprecated. Use moment.localeData instead.",function(a){return J.localeData(a)});J.localeData=function(a){var c;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return J._locale;if(!E(a)){if(c=R(a))return c;a=[a]}a:{for(var b,f,e,d=0;d<a.length;){e=N(a[d]).split("-");c=e.length;for(b=(b=N(a[d+1]))?b.split("-"):null;0<c;){if(f=R(e.slice(0,c).join("-"))){a=f;break a}if(b&&b.length>=c&&A(e,b,!0)>=c-1)break;c--}d++}a=null}return a};
J.isMoment=function(a){return a instanceof c||null!=a&&X.call(a,"_isAMomentObject")};J.isDuration=function(a){return a instanceof f};for(va=sb.length-1;0<=va;--va)L(sb[va]);J.normalizeUnits=function(a){return u(a)};J.invalid=function(a){var c=J.utc(0/0);return null!=a?m(c._pf,a):c._pf.userInvalidated=!0,c};J.parseZone=function(){return J.apply(null,arguments).parseZone()};J.parseTwoDigitYear=function(a){return D(a)+(68<D(a)?1900:2E3)};J.isDate=z;m(J.fn=c.prototype,{clone:function(){return J(this)},
valueOf:function(){return+this._d-6E4*(this._offset||0)},unix:function(){return Math.floor(+this/1E3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=J(this).utc();return 0<a.year()&&9999>=a.year()?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():M(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):M(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),
this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){return O(this)},isDSTShifted:function(){return this._a?this.isValid()&&0<A(this._a,(this._isUTC?J.utc(this._a):J(this._a)).toArray()):!1},parsingFlags:function(){return m({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(a){return this.utcOffset(0,a)},local:function(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(this._dateUtcOffset(),"m")),
this},format:function(a){a=M(this,a||J.defaultFormat);return this.localeData().postformat(a)},add:l(1,"add"),subtract:l(-1,"subtract"),diff:function(a,c,b){var f;a=P(a,this);var e=6E4*(a.utcOffset()-this.utcOffset());c=u(c);if("year"===c||"month"===c||"quarter"===c){var d,e=12*(a.year()-this.year())+(a.month()-this.month()),l=this.clone().add(e,"months");a=(0>a-l?(f=this.clone().add(e-1,"months"),d=(a-l)/(l-f)):(f=this.clone().add(e+1,"months"),d=(a-l)/(f-l)),-(e+d));"quarter"===c?a/=3:"year"===c&&
(a/=12)}else f=this-a,a="second"===c?f/1E3:"minute"===c?f/6E4:"hour"===c?f/36E5:"day"===c?(f-e)/864E5:"week"===c?(f-e)/6048E5:f;return b?a:r(a)},from:function(a,c){return J.duration({to:this,from:a}).locale(this.locale()).humanize(!c)},fromNow:function(a){return this.from(J(),a)},calendar:function(a){a=a||J();var c=P(a,this).startOf("day"),c=this.diff(c,"days",!0),c=-6>c?"sameElse":-1>c?"lastWeek":0>c?"lastDay":1>c?"sameDay":2>c?"nextDay":7>c?"nextWeek":"sameElse";return this.format(this.localeData().calendar(c,
this,J(a)))},isLeapYear:function(){return F(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(a){var c=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=a){var b;a:{b=a;var f=this.localeData();if("string"==typeof b)if(isNaN(b)){if(b=f.weekdaysParse(b),"number"!=typeof b){b=null;break a}}else b=parseInt(b,10)}c=(a=b,this.add(a-c,"d"))}return c},month:ha("Month",!0),startOf:function(a){switch(a=
u(a)){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(a){return a=u(a),a===d||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")},isAfter:function(a,c){var b;
return c=u("undefined"!=typeof c?c:"millisecond"),"millisecond"===c?(a=J.isMoment(a)?a:J(a),+this>+a):(b=J.isMoment(a)?+a:+J(a),b<+this.clone().startOf(c))},isBefore:function(a,c){var b;return c=u("undefined"!=typeof c?c:"millisecond"),"millisecond"===c?(a=J.isMoment(a)?a:J(a),+a>+this):(b=J.isMoment(a)?+a:+J(a),+this.clone().endOf(c)<b)},isBetween:function(a,c,b){return this.isAfter(a,b)&&this.isBefore(c,b)},isSame:function(a,c){var b;return c=u(c||"millisecond"),"millisecond"===c?(a=J.isMoment(a)?
a:J(a),+this===+a):(b=+J(a),+this.clone().startOf(c)<=b&&b<=+this.clone().endOf(c))},min:q("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(a){return a=J.apply(null,arguments),this>a?this:a}),max:q("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(a){return a=J.apply(null,arguments),a>this?this:a}),zone:q("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",
function(a,c){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,c),this):-this.utcOffset()}),utcOffset:function(a,c){var b,f=this._offset||0;return null!=a?("string"==typeof a&&(a=T(a)),16>Math.abs(a)&&(a*=60),!this._isUTC&&c&&(b=this._dateUtcOffset()),this._offset=a,this._isUTC=!0,null!=b&&this.add(b,"m"),f!==a&&(!c||this._changeInProgress?x(this,J.duration(a-f,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,J.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?
f:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(T(this._i)),this},hasAlignedHourOffset:function(a){return a=a?J(a).utcOffset():0,0===(this.utcOffset()-a)%60},daysInMonth:function(){return B(this.year(),
this.month())},dayOfYear:function(a){var c=wa((J(this).startOf("day")-J(this).startOf("year"))/864E5)+1;return null==a?c:this.add(a-c,"d")},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var c=ka(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?c:this.add(a-c,"y")},isoWeekYear:function(a){var c=ka(this,1,4).year;return null==a?c:this.add(a-c,"y")},week:function(a){var c=this.localeData().week(this);
return null==a?c:this.add(7*(a-c),"d")},isoWeek:function(a){var c=ka(this,1,4).week;return null==a?c:this.add(7*(a-c),"d")},weekday:function(a){var c=(this.day()+7-this.localeData()._week.dow)%7;return null==a?c:this.add(a-c,"d")},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return G(this.year(),1,4)},weeksInYear:function(){var a=this.localeData()._week;return G(this.year(),a.dow,a.doy)},get:function(a){return a=u(a),this[a]()},set:function(a,
c){var b;if("object"==typeof a)for(b in a)this.set(b,a[b]);else a=u(a),"function"==typeof this[a]&&this[a](c);return this},locale:function(a){var c;return a===d?this._locale._abbr:(c=J.localeData(a),null!=c&&(this._locale=c),this)},lang:q("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return a===d?this.localeData():this.locale(a)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*
-Math.round(this._d.getTimezoneOffset()/15)}});J.fn.millisecond=J.fn.milliseconds=ha("Milliseconds",!1);J.fn.second=J.fn.seconds=ha("Seconds",!1);J.fn.minute=J.fn.minutes=ha("Minutes",!1);J.fn.hour=J.fn.hours=ha("Hours",!0);J.fn.date=ha("Date",!0);J.fn.dates=q("dates accessor is deprecated. Use date instead.",ha("Date",!0));J.fn.year=ha("FullYear",!0);J.fn.years=q("years accessor is deprecated. Use year instead.",ha("FullYear",!0));J.fn.days=J.fn.day;J.fn.months=J.fn.month;J.fn.weeks=J.fn.week;J.fn.isoWeeks=
J.fn.isoWeek;J.fn.quarters=J.fn.quarter;J.fn.toJSON=J.fn.toISOString;J.fn.isUTC=J.fn.isUtc;m(J.duration.fn=f.prototype,{_bubble:function(){var a;a=this._milliseconds;var c=this._days,b=this._months,f=this._data,e=0;f.milliseconds=a%1E3;a=r(a/1E3);f.seconds=a%60;a=r(a/60);f.minutes=a%60;a=r(a/60);f.hours=a%24;c+=r(a/24);e=r(400*c/146097);c-=r(146097*e/400);b+=r(c/30);c%=30;e+=r(b/12);f.days=c;f.months=b%12;f.years=e},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=
Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return r(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+this._months%12*2592E6+31536E6*D(this._months/
12)},humanize:function(a){var c;c=!a;var b=this.localeData(),f=J.duration(this).abs(),e=wa(f.as("s")),d=wa(f.as("m")),l=wa(f.as("h")),m=wa(f.as("d")),h=wa(f.as("M")),f=wa(f.as("y")),e=e<oa.s&&["s",e]||1===d&&["m"]||d<oa.m&&["mm",d]||1===l&&["h"]||l<oa.h&&["hh",l]||1===m&&["d"]||m<oa.d&&["dd",m]||1===h&&["M"]||h<oa.M&&["MM",h]||1===f&&["y"]||["yy",f];c=(e[2]=c,e[3]=0<+this,e[4]=b,aa.apply({},e));return a&&(c=this.localeData().pastFuture(+this,c)),this.localeData().postformat(c)},add:function(a,c){var b=
J.duration(a,c);return this._milliseconds+=b._milliseconds,this._days+=b._days,this._months+=b._months,this._bubble(),this},subtract:function(a,c){var b=J.duration(a,c);return this._milliseconds-=b._milliseconds,this._days-=b._days,this._months-=b._months,this._bubble(),this},get:function(a){return a=u(a),this[a.toLowerCase()+"s"]()},as:function(a){var c,b;if(a=u(a),"month"===a||"year"===a)return c=this._days+this._milliseconds/864E5,b=this._months+400*c/146097*12,"month"===a?b:b/12;switch(c=this._days+
Math.round(this._months/12*146097/400),a){case "week":return c/7+this._milliseconds/6048E5;case "day":return c+this._milliseconds/864E5;case "hour":return 24*c+this._milliseconds/36E5;case "minute":return 1440*c+this._milliseconds/6E4;case "second":return 86400*c+this._milliseconds/1E3;case "millisecond":return Math.floor(864E5*c)+this._milliseconds;default:throw Error("Unknown unit "+a);}},lang:J.fn.lang,locale:J.fn.locale,toIsoString:q("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",
function(){return this.toISOString()}),toISOString:function(){var a=Math.abs(this.years()),c=Math.abs(this.months()),b=Math.abs(this.days()),f=Math.abs(this.hours()),e=Math.abs(this.minutes()),d=Math.abs(this.seconds()+this.milliseconds()/1E3);return this.asSeconds()?(0>this.asSeconds()?"-":"")+"P"+(a?a+"Y":"")+(c?c+"M":"")+(b?b+"D":"")+(f||e||d?"T":"")+(f?f+"H":"")+(e?e+"M":"")+(d?d+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}});J.duration.fn.toString=
J.duration.fn.toISOString;for(va in lb)X.call(lb,va)&&Ha(va.toLowerCase());J.duration.fn.asMilliseconds=function(){return this.as("ms")};J.duration.fn.asSeconds=function(){return this.as("s")};J.duration.fn.asMinutes=function(){return this.as("m")};J.duration.fn.asHours=function(){return this.as("h")};J.duration.fn.asDays=function(){return this.as("d")};J.duration.fn.asWeeks=function(){return this.as("weeks")};J.duration.fn.asMonths=function(){return this.as("M")};J.duration.fn.asYears=function(){return this.as("y")};
J.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var c=a%10,c=1===D(a%100/10)?"th":1===c?"st":2===c?"nd":3===c?"rd":"th";return a+c}});Da?module.exports=J:"function"==typeof define&&define.amd?(define(function(a,c,b){return b.config&&b.config()&&!0===b.config().noGlobal&&(Pa.moment=na),J}),t(!0)):t()}).call(this);
!function(){var d=this,g=d._,k={},h=Array.prototype,q=Object.prototype,e=h.push,b=h.slice,a=h.concat,c=q.toString,f=q.hasOwnProperty,m=h.forEach,v=h.map,r=h.reduce,n=h.reduceRight,w=h.filter,p=h.every,l=h.some,x=h.indexOf,E=h.lastIndexOf,q=Array.isArray,z=Object.keys,A=Function.prototype.bind,u=function(a){return a instanceof u?a:this instanceof u?(this._wrapped=a,void 0):new u(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=u),exports._=u):d._=
u;u.VERSION="1.5.0";var y=u.each=u.forEach=function(a,c,b){if(null!=a)if(m&&a.forEach===m)a.forEach(c,b);else if(a.length===+a.length)for(var f=0,e=a.length;e>f&&c.call(b,a[f],f,a)!==k;f++);else for(f in a)if(u.has(a,f)&&c.call(b,a[f],f,a)===k)break};u.map=u.collect=function(a,c,b){var f=[];return null==a?f:v&&a.map===v?a.map(c,b):(y(a,function(a,e,d){f.push(c.call(b,a,e,d))}),f)};u.reduce=u.foldl=u.inject=function(a,c,b,f){var e=2<arguments.length;if(null==a&&(a=[]),r&&a.reduce===r)return f&&(c=
u.bind(c,f)),e?a.reduce(c,b):a.reduce(c);if(y(a,function(a,d,l){e?b=c.call(f,b,a,d,l):(b=a,e=!0)}),!e)throw new TypeError("Reduce of empty array with no initial value");return b};u.reduceRight=u.foldr=function(a,c,b,f){var e=2<arguments.length;if(null==a&&(a=[]),n&&a.reduceRight===n)return f&&(c=u.bind(c,f)),e?a.reduceRight(c,b):a.reduceRight(c);var d=a.length;if(d!==+d)var l=u.keys(a),d=l.length;if(y(a,function(m,h,p){h=l?l[--d]:--d;e?b=c.call(f,b,a[h],h,p):(b=a[h],e=!0)}),!e)throw new TypeError("Reduce of empty array with no initial value");
return b};u.find=u.detect=function(a,c,b){var f;return L(a,function(a,e,d){return c.call(b,a,e,d)?(f=a,!0):void 0}),f};u.filter=u.select=function(a,c,b){var f=[];return null==a?f:w&&a.filter===w?a.filter(c,b):(y(a,function(a,e,d){c.call(b,a,e,d)&&f.push(a)}),f)};u.reject=function(a,c,b){return u.filter(a,function(a,f,e){return!c.call(b,a,f,e)},b)};u.every=u.all=function(a,c,b){c||(c=u.identity);var f=!0;return null==a?f:p&&a.every===p?a.every(c,b):(y(a,function(a,e,d){return(f=f&&c.call(b,a,e,d))?
void 0:k}),!!f)};var L=u.some=u.any=function(a,c,b){c||(c=u.identity);var f=!1;return null==a?f:l&&a.some===l?a.some(c,b):(y(a,function(a,e,d){return f||(f=c.call(b,a,e,d))?k:void 0}),!!f)};u.contains=u.include=function(a,c){return null==a?!1:x&&a.indexOf===x?-1!=a.indexOf(c):L(a,function(a){return a===c})};u.invoke=function(a,c){var f=b.call(arguments,2),e=u.isFunction(c);return u.map(a,function(a){return(e?c:a[c]).apply(a,f)})};u.pluck=function(a,c){return u.map(a,function(a){return a[c]})};u.where=
function(a,c,b){return u.isEmpty(c)?b?void 0:[]:u[b?"find":"filter"](a,function(a){for(var b in c)if(c[b]!==a[b])return!1;return!0})};u.findWhere=function(a,c){return u.where(a,c,!0)};u.max=function(a,c,b){if(!c&&u.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);if(!c&&u.isEmpty(a))return-1/0;var f={computed:-1/0,value:-1/0};return y(a,function(a,e,d){e=c?c.call(b,a,e,d):a;e>f.computed&&(f={value:a,computed:e})}),f.value};u.min=function(a,c,b){if(!c&&u.isArray(a)&&a[0]===+a[0]&&
65535>a.length)return Math.min.apply(Math,a);if(!c&&u.isEmpty(a))return 1/0;var f={computed:1/0,value:1/0};return y(a,function(a,e,d){e=c?c.call(b,a,e,d):a;e<f.computed&&(f={value:a,computed:e})}),f.value};u.shuffle=function(a){var c,b=0,f=[];return y(a,function(a){c=u.random(b++);f[b-1]=f[c];f[c]=a}),f};var D=function(a){return u.isFunction(a)?a:function(c){return c[a]}};u.sortBy=function(a,c,b){var f=D(c);return u.pluck(u.map(a,function(a,c,e){return{value:a,index:c,criteria:f.call(b,a,c,e)}}).sort(function(a,
c){var b=a.criteria,f=c.criteria;if(b!==f){if(b>f||void 0===b)return 1;if(f>b||void 0===f)return-1}return a.index<c.index?-1:1}),"value")};var B=function(a,c,b,f){var e={},d=D(null==c?u.identity:c);return y(a,function(c,l){var m=d.call(b,c,l,a);f(e,m,c)}),e};u.groupBy=function(a,c,b){return B(a,c,b,function(a,c,b){(u.has(a,c)?a[c]:a[c]=[]).push(b)})};u.countBy=function(a,c,b){return B(a,c,b,function(a,c){u.has(a,c)||(a[c]=0);a[c]++})};u.sortedIndex=function(a,c,b,f){b=null==b?u.identity:D(b);c=b.call(f,
c);for(var e=0,d=a.length;d>e;){var l=e+d>>>1;b.call(f,a[l])<c?e=l+1:d=l}return e};u.toArray=function(a){return a?u.isArray(a)?b.call(a):a.length===+a.length?u.map(a,u.identity):u.values(a):[]};u.size=function(a){return null==a?0:a.length===+a.length?a.length:u.keys(a).length};u.first=u.head=u.take=function(a,c,f){return null==a?void 0:null==c||f?a[0]:b.call(a,0,c)};u.initial=function(a,c,f){return b.call(a,0,a.length-(null==c||f?1:c))};u.last=function(a,c,f){return null==a?void 0:null==c||f?a[a.length-
1]:b.call(a,Math.max(a.length-c,0))};u.rest=u.tail=u.drop=function(a,c,f){return b.call(a,null==c||f?1:c)};u.compact=function(a){return u.filter(a,u.identity)};var G=function(c,b,f){return b&&u.every(c,u.isArray)?a.apply(f,c):(y(c,function(a){u.isArray(a)||u.isArguments(a)?b?e.apply(f,a):G(a,b,f):f.push(a)}),f)};u.flatten=function(a,c){return G(a,c,[])};u.without=function(a){return u.difference(a,b.call(arguments,1))};u.uniq=u.unique=function(a,c,b,f){u.isFunction(c)&&(f=b,b=c,c=!1);b=b?u.map(a,b,
f):a;var e=[],d=[];return y(b,function(b,f){(c?f&&d[d.length-1]===b:u.contains(d,b))||(d.push(b),e.push(a[f]))}),e};u.union=function(){return u.uniq(u.flatten(arguments,!0))};u.intersection=function(a){var c=b.call(arguments,1);return u.filter(u.uniq(a),function(a){return u.every(c,function(c){return 0<=u.indexOf(c,a)})})};u.difference=function(c){var f=a.apply(h,b.call(arguments,1));return u.filter(c,function(a){return!u.contains(f,a)})};u.zip=function(){return u.unzip.apply(u,b.call(arguments))};
u.unzip=function(){for(var a=u.max(u.pluck(arguments,"length").concat(0)),c=Array(a),b=0;a>b;b++)c[b]=u.pluck(arguments,""+b);return c};u.object=function(a,c){if(null==a)return{};for(var b={},f=0,e=a.length;e>f;f++)c?b[a[f]]=c[f]:b[a[f][0]]=a[f][1];return b};u.indexOf=function(a,c,b){if(null==a)return-1;var f=0,e=a.length;if(b){if("number"!=typeof b)return f=u.sortedIndex(a,c),a[f]===c?f:-1;f=0>b?Math.max(0,e+b):b}if(x&&a.indexOf===x)return a.indexOf(c,b);for(;e>f;f++)if(a[f]===c)return f;return-1};
u.lastIndexOf=function(a,c,b){if(null==a)return-1;var f=null!=b;if(E&&a.lastIndexOf===E)return f?a.lastIndexOf(c,b):a.lastIndexOf(c);for(b=f?b:a.length;b--;)if(a[b]===c)return b;return-1};u.range=function(a,c,b){1>=arguments.length&&(c=a||0,a=0);b=arguments[2]||1;for(var f=Math.max(Math.ceil((c-a)/b),0),e=0,d=Array(f);f>e;)d[e++]=a,a+=b;return d};var F=function(){};u.bind=function(a,c){var f,e;if(A&&a.bind===A)return A.apply(a,b.call(arguments,1));if(!u.isFunction(a))throw new TypeError;return f=
b.call(arguments,2),e=function(){if(!(this instanceof e))return a.apply(c,f.concat(b.call(arguments)));F.prototype=a.prototype;var d=new F;F.prototype=null;var l=a.apply(d,f.concat(b.call(arguments)));return Object(l)===l?l:d}};u.partial=function(a){var c=b.call(arguments,1);return function(){return a.apply(this,c.concat(b.call(arguments)))}};u.bindAll=function(a){var c=b.call(arguments,1);if(0===c.length)throw Error("bindAll must be passed function names");return y(c,function(c){a[c]=u.bind(a[c],
a)}),a};u.memoize=function(a,c){var b={};return c||(c=u.identity),function(){var f=c.apply(this,arguments);return u.has(b,f)?b[f]:b[f]=a.apply(this,arguments)}};u.delay=function(a,c){var f=b.call(arguments,2);return setTimeout(function(){return a.apply(null,f)},c)};u.defer=function(a){return u.delay.apply(u,[a,1].concat(b.call(arguments,1)))};u.throttle=function(a,c,b){var f,e,d,l=null,m=0;b||(b={});var h=function(){m=new Date;l=null;d=a.apply(f,e)};return function(){var p=new Date;m||!1!==b.leading||
(m=p);var n=c-(p-m);return f=this,e=arguments,0>=n?(clearTimeout(l),l=null,m=p,d=a.apply(f,e)):l||!1===b.trailing||(l=setTimeout(h,n)),d}};u.debounce=function(a,c,b){var f,e=null;return function(){var d=this,l=arguments,m=b&&!e;return clearTimeout(e),e=setTimeout(function(){e=null;b||(f=a.apply(d,l))},c),m&&(f=a.apply(d,l)),f}};u.once=function(a){var c,b=!1;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}};u.wrap=function(a,c){return function(){var b=[a];return e.apply(b,arguments),
c.apply(this,b)}};u.compose=function(){var a=arguments;return function(){for(var c=arguments,b=a.length-1;0<=b;b--)c=[a[b].apply(this,c)];return c[0]}};u.after=function(a,c){return function(){return 1>--a?c.apply(this,arguments):void 0}};u.keys=z||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var c=[],b;for(b in a)u.has(a,b)&&c.push(b);return c};u.values=function(a){var c=[],b;for(b in a)u.has(a,b)&&c.push(a[b]);return c};u.pairs=function(a){var c=[],b;for(b in a)u.has(a,b)&&
c.push([b,a[b]]);return c};u.invert=function(a){var c={},b;for(b in a)u.has(a,b)&&(c[a[b]]=b);return c};u.functions=u.methods=function(a){var c=[],b;for(b in a)u.isFunction(a[b])&&c.push(b);return c.sort()};u.extend=function(a){return y(b.call(arguments,1),function(c){if(c)for(var b in c)a[b]=c[b]}),a};u.pick=function(c){var f={},e=a.apply(h,b.call(arguments,1));return y(e,function(a){a in c&&(f[a]=c[a])}),f};u.omit=function(c){var f={},e=a.apply(h,b.call(arguments,1)),d;for(d in c)u.contains(e,d)||
(f[d]=c[d]);return f};u.defaults=function(a){return y(b.call(arguments,1),function(c){if(c)for(var b in c)void 0===a[b]&&(a[b]=c[b])}),a};u.clone=function(a){return u.isObject(a)?u.isArray(a)?a.slice():u.extend({},a):a};u.tap=function(a,c){return c(a),a};var I=function(a,b,f,e){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof u&&(a=a._wrapped);b instanceof u&&(b=b._wrapped);var d=c.call(a);if(d!=c.call(b))return!1;switch(d){case "[object String]":return a==String(b);case "[object Number]":return a!=
+a?b!=+b:0==a?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a==+b;case "[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var l=f.length;l--;)if(f[l]==a)return e[l]==b;var l=a.constructor,m=b.constructor;if(l!==m&&!(u.isFunction(l)&&l instanceof l&&u.isFunction(m)&&m instanceof m))return!1;f.push(a);e.push(b);l=0;m=!0;if("[object Array]"==d){if(l=a.length,
m=l==b.length)for(;l--&&(m=I(a[l],b[l],f,e)););}else{for(var h in a)if(u.has(a,h)&&(l++,!(m=u.has(b,h)&&I(a[h],b[h],f,e))))break;if(m){for(h in b)if(u.has(b,h)&&!l--)break;m=!l}}return f.pop(),e.pop(),m};u.isEqual=function(a,c){return I(a,c,[],[])};u.isEmpty=function(a){if(null==a)return!0;if(u.isArray(a)||u.isString(a))return 0===a.length;for(var c in a)if(u.has(a,c))return!1;return!0};u.isElement=function(a){return!(!a||1!==a.nodeType)};u.isArray=q||function(a){return"[object Array]"==c.call(a)};
u.isObject=function(a){return a===Object(a)};y("Arguments Function String Number Date RegExp".split(" "),function(a){u["is"+a]=function(b){return c.call(b)=="[object "+a+"]"}});u.isArguments(arguments)||(u.isArguments=function(a){return!(!a||!u.has(a,"callee"))});"function"!=typeof/./&&(u.isFunction=function(a){return"function"==typeof a});u.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};u.isNaN=function(a){return u.isNumber(a)&&a!=+a};u.isBoolean=function(a){return!0===a||!1===a||
"[object Boolean]"==c.call(a)};u.isNull=function(a){return null===a};u.isUndefined=function(a){return void 0===a};u.has=function(a,c){return f.call(a,c)};u.noConflict=function(){return d._=g,this};u.identity=function(a){return a};u.times=function(a,c,b){for(var f=Array(Math.max(0,a)),e=0;a>e;e++)f[e]=c.call(b,e);return f};u.random=function(a,c){return null==c&&(c=a,a=0),a+Math.floor(Math.random()*(c-a+1))};var O={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};O.unescape=
u.invert(O.escape);var N={escape:new RegExp("["+u.keys(O.escape).join("")+"]","g"),unescape:new RegExp("("+u.keys(O.unescape).join("|")+")","g")};u.each(["escape","unescape"],function(a){u[a]=function(c){return null==c?"":(""+c).replace(N[a],function(c){return O[a][c]})}});u.result=function(a,c){if(null!=a){var b=a[c];return u.isFunction(b)?b.call(a):b}};u.mixin=function(a){y(u.functions(a),function(c){var b=u[c]=a[c];u.prototype[c]=function(){var a=[this._wrapped];return e.apply(a,arguments),M.call(this,
b.apply(u,a))}})};var R=0;u.uniqueId=function(a){var c=++R+"";return a?a+c:c};u.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},S=/\\|'|\r|\n|\t|\u2028|\u2029/g;u.template=function(a,c,b){var f;b=u.defaults({},b,u.templateSettings);var e=new RegExp([(b.escape||P).source,(b.interpolate||P).source,(b.evaluate||P).source].join("|")+"|$","g"),d=0,l="__p+='";
a.replace(e,function(c,b,f,e,m){return l+=a.slice(d,m).replace(S,function(a){return"\\"+K[a]}),b&&(l+="'+\n((__t=("+b+"))==null?'':_.escape(__t))+\n'"),f&&(l+="'+\n((__t=("+f+"))==null?'':__t)+\n'"),e&&(l+="';\n"+e+"\n__p+='"),d=m+c.length,c});l+="';\n";b.variable||(l="with(obj||{}){\n"+l+"}\n");l="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+l+"return __p;\n";try{f=new Function(b.variable||"obj","_",l)}catch(m){throw m.source=l,m;}if(c)return f(c,u);
c=function(a){return f.call(this,a,u)};return c.source="function("+(b.variable||"obj")+"){\n"+l+"}",c};u.chain=function(a){return u(a).chain()};var M=function(a){return this._chain?u(a).chain():a};u.mixin(u);y("pop push reverse shift sort splice unshift".split(" "),function(a){var c=h[a];u.prototype[a]=function(){var b=this._wrapped;return c.apply(b,arguments),"shift"!=a&&"splice"!=a||0!==b.length||delete b[0],M.call(this,b)}});y(["concat","join","slice"],function(a){var c=h[a];u.prototype[a]=function(){return M.call(this,
c.apply(this._wrapped,arguments))}});u.extend(u.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this);
(function(d,g){function k(a){var c=a.length,b=t.type(a);return t.isWindow(a)?!1:1===a.nodeType&&c?!0:"array"===b||"function"!==b&&(0===c||"number"==typeof c&&0<c&&c-1 in a)}function h(a){var c=Ta[a]={};return t.each(a.match(na)||[],function(a,b){c[b]=!0}),c}function q(a,c,b,f){if(t.acceptData(a)){var e,d,l=t.expando,m=a.nodeType,h=m?t.cache:a,p=m?a[l]:a[l]&&l;if(p&&h[p]&&(f||h[p].data)||b!==g||"string"!=typeof c)return p||(p=m?a[l]=ka.pop()||t.guid++:l),h[p]||(h[p]=m?{}:{toJSON:t.noop}),("object"==
typeof c||"function"==typeof c)&&(f?h[p]=t.extend(h[p],c):h[p].data=t.extend(h[p].data,c)),d=h[p],f||(d.data||(d.data={}),d=d.data),b!==g&&(d[t.camelCase(c)]=b),"string"==typeof c?(e=d[c],null==e&&(e=d[t.camelCase(c)])):e=d,e}}function e(c,b,f){if(t.acceptData(c)){var e,d,l=c.nodeType,m=l?t.cache:c,h=l?c[t.expando]:t.expando;if(m[h]){if(b&&(e=f?m[h]:m[h].data)){t.isArray(b)?b=b.concat(t.map(b,t.camelCase)):b in e?b=[b]:(b=t.camelCase(b),b=b in e?[b]:b.split(" "));for(d=b.length;d--;)delete e[b[d]];
if(f?!a(e):!t.isEmptyObject(e))return}(f||(delete m[h].data,a(m[h])))&&(l?t.cleanData([c],!0):t.support.deleteExpando||m!=m.window?delete m[h]:m[h]=null)}}}function b(a,c,b){if(b===g&&1===a.nodeType){var f="data-"+c.replace(Ma,"-$1").toLowerCase();if(b=a.getAttribute(f),"string"==typeof b){try{b="true"===b?!0:"false"===b?!1:"null"===b?null:+b+""===b?+b:Da.test(b)?t.parseJSON(b):b}catch(e){}t.data(a,c,b)}else b=g}return b}function a(a){for(var c in a)if(("data"!==c||!t.isEmptyObject(a[c]))&&"toJSON"!==
c)return!1;return!0}function c(){return!0}function f(){return!1}function m(){try{return Q.activeElement}catch(a){}}function v(a,c){do a=a[c];while(a&&1!==a.nodeType);return a}function r(a,c,b){if(t.isFunction(c))return t.grep(a,function(a,f){return!!c.call(a,f,a)!==b});if(c.nodeType)return t.grep(a,function(a){return a===c!==b});if("string"==typeof c){if(ob.test(c))return t.filter(c,a,b);c=t.filter(c,a)}return t.grep(a,function(a){return 0<=t.inArray(a,c)!==b})}function n(a){var c=pb.split("|");a=
a.createDocumentFragment();if(a.createElement)for(;c.length;)a.createElement(c.pop());return a}function w(a,c){return t.nodeName(a,"table")&&t.nodeName(1===c.nodeType?c:c.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function p(a){return a.type=(null!==t.find.attr(a,"type"))+"/"+a.type,a}function l(a){var c=gb.exec(a.type);return c?a.type=c[1]:a.removeAttribute("type"),a}function x(a,c){for(var b,f=0;null!=(b=a[f]);f++)t._data(b,"globalEval",
!c||t._data(c[f],"globalEval"))}function E(a,c){if(1===c.nodeType&&t.hasData(a)){var b,f,e;f=t._data(a);var d=t._data(c,f),l=f.events;if(l)for(b in delete d.handle,d.events={},l)for(f=0,e=l[b].length;e>f;f++)t.event.add(c,b,l[b][f]);d.data&&(d.data=t.extend({},d.data))}}function z(a,c){var b,f,e=0,d=typeof a.getElementsByTagName!==ca?a.getElementsByTagName(c||"*"):typeof a.querySelectorAll!==ca?a.querySelectorAll(c||"*"):g;if(!d)for(d=[],b=a.childNodes||a;null!=(f=b[e]);e++)!c||t.nodeName(f,c)?d.push(f):
t.merge(d,z(f,c));return c===g||c&&t.nodeName(a,c)?t.merge([a],d):d}function A(a){ta.test(a.type)&&(a.defaultChecked=a.checked)}function u(a,c){if(c in a)return c;for(var b=c.charAt(0).toUpperCase()+c.slice(1),f=c,e=Rb.length;e--;)if(c=Rb[e]+b,c in a)return c;return f}function y(a,c){return a=c||a,"none"===t.css(a,"display")||!t.contains(a.ownerDocument,a)}function L(a,c){for(var b,f,e,d=[],l=0,m=a.length;m>l;l++)f=a[l],f.style&&(d[l]=t._data(f,"olddisplay"),b=f.style.display,c?(d[l]||"none"!==b||
(f.style.display=""),""===f.style.display&&y(f)&&(d[l]=t._data(f,"olddisplay",F(f.nodeName)))):d[l]||(e=y(f),(b&&"none"!==b||!e)&&t._data(f,"olddisplay",e?b:t.css(f,"display"))));for(l=0;m>l;l++)f=a[l],f.style&&(c&&"none"!==f.style.display&&""!==f.style.display||(f.style.display=c?d[l]||"":"none"));return a}function D(a,c,b){return(a=La.exec(c))?Math.max(0,a[1]-(b||0))+(a[2]||"px"):c}function B(a,c,b,f,e){c=b===(f?"border":"content")?4:"width"===c?1:0;for(var d=0;4>c;c+=2)"margin"===b&&(d+=t.css(a,
b+xb[c],!0,e)),f?("content"===b&&(d-=t.css(a,"padding"+xb[c],!0,e)),"margin"!==b&&(d-=t.css(a,"border"+xb[c]+"Width",!0,e))):(d+=t.css(a,"padding"+xb[c],!0,e),"padding"!==b&&(d+=t.css(a,"border"+xb[c]+"Width",!0,e)));return d}function G(a,c,b){var f=!0,e="width"===c?a.offsetWidth:a.offsetHeight,d=hb(a),l=t.support.boxSizing&&"border-box"===t.css(a,"boxSizing",!1,d);if(0>=e||null==e){if(e=Ya(a,c,d),(0>e||null==e)&&(e=a.style[c]),vb.test(e))return e;f=l&&(t.support.boxSizingReliable||e===a.style[c]);
e=parseFloat(e)||0}return e+B(a,c,b||(l?"border":"content"),f,d)+"px"}function F(a){var c=Q,b=Jb[a];return b||(b=I(a,c),"none"!==b&&b||(Za=(Za||t("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(c.documentElement),c=(Za[0].contentWindow||Za[0].contentDocument).document,c.write("<!doctype html><html><body>"),c.close(),b=I(a,c),Za.detach()),Jb[a]=b),b}function I(a,c){var b=t(c.createElement(a)).appendTo(c.body),f=t.css(b[0],"display");return b.remove(),
f}function O(a,c,b,f){var e;if(t.isArray(c))t.each(c,function(c,e){b||Wb.test(a)?f(a,e):O(a+"["+("object"==typeof e?c:"")+"]",e,b,f)});else if(b||"object"!==t.type(c))f(a,c);else for(e in c)O(a+"["+e+"]",c[e],b,f)}function N(a){return function(c,b){"string"!=typeof c&&(b=c,c="*");var f,e=0,d=c.toLowerCase().match(na)||[];if(t.isFunction(b))for(;f=d[e++];)"+"===f[0]?(f=f.slice(1)||"*",(a[f]=a[f]||[]).unshift(b)):(a[f]=a[f]||[]).push(b)}}function R(a,c,b,f){function e(m){var h;return d[m]=!0,t.each(a[m]||
[],function(a,m){var p=m(c,b,f);return"string"!=typeof p||l||d[p]?l?!(h=p):g:(c.dataTypes.unshift(p),e(p),!1)}),h}var d={},l=a===yb;return e(c.dataTypes[0])||!d["*"]&&e("*")}function P(a,c){var b,f,e=t.ajaxSettings.flatOptions||{};for(f in c)c[f]!==g&&((e[f]?a:b||(b={}))[f]=c[f]);return b&&t.extend(!0,a,b),a}function K(){try{return new d.XMLHttpRequest}catch(a){}}function S(){return setTimeout(function(){Bb=g}),Bb=t.now()}function M(a,c,b){for(var f,e=(Fb[c]||[]).concat(Fb["*"]),d=0,l=e.length;l>
d;d++)if(f=e[d].call(b,c,a))return f}function C(a,c,b){var f,e=0,d=Lb.length,l=t.Deferred().always(function(){delete m.elem}),m=function(){if(f)return!1;for(var c=Bb||S(),c=Math.max(0,h.startTime+h.duration-c),b=1-(c/h.duration||0),e=0,d=h.tweens.length;d>e;e++)h.tweens[e].run(b);return l.notifyWith(a,[h,b,c]),1>b&&d?c:(l.resolveWith(a,[h]),!1)},h=l.promise({elem:a,props:t.extend({},c),opts:t.extend(!0,{specialEasing:{}},b),originalProperties:c,originalOptions:b,startTime:Bb||S(),duration:b.duration,
tweens:[],createTween:function(c,b){var f=t.Tween(a,h.opts,c,b,h.opts.specialEasing[c]||h.opts.easing);return h.tweens.push(f),f},stop:function(c){var b=0,e=c?h.tweens.length:0;if(f)return this;for(f=!0;e>b;b++)h.tweens[b].run(1);return c?l.resolveWith(a,[h,c]):l.rejectWith(a,[h,c]),this}});b=h.props;for(H(b,h.opts.specialEasing);d>e;e++)if(c=Lb[e].call(h,a,b,h.opts))return c;return t.map(b,M,h),t.isFunction(h.opts.start)&&h.opts.start.call(a,h),t.fx.timer(t.extend(m,{elem:a,anim:h,queue:h.opts.queue})),
h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function H(a,c){var b,f,e,d,l;for(b in a)if(f=t.camelCase(b),e=c[f],d=a[b],t.isArray(d)&&(e=d[1],d=a[b]=d[0]),b!==f&&(a[f]=d,delete a[b]),l=t.cssHooks[f],l&&"expand"in l)for(b in d=l.expand(d),delete a[f],d)b in a||(a[b]=d[b],c[b]=e);else c[f]=e}function T(a,c,b,f,e){return new T.prototype.init(a,c,b,f,e)}function V(a,c){var b,f={height:a},e=0;for(c=c?1:0;4>e;e+=2-c)b=xb[e],f["margin"+b]=f["padding"+
b]=a;return c&&(f.opacity=f.width=a),f}function W(a){return t.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var Y,U,ca=typeof g,la=d.location,Q=d.document,Z=Q.documentElement,ua=d.jQuery,da=d.$,aa={},ka=[],Ba=ka.concat,ba=ka.push,pa=ka.slice,Ja=ka.indexOf,ma=aa.toString,ha=aa.hasOwnProperty,Ha="1.10.2".trim,t=function(a,c){return new t.fn.init(a,c,U)},J=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,na=/\S+/g,va=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Pa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,
wa=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,X=/^[\],:{}\s]*$/,ia=/(?:^|:|,)(?:\s*\[)+/g,qa=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,sa=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,za=/^-ms-/,Na=/-([\da-z])/gi,Sa=function(a,c){return c.toUpperCase()},Aa=function(a){(Q.addEventListener||"load"===a.type||"complete"===Q.readyState)&&(Ia(),t.ready())},Ia=function(){Q.addEventListener?(Q.removeEventListener("DOMContentLoaded",Aa,!1),d.removeEventListener("load",Aa,!1)):(Q.detachEvent("onreadystatechange",
Aa),d.detachEvent("onload",Aa))};t.fn=t.prototype={jquery:"1.10.2",constructor:t,init:function(a,c,b){var f,e;if(!a)return this;if("string"==typeof a){if(f="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:Pa.exec(a),!f||!f[1]&&c)return!c||c.jquery?(c||b).find(a):this.constructor(c).find(a);if(f[1]){if(c=c instanceof t?c[0]:c,t.merge(this,t.parseHTML(f[1],c&&c.nodeType?c.ownerDocument||c:Q,!0)),wa.test(f[1])&&t.isPlainObject(c))for(f in c)t.isFunction(this[f])?this[f](c[f]):
this.attr(f,c[f]);return this}if(e=Q.getElementById(f[2]),e&&e.parentNode){if(e.id!==f[2])return b.find(a);this.length=1;this[0]=e}return this.context=Q,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):t.isFunction(a)?b.ready(a):(a.selector!==g&&(this.selector=a.selector,this.context=a.context),t.makeArray(a,this))},selector:"",length:0,toArray:function(){return pa.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){a=
t.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,a},each:function(a,c){return t.each(this,a,c)},ready:function(a){return t.ready.promise().done(a),this},slice:function(){return this.pushStack(pa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var c=this.length;a=+a+(0>a?c:0);return this.pushStack(0<=a&&c>a?[this[a]]:[])},map:function(a){return this.pushStack(t.map(this,function(c,b){return a.call(c,b,c)}))},
end:function(){return this.prevObject||this.constructor(null)},push:ba,sort:[].sort,splice:[].splice};t.fn.init.prototype=t.fn;t.extend=t.fn.extend=function(){var a,c,b,f,e,d,l=arguments[0]||{},m=1,h=arguments.length,p=!1;"boolean"==typeof l&&(p=l,l=arguments[1]||{},m=2);"object"==typeof l||t.isFunction(l)||(l={});for(h===m&&(l=this,--m);h>m;m++)if(null!=(e=arguments[m]))for(f in e)a=l[f],b=e[f],l!==b&&(p&&b&&(t.isPlainObject(b)||(c=t.isArray(b)))?(c?(c=!1,d=a&&t.isArray(a)?a:[]):d=a&&t.isPlainObject(a)?
a:{},l[f]=t.extend(p,d,b)):b!==g&&(l[f]=b));return l};t.extend({expando:"jQuery"+("1.10.2"+Math.random()).replace(/\D/g,""),noConflict:function(a){return d.$===t&&(d.$=da),a&&d.jQuery===t&&(d.jQuery=ua),t},isReady:!1,readyWait:1,holdReady:function(a){a?t.readyWait++:t.ready(!0)},ready:function(a){if(!0===a?!--t.readyWait:!t.isReady){if(!Q.body)return setTimeout(t.ready);t.isReady=!0;!0!==a&&0<--t.readyWait||(Y.resolveWith(Q,[t]),t.fn.trigger&&t(Q).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===
t.type(a)},isArray:Array.isArray||function(a){return"array"===t.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?aa[ma.call(a)]||"object":typeof a},isPlainObject:function(a){var c;if(!a||"object"!==t.type(a)||a.nodeType||t.isWindow(a))return!1;try{if(a.constructor&&!ha.call(a,"constructor")&&!ha.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}if(t.support.ownLast)for(c in a)return ha.call(a,
c);for(c in a);return c===g||ha.call(a,c)},isEmptyObject:function(a){for(var c in a)return!1;return!0},error:function(a){throw Error(a);},parseHTML:function(a,c,b){if(!a||"string"!=typeof a)return null;"boolean"==typeof c&&(b=c,c=!1);c=c||Q;var f=wa.exec(a);b=!b&&[];return f?[c.createElement(f[1])]:(f=t.buildFragment([a],c,b),b&&t(b).remove(),t.merge([],f.childNodes))},parseJSON:function(a){return d.JSON&&d.JSON.parse?d.JSON.parse(a):null===a?a:"string"==typeof a&&(a=t.trim(a),a&&X.test(a.replace(qa,
"@").replace(sa,"]").replace(ia,"")))?Function("return "+a)():(t.error("Invalid JSON: "+a),g)},parseXML:function(a){var c,b;if(!a||"string"!=typeof a)return null;try{d.DOMParser?(b=new DOMParser,c=b.parseFromString(a,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(a))}catch(f){c=g}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||t.error("Invalid XML: "+a),c},noop:function(){},globalEval:function(a){a&&t.trim(a)&&(d.execScript||function(a){d.eval.call(d,
a)})(a)},camelCase:function(a){return a.replace(za,"ms-").replace(Na,Sa)},nodeName:function(a,c){return a.nodeName&&a.nodeName.toLowerCase()===c.toLowerCase()},each:function(a,c,b){var f,e=0,d=a.length,l=k(a);if(b)if(l)for(;d>e&&(f=c.apply(a[e],b),!1!==f);e++);else for(e in a){if(f=c.apply(a[e],b),!1===f)break}else if(l)for(;d>e&&(f=c.call(a[e],e,a[e]),!1!==f);e++);else for(e in a)if(f=c.call(a[e],e,a[e]),!1===f)break;return a},trim:Ha&&!Ha.call("\ufeff\u00a0")?function(a){return null==a?"":Ha.call(a)}:
function(a){return null==a?"":(a+"").replace(va,"")},makeArray:function(a,c){var b=c||[];return null!=a&&(k(Object(a))?t.merge(b,"string"==typeof a?[a]:a):ba.call(b,a)),b},inArray:function(a,c,b){var f;if(c){if(Ja)return Ja.call(c,a,b);f=c.length;for(b=b?0>b?Math.max(0,f+b):b:0;f>b;b++)if(b in c&&c[b]===a)return b}return-1},merge:function(a,c){var b=c.length,f=a.length,e=0;if("number"==typeof b)for(;b>e;e++)a[f++]=c[e];else for(;c[e]!==g;)a[f++]=c[e++];return a.length=f,a},grep:function(a,c,b){var f,
e=[],d=0,l=a.length;for(b=!!b;l>d;d++)f=!!c(a[d],d),b!==f&&e.push(a[d]);return e},map:function(a,c,b){var f,e=0,d=a.length,l=[];if(k(a))for(;d>e;e++)f=c(a[e],e,b),null!=f&&(l[l.length]=f);else for(e in a)f=c(a[e],e,b),null!=f&&(l[l.length]=f);return Ba.apply([],l)},guid:1,proxy:function(a,c){var b,f,e;return"string"==typeof c&&(e=a[c],c=a,a=e),t.isFunction(a)?(b=pa.call(arguments,2),f=function(){return a.apply(c||this,b.concat(pa.call(arguments)))},f.guid=a.guid=a.guid||t.guid++,f):g},access:function(a,
c,b,f,e,d,l){var m=0,h=a.length,p=null==b;if("object"===t.type(b))for(m in e=!0,b)t.access(a,c,m,b[m],!0,d,l);else if(f!==g&&(e=!0,t.isFunction(f)||(l=!0),p&&(l?(c.call(a,f),c=null):(p=c,c=function(a,c,b){return p.call(t(a),b)})),c))for(;h>m;m++)c(a[m],b,l?f:f.call(a[m],m,c(a[m],b)));return e?a:p?c.call(a):h?c(a[0],b):d},now:function(){return(new Date).getTime()},swap:function(a,c,b,f){var e,d={};for(e in c)d[e]=a.style[e],a.style[e]=c[e];b=b.apply(a,f||[]);for(e in c)a.style[e]=d[e];return b}});
t.ready.promise=function(a){if(!Y)if(Y=t.Deferred(),"complete"===Q.readyState)setTimeout(t.ready);else if(Q.addEventListener)Q.addEventListener("DOMContentLoaded",Aa,!1),d.addEventListener("load",Aa,!1);else{Q.attachEvent("onreadystatechange",Aa);d.attachEvent("onload",Aa);var c=!1;try{c=null==d.frameElement&&Q.documentElement}catch(b){}c&&c.doScroll&&function Vb(){if(!t.isReady){try{c.doScroll("left")}catch(a){return setTimeout(Vb,50)}Ia();t.ready()}}()}return Y.promise(a)};t.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
function(a,c){aa["[object "+c+"]"]=c.toLowerCase()});U=t(Q);(function(a,c){function b(a,c,f,e){var d,l,m,h,p;if((c?c.ownerDocument||c:C)!==L&&B(c),c=c||L,f=f||[],!a||"string"!=typeof a)return f;if(1!==(h=c.nodeType)&&9!==h)return[];if(ta&&!e){if(d=ya.exec(a))if(m=d[1])if(9===h){if(l=c.getElementById(m),!l||!l.parentNode)return f;if(l.id===m)return f.push(l),f}else{if(c.ownerDocument&&(l=c.ownerDocument.getElementById(m))&&O(c,l)&&l.id===m)return f.push(l),f}else{if(d[2])return N.apply(f,c.getElementsByTagName(a)),
f;if((m=d[3])&&A.getElementsByClassName&&c.getElementsByClassName)return N.apply(f,c.getElementsByClassName(m)),f}if(A.qsa&&(!ra||!ra.test(a))){if(l=d=oa,m=c,p=9===h&&a,1===h&&"object"!==c.nodeName.toLowerCase()){h=v(a);(d=c.getAttribute("id"))?l=d.replace(aa,"\\$&"):c.setAttribute("id",l);l="[id='"+l+"'] ";for(m=h.length;m--;)h[m]=l+w(h[m]);m=yb.test(a)&&c.parentNode||c;p=h.join(",")}if(p)try{return N.apply(f,m.querySelectorAll(p)),f}catch(n){}finally{d||c.removeAttribute("id")}}}var r;a:{a=a.replace(Z,
"$1");var x,g;l=v(a);if(!e&&1===l.length){if(r=l[0]=l[0].slice(0),2<r.length&&"ID"===(x=r[0]).type&&A.getById&&9===c.nodeType&&ta&&y.relative[r[1].type]){if(c=(y.find.ID(x.matches[0].replace(mb,kb),c)||[])[0],!c){r=f;break a}a=a.slice(r.shift().value.length)}for(h=Ab.needsContext.test(a)?0:r.length;h--&&(x=r[h],!y.relative[d=x.type]);)if((g=y.find[d])&&(e=g(x.matches[0].replace(mb,kb),yb.test(r[0].type)&&c.parentNode||c))){if(r.splice(h,1),a=e.length&&w(r),!a){r=(N.apply(f,e),f);break a}break}}r=
(Ka(a,l)(e,c,!ta,f,yb.test(a)),f)}return r}function f(){function a(b,f){return c.push(b+=" ")>y.cacheLength&&delete a[c.shift()],a[b]=f}var c=[];return a}function e(a){return a[oa]=!0,a}function d(a){var c=L.createElement("div");try{return!!a(c)}catch(b){return!1}finally{c.parentNode&&c.parentNode.removeChild(c)}}function l(a,c){for(var b=a.split("|"),f=a.length;f--;)y.attrHandle[b[f]]=c}function m(a,c){var b=c&&a,f=b&&1===a.nodeType&&1===c.nodeType&&(~c.sourceIndex||-2147483648)-(~a.sourceIndex||
-2147483648);if(f)return f;if(b)for(;b=b.nextSibling;)if(b===c)return-1;return a?1:-1}function h(a){return function(c){return"input"===c.nodeName.toLowerCase()&&c.type===a}}function p(a){return function(c){var b=c.nodeName.toLowerCase();return("input"===b||"button"===b)&&c.type===a}}function n(a){return e(function(c){return c=+c,e(function(b,f){for(var e,d=a([],b.length,c),l=d.length;l--;)b[e=d[l]]&&(b[e]=!(f[e]=b[e]))})})}function r(){}function v(a,c){var f,e,d,l,m,h,p;if(m=Ib[a+" "])return c?0:
m.slice(0);m=a;h=[];for(p=y.preFilter;m;){f&&!(e=Jb.exec(m))||(e&&(m=m.slice(e[0].length)||m),h.push(d=[]));f=!1;(e=Wa.exec(m))&&(f=e.shift(),d.push({value:f,type:e[0].replace(Z," ")}),m=m.slice(f.length));for(l in y.filter)!(e=Ab[l].exec(m))||p[l]&&!(e=p[l](e))||(f=e.shift(),d.push({value:f,type:l,matches:e}),m=m.slice(f.length));if(!f)break}return c?m.length:m?b.error(a):Ib(a,h).slice(0)}function w(a){for(var c=0,b=a.length,f="";b>c;c++)f+=a[c].value;return f}function x(a,c,b){var f=c.dir,e=b&&
"parentNode"===f,d=la++;return c.first?function(c,b,d){for(;c=c[f];)if(1===c.nodeType||e)return a(c,b,d)}:function(c,b,l){var m,h,p,n=Ra+" "+d;if(l)for(;c=c[f];){if((1===c.nodeType||e)&&a(c,b,l))return!0}else for(;c=c[f];)if(1===c.nodeType||e)if(p=c[oa]||(c[oa]={}),(h=p[f])&&h[0]===n){if(!0===(m=h[1])||m===fa)return!0===m}else if(h=p[f]=[n],h[1]=a(c,b,l)||fa,!0===h[1])return!0}}function g(a){return 1<a.length?function(c,b,f){for(var e=a.length;e--;)if(!a[e](c,b,f))return!1;return!0}:a[0]}function q(a,
c,b,f,e){for(var d,l=[],m=0,h=a.length,p=null!=c;h>m;m++)(d=a[m])&&(!b||b(d,f,e))&&(l.push(d),p&&c.push(m));return l}function u(a,c,f,d,l,m){return d&&!d[oa]&&(d=u(d)),l&&!l[oa]&&(l=u(l,m)),e(function(e,m,h,p){var n,r,v=[],w=[],x=m.length,g;if(!(g=e)){g=c||"*";for(var u=h.nodeType?[h]:h,z=[],k=0,E=u.length;E>k;k++)b(g,u[k],z);g=z}g=!a||!e&&c?g:q(g,v,a,h,p);u=f?l||(e?a:x||d)?[]:m:g;if(f&&f(g,u,h,p),d)for(n=q(u,w),d(n,[],h,p),h=n.length;h--;)(r=n[h])&&(u[w[h]]=!(g[w[h]]=r));if(e){if(l||a){if(l){n=[];
for(h=u.length;h--;)(r=u[h])&&n.push(g[h]=r);l(null,u=[],n,p)}for(h=u.length;h--;)(r=u[h])&&-1<(n=l?X.call(e,r):v[h])&&(e[n]=!(m[n]=r))}}else u=q(u===m?u.splice(x,u.length):u),l?l(null,m,u,p):N.apply(m,u)})}function z(a){var c,b,f,e=a.length,d=y.relative[a[0].type];b=d||y.relative[" "];for(var l=d?1:0,m=x(function(a){return a===c},b,!0),h=x(function(a){return-1<X.call(c,a)},b,!0),p=[function(a,b,f){return!d&&(f||b!==F)||((c=b).nodeType?m(a,b,f):h(a,b,f))}];e>l;l++)if(b=y.relative[a[l].type])p=[x(g(p),
b)];else{if(b=y.filter[a[l].type].apply(null,a[l].matches),b[oa]){for(f=++l;e>f&&!y.relative[a[f].type];f++);return u(1<l&&g(p),1<l&&w(a.slice(0,l-1).concat({value:" "===a[l-2].type?"*":""})).replace(Z,"$1"),b,f>l&&z(a.slice(l,f)),e>f&&z(a=a.slice(f)),e>f&&w(a))}p.push(b)}return g(p)}function k(a,c){var f=0,d=0<c.length,l=0<a.length,m=function(e,m,h,p,n){var r,v,w=[],x=0,g="0",u=e&&[],z=null!=n,k=F,E=e||l&&y.find.TAG("*",n&&m.parentNode||m),A=Ra+=null==k?1:Math.random()||.1;for(z&&(F=m!==L&&m,fa=
f);null!=(n=E[g]);g++){if(l&&n){for(r=0;v=a[r++];)if(v(n,m,h)){p.push(n);break}z&&(Ra=A,fa=++f)}d&&((n=!v&&n)&&x--,e&&u.push(n))}if(x+=g,d&&g!==x){for(r=0;v=c[r++];)v(u,w,m,h);if(e){if(0<x)for(;g--;)u[g]||w[g]||(w[g]=Ob.call(p));w=q(w)}N.apply(p,w);z&&!e&&0<w.length&&1<x+c.length&&b.uniqueSort(p)}return z&&(Ra=A,F=k),u};return d?e(m):m}var E,A,fa,y,$a,D,Ka,F,G,B,L,I,ta,ra,La,nb,O,oa="sizzle"+-new Date,C=a.document,Ra=0,la=0,M=f(),Ib=f(),vb=f(),Ca=!1,U=function(a,c){return a===c?(Ca=!0,0):0},K=typeof c,
H={}.hasOwnProperty,Qa=[],Ob=Qa.pop,Q=Qa.push,N=Qa.push,ca=Qa.slice,X=Qa.indexOf||function(a){for(var c=0,b=this.length;b>c;c++)if(this[c]===a)return c;return-1},Kb="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),ga="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+Kb+")|)|)[\\x20\\t\\r\\n\\f]*\\]",S=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+
ga.replace(3,8)+")*)|.*)\\)|)",Z=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,Jb=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Wa=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,yb=/[\x20\t\r\n\f]*[+~]/,ua=/=[\x20\t\r\n\f]*([^\]'"]*)[\x20\t\r\n\f]*\]/g,R=RegExp(S),Gb=RegExp("^"+Kb+"$"),Ab={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+ga),PSEUDO:RegExp("^"+S),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,
bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},gb=/^[^{]+\{\s*\[native \w/,ya=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,P=/^(?:input|select|textarea|button)$/i,wa=/^h\d$/i,aa=/'|\\/g,mb=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,kb=function(a,c,b){a="0x"+c-65536;return a!==
a||b?c:0>a?String.fromCharCode(a+65536):String.fromCharCode(55296|a>>10,56320|1023&a)};try{N.apply(Qa=ca.call(C.childNodes),C.childNodes),Qa[C.childNodes.length].nodeType}catch(ic){N={apply:Qa.length?function(a,c){Q.apply(a,ca.call(c))}:function(a,c){for(var b=a.length,f=0;a[b++]=c[f++];);a.length=b-1}}}D=b.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};A=b.support={};B=b.setDocument=function(a){var b=a?a.ownerDocument||a:C;a=b.defaultView;return b!==L&&
9===b.nodeType&&b.documentElement?(L=b,I=b.documentElement,ta=!D(b),a&&a.attachEvent&&a!==a.top&&a.attachEvent("onbeforeunload",function(){B()}),A.attributes=d(function(a){return a.className="i",!a.getAttribute("className")}),A.getElementsByTagName=d(function(a){return a.appendChild(b.createComment("")),!a.getElementsByTagName("*").length}),A.getElementsByClassName=d(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),
A.getById=d(function(a){return I.appendChild(a).id=oa,!b.getElementsByName||!b.getElementsByName(oa).length}),A.getById?(y.find.ID=function(a,c){if(typeof c.getElementById!==K&&ta){var b=c.getElementById(a);return b&&b.parentNode?[b]:[]}},y.filter.ID=function(a){var c=a.replace(mb,kb);return function(a){return a.getAttribute("id")===c}}):(delete y.find.ID,y.filter.ID=function(a){var c=a.replace(mb,kb);return function(a){return(a=typeof a.getAttributeNode!==K&&a.getAttributeNode("id"))&&a.value===
c}}),y.find.TAG=A.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==K?b.getElementsByTagName(a):c}:function(a,c){var b,f=[],e=0,d=c.getElementsByTagName(a);if("*"===a){for(;b=d[e++];)1===b.nodeType&&f.push(b);return f}return d},y.find.CLASS=A.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==K&&ta?b.getElementsByClassName(a):c},La=[],ra=[],(A.qsa=gb.test(b.querySelectorAll))&&(d(function(a){a.innerHTML="<select><option selected=''></option></select>";
a.querySelectorAll("[selected]").length||ra.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll(":checked").length||ra.push(":checked")}),d(function(a){var c=b.createElement("input");c.setAttribute("type","hidden");a.appendChild(c).setAttribute("t","");a.querySelectorAll("[t^='']").length&&ra.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll(":enabled").length||
ra.push(":enabled",":disabled");a.querySelectorAll("*,:x");ra.push(",.*:")})),(A.matchesSelector=gb.test(nb=I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&d(function(a){A.disconnectedMatch=nb.call(a,"div");nb.call(a,"[s!='']:x");La.push("!=",S)}),ra=ra.length&&RegExp(ra.join("|")),La=La.length&&RegExp(La.join("|")),O=gb.test(I.contains)||I.compareDocumentPosition?function(a,c){var b=9===a.nodeType?a.documentElement:a,f=c&&c.parentNode;return a===f||!(!f||
1!==f.nodeType||!(b.contains?b.contains(f):a.compareDocumentPosition&&16&a.compareDocumentPosition(f)))}:function(a,c){if(c)for(;c=c.parentNode;)if(c===a)return!0;return!1},U=I.compareDocumentPosition?function(a,c){if(a===c)return Ca=!0,0;var f=c.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(c);return f?1&f||!A.sortDetached&&c.compareDocumentPosition(a)===f?a===b||O(C,a)?-1:c===b||O(C,c)?1:G?X.call(G,a)-X.call(G,c):0:4&f?-1:1:a.compareDocumentPosition?-1:1}:function(a,
c){var f,e=0;f=a.parentNode;var d=c.parentNode,l=[a],h=[c];if(a===c)return Ca=!0,0;if(!f||!d)return a===b?-1:c===b?1:f?-1:d?1:G?X.call(G,a)-X.call(G,c):0;if(f===d)return m(a,c);for(f=a;f=f.parentNode;)l.unshift(f);for(f=c;f=f.parentNode;)h.unshift(f);for(;l[e]===h[e];)e++;return e?m(l[e],h[e]):l[e]===C?-1:h[e]===C?1:0},b):L};b.matches=function(a,c){return b(a,null,null,c)};b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==L&&B(a),c=c.replace(ua,"='$1']"),!(!A.matchesSelector||!ta||La&&La.test(c)||
ra&&ra.test(c)))try{var f=nb.call(a,c);if(f||A.disconnectedMatch||a.document&&11!==a.document.nodeType)return f}catch(e){}return 0<b(c,L,null,[a]).length};b.contains=function(a,c){return(a.ownerDocument||a)!==L&&B(a),O(a,c)};b.attr=function(a,b){(a.ownerDocument||a)!==L&&B(a);var f=y.attrHandle[b.toLowerCase()],f=f&&H.call(y.attrHandle,b.toLowerCase())?f(a,b,!ta):c;return f===c?A.attributes||!ta?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null:f};b.error=function(a){throw Error("Syntax error, unrecognized expression: "+
a);};b.uniqueSort=function(a){var c,b=[],f=0,e=0;if(Ca=!A.detectDuplicates,G=!A.sortStable&&a.slice(0),a.sort(U),Ca){for(;c=a[e++];)c===a[e]&&(f=b.push(e));for(;f--;)a.splice(b[f],1)}return a};$a=b.getText=function(a){var c,b="",f=0;if(c=a.nodeType)if(1===c||9===c||11===c){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)b+=$a(a)}else{if(3===c||4===c)return a.nodeValue}else for(;c=a[f];f++)b+=$a(c);return b};y=b.selectors={cacheLength:50,createPseudo:e,match:Ab,
attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(mb,kb),a[3]=(a[4]||a[5]||"").replace(mb,kb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),
a},PSEUDO:function(a){var b,f=!a[5]&&a[2];return Ab.CHILD.test(a[0])?null:(a[3]&&a[4]!==c?a[2]=a[4]:f&&R.test(f)&&(b=v(f,!0))&&(b=f.indexOf(")",f.length-b)-f.length)&&(a[0]=a[0].slice(0,b),a[2]=f.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var c=a.replace(mb,kb).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===c}},CLASS:function(a){var c=M[a+" "];return c||(c=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&M(a,function(a){return c.test("string"==
typeof a.className&&a.className||typeof a.getAttribute!==K&&a.getAttribute("class")||"")})},ATTR:function(a,c,f){return function(e){e=b.attr(e,a);return null==e?"!="===c:c?(e+="","="===c?e===f:"!="===c?e!==f:"^="===c?f&&0===e.indexOf(f):"*="===c?f&&-1<e.indexOf(f):"$="===c?f&&e.slice(-f.length)===f:"~="===c?-1<(" "+e+" ").indexOf(f):"|="===c?e===f||e.slice(0,f.length+1)===f+"-":!1):!0}},CHILD:function(a,c,b,f,e){var d="nth"!==a.slice(0,3),l="last"!==a.slice(-4),m="of-type"===c;return 1===f&&0===e?
function(a){return!!a.parentNode}:function(c,b,h){var p,n,r,v,w;b=d!==l?"nextSibling":"previousSibling";var x=c.parentNode,g=m&&c.nodeName.toLowerCase();h=!h&&!m;if(x){if(d){for(;b;){for(n=c;n=n[b];)if(m?n.nodeName.toLowerCase()===g:1===n.nodeType)return!1;w=b="only"===a&&!w&&"nextSibling"}return!0}if(w=[l?x.firstChild:x.lastChild],l&&h)for(h=x[oa]||(x[oa]={}),p=h[a]||[],v=p[0]===Ra&&p[1],r=p[0]===Ra&&p[2],n=v&&x.childNodes[v];n=++v&&n&&n[b]||(r=v=0)||w.pop();){if(1===n.nodeType&&++r&&n===c){h[a]=
[Ra,v,r];break}}else if(h&&(p=(c[oa]||(c[oa]={}))[a])&&p[0]===Ra)r=p[1];else for(;(n=++v&&n&&n[b]||(r=v=0)||w.pop())&&((m?n.nodeName.toLowerCase()!==g:1!==n.nodeType)||!++r||(h&&((n[oa]||(n[oa]={}))[a]=[Ra,r]),n!==c)););return r-=e,r===f||0===r%f&&0<=r/f}}},PSEUDO:function(a,c){var f,d=y.pseudos[a]||y.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return d[oa]?d(c):1<d.length?(f=[a,a,"",c],y.setFilters.hasOwnProperty(a.toLowerCase())?e(function(a,b){for(var f,e=d(a,c),l=e.length;l--;)f=
X.call(a,e[l]),a[f]=!(b[f]=e[l])}):function(a){return d(a,0,f)}):d}},pseudos:{not:e(function(a){var c=[],b=[],f=Ka(a.replace(Z,"$1"));return f[oa]?e(function(a,c,b,e){var d;b=f(a,null,e,[]);for(e=a.length;e--;)(d=b[e])&&(a[e]=!(c[e]=d))}):function(a,e,d){return c[0]=a,f(c,null,d,b),!b.pop()}}),has:e(function(a){return function(c){return 0<b(a,c).length}}),contains:e(function(a){return function(c){return-1<(c.textContent||c.innerText||$a(c)).indexOf(a)}}),lang:e(function(a){return Gb.test(a||"")||
b.error("unsupported lang: "+a),a=a.replace(mb,kb).toLowerCase(),function(c){var b;do if(b=ta?c.lang:c.getAttribute("xml:lang")||c.getAttribute("lang"))return b=b.toLowerCase(),b===a||0===b.indexOf(a+"-");while((c=c.parentNode)&&1===c.nodeType);return!1}}),target:function(c){var b=a.location&&a.location.hash;return b&&b.slice(1)===c.id},root:function(a){return a===I},focus:function(a){return a===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===
a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var c=a.nodeName.toLowerCase();return"input"===c&&!!a.checked||"option"===c&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if("@"<a.nodeName||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!y.pseudos.empty(a)},header:function(a){return wa.test(a.nodeName)},input:function(a){return P.test(a.nodeName)},
button:function(a){var c=a.nodeName.toLowerCase();return"input"===c&&"button"===a.type||"button"===c},text:function(a){var c;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(c=a.getAttribute("type"))||c.toLowerCase()===a.type)},first:n(function(){return[0]}),last:n(function(a,c){return[c-1]}),eq:n(function(a,c,b){return[0>b?b+c:b]}),even:n(function(a,c){for(var b=0;c>b;b+=2)a.push(b);return a}),odd:n(function(a,c){for(var b=1;c>b;b+=2)a.push(b);return a}),lt:n(function(a,c,b){for(c=
0>b?b+c:b;0<=--c;)a.push(c);return a}),gt:n(function(a,c,b){for(b=0>b?b+c:b;c>++b;)a.push(b);return a})}};y.pseudos.nth=y.pseudos.eq;for(E in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[E]=h(E);for(E in{submit:!0,reset:!0})y.pseudos[E]=p(E);r.prototype=y.filters=y.pseudos;y.setFilters=new r;Ka=b.compile=function(a,c){var b,f=[],e=[],d=vb[a+" "];if(!d){c||(c=v(a));for(b=c.length;b--;)d=z(c[b]),d[oa]?f.push(d):e.push(d);d=vb(a,k(e,f))}return d};A.sortStable=oa.split("").sort(U).join("")===
oa;A.detectDuplicates=Ca;B();A.sortDetached=d(function(a){return 1&a.compareDocumentPosition(L.createElement("div"))});d(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||l("type|href|height|width",function(a,b,f){return f?c:a.getAttribute(b,"type"===b.toLowerCase()?1:2)});A.attributes&&d(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||l("value",function(a,b,f){return f||"input"!==
a.nodeName.toLowerCase()?c:a.defaultValue});d(function(a){return null==a.getAttribute("disabled")})||l("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,f){var e;return f?c:(e=a.getAttributeNode(b))&&e.specified?e.value:!0===a[b]?b.toLowerCase():null});t.find=b;t.expr=b.selectors;t.expr[":"]=t.expr.pseudos;t.unique=b.uniqueSort;t.text=b.getText;t.isXMLDoc=b.isXML;t.contains=b.contains})(d);var Ta={};t.Callbacks=
function(a){a="string"==typeof a?Ta[a]||h(a):t.extend({},a);var c,b,f,e,d,l,m=[],p=!a.once&&[],n=function(h){b=a.memory&&h;f=!0;d=l||0;l=0;e=m.length;for(c=!0;m&&e>d;d++)if(!1===m[d].apply(h[0],h[1])&&a.stopOnFalse){b=!1;break}c=!1;m&&(p?p.length&&n(p.shift()):b?m=[]:r.disable())},r={add:function(){if(m){var f=m.length;(function Xb(c){t.each(c,function(c,b){var f=t.type(b);"function"===f?a.unique&&r.has(b)||m.push(b):b&&b.length&&"string"!==f&&Xb(b)})})(arguments);c?e=m.length:b&&(l=f,n(b))}return this},
remove:function(){return m&&t.each(arguments,function(a,b){for(var f;-1<(f=t.inArray(b,m,f));)m.splice(f,1),c&&(e>=f&&e--,d>=f&&d--)}),this},has:function(a){return a?-1<t.inArray(a,m):!(!m||!m.length)},empty:function(){return m=[],e=0,this},disable:function(){return m=p=b=g,this},disabled:function(){return!m},lock:function(){return p=g,b||r.disable(),this},locked:function(){return!p},fireWith:function(a,b){return!m||f&&!p||(b=b||[],b=[a,b.slice?b.slice():b],c?p.push(b):n(b)),this},fire:function(){return r.fireWith(this,
arguments),this},fired:function(){return!!f}};return r};t.extend({Deferred:function(a){var c=[["resolve","done",t.Callbacks("once memory"),"resolved"],["reject","fail",t.Callbacks("once memory"),"rejected"],["notify","progress",t.Callbacks("memory")]],b="pending",f={state:function(){return b},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return t.Deferred(function(b){t.each(c,function(c,d){var l=d[0],m=t.isFunction(a[c])&&a[c];e[d[1]](function(){var a=
m&&m.apply(this,arguments);a&&t.isFunction(a.promise)?a.promise().done(b.resolve).fail(b.reject).progress(b.notify):b[l+"With"](this===f?b.promise():this,m?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?t.extend(a,f):f}},e={};return f.pipe=f.then,t.each(c,function(a,d){var l=d[2],m=d[3];f[d[1]]=l.add;m&&l.add(function(){b=m},c[1^a][2].disable,c[2][2].lock);e[d[0]]=function(){return e[d[0]+"With"](this===e?f:this,arguments),this};e[d[0]+"With"]=l.fireWith}),f.promise(e),
a&&a.call(e,e),e},when:function(a){var c=0,b=pa.call(arguments),f=b.length,e=1!==f||a&&t.isFunction(a.promise)?f:0,d=1===e?a:t.Deferred(),l=function(a,c,b){return function(f){c[a]=this;b[a]=1<arguments.length?pa.call(arguments):f;b===m?d.notifyWith(c,b):--e||d.resolveWith(c,b)}},m,h,p;if(1<f)for(m=Array(f),h=Array(f),p=Array(f);f>c;c++)b[c]&&t.isFunction(b[c].promise)?b[c].promise().done(l(c,p,b)).fail(d.reject).progress(l(c,h,m)):--e;return e||d.resolveWith(p,b),d.promise()}});t.support=function(a){var c,
b,f,e,l,m,h=Q.createElement("div");if(h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=h.getElementsByTagName("*")||[],b=h.getElementsByTagName("a")[0],!b||!b.style||!c.length)return a;f=Q.createElement("select");e=f.appendChild(Q.createElement("option"));c=h.getElementsByTagName("input")[0];b.style.cssText="top:1px;float:left;opacity:.5";a.getSetAttribute="t"!==h.className;a.leadingWhitespace=3===h.firstChild.nodeType;a.tbody=!h.getElementsByTagName("tbody").length;
a.htmlSerialize=!!h.getElementsByTagName("link").length;a.style=/top/.test(b.getAttribute("style"));a.hrefNormalized="/a"===b.getAttribute("href");a.opacity=/^0.5/.test(b.style.opacity);a.cssFloat=!!b.style.cssFloat;a.checkOn=!!c.value;a.optSelected=e.selected;a.enctype=!!Q.createElement("form").enctype;a.html5Clone="<:nav></:nav>"!==Q.createElement("nav").cloneNode(!0).outerHTML;a.inlineBlockNeedsLayout=!1;a.shrinkWrapBlocks=!1;a.pixelPosition=!1;a.deleteExpando=!0;a.noCloneEvent=!0;a.reliableMarginRight=
!0;a.boxSizingReliable=!0;c.checked=!0;a.noCloneChecked=c.cloneNode(!0).checked;f.disabled=!0;a.optDisabled=!e.disabled;try{delete h.test}catch(p){a.deleteExpando=!1}c=Q.createElement("input");c.setAttribute("value","");a.input=""===c.getAttribute("value");c.value="t";c.setAttribute("type","radio");a.radioValue="t"===c.value;c.setAttribute("checked","t");c.setAttribute("name","t");b=Q.createDocumentFragment();b.appendChild(c);a.appendChecked=c.checked;a.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked;
h.attachEvent&&(h.attachEvent("onclick",function(){a.noCloneEvent=!1}),h.cloneNode(!0).click());for(m in{submit:!0,change:!0,focusin:!0})h.setAttribute(b="on"+m,"t"),a[m+"Bubbles"]=b in d||!1===h.attributes[b].expando;h.style.backgroundClip="content-box";h.cloneNode(!0).style.backgroundClip="";a.clearCloneStyle="content-box"===h.style.backgroundClip;for(m in t(a))break;return a.ownLast="0"!==m,t(function(){var c,b,f,e=Q.getElementsByTagName("body")[0];e&&(c=Q.createElement("div"),c.style.cssText=
"border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",e.appendChild(c).appendChild(h),h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",f=h.getElementsByTagName("td"),f[0].style.cssText="padding:0;margin:0;border:0;display:none",l=0===f[0].offsetHeight,f[0].style.display="",f[1].style.display="none",a.reliableHiddenOffsets=l&&0===f[0].offsetHeight,h.innerHTML="",h.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",
t.swap(e,null!=e.style.zoom?{zoom:1}:{},function(){a.boxSizing=4===h.offsetWidth}),d.getComputedStyle&&(a.pixelPosition="1%"!==(d.getComputedStyle(h,null)||{}).top,a.boxSizingReliable="4px"===(d.getComputedStyle(h,null)||{width:"4px"}).width,b=h.appendChild(Q.createElement("div")),b.style.cssText=h.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",b.style.marginRight=b.style.width="0",h.style.width="1px",a.reliableMarginRight=
!parseFloat((d.getComputedStyle(b,null)||{}).marginRight)),typeof h.style.zoom!==ca&&(h.innerHTML="",h.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",a.inlineBlockNeedsLayout=3===h.offsetWidth,h.style.display="block",h.innerHTML="<div></div>",h.firstChild.style.width="5px",a.shrinkWrapBlocks=3!==h.offsetWidth,a.inlineBlockNeedsLayout&&(e.style.zoom=1)),e.removeChild(c),
c=h=f=b=null)}),c=f=b=e=b=c=null,a}({});var Da=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Ma=/([A-Z])/g;t.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(c){return c=c.nodeType?t.cache[c[t.expando]]:c[t.expando],!!c&&!a(c)},data:function(a,c,b){return q(a,c,b)},removeData:function(a,c){return e(a,c)},_data:function(a,c,b){return q(a,c,b,!0)},_removeData:function(a,c){return e(a,c,!0)},acceptData:function(a){if(a.nodeType&&1!==a.nodeType&&9!==a.nodeType)return!1;
var c=a.nodeName&&t.noData[a.nodeName.toLowerCase()];return!c||!0!==c&&a.getAttribute("classid")===c}});t.fn.extend({data:function(a,c){var f,e,d=null,l=0,m=this[0];if(a===g){if(this.length&&(d=t.data(m),1===m.nodeType&&!t._data(m,"parsedAttrs"))){for(f=m.attributes;f.length>l;l++)e=f[l].name,0===e.indexOf("data-")&&(e=t.camelCase(e.slice(5)),b(m,e,d[e]));t._data(m,"parsedAttrs",!0)}return d}return"object"==typeof a?this.each(function(){t.data(this,a)}):1<arguments.length?this.each(function(){t.data(this,
a,c)}):m?b(m,a,t.data(m,a)):null},removeData:function(a){return this.each(function(){t.removeData(this,a)})}});t.extend({queue:function(a,c,b){var f;return a?(c=(c||"fx")+"queue",f=t._data(a,c),b&&(!f||t.isArray(b)?f=t._data(a,c,t.makeArray(b)):f.push(b)),f||[]):g},dequeue:function(a,c){c=c||"fx";var b=t.queue(a,c),f=b.length,e=b.shift(),d=t._queueHooks(a,c),l=function(){t.dequeue(a,c)};"inprogress"===e&&(e=b.shift(),f--);e&&("fx"===c&&b.unshift("inprogress"),delete d.stop,e.call(a,l,d));!f&&d&&d.empty.fire()},
_queueHooks:function(a,c){var b=c+"queueHooks";return t._data(a,b)||t._data(a,b,{empty:t.Callbacks("once memory").add(function(){t._removeData(a,c+"queue");t._removeData(a,b)})})}});t.fn.extend({queue:function(a,c){var b=2;return"string"!=typeof a&&(c=a,a="fx",b--),b>arguments.length?t.queue(this[0],a):c===g?this:this.each(function(){var b=t.queue(this,a,c);t._queueHooks(this,a);"fx"===a&&"inprogress"!==b[0]&&t.dequeue(this,a)})},dequeue:function(a){return this.each(function(){t.dequeue(this,a)})},
delay:function(a,c){return a=t.fx?t.fx.speeds[a]||a:a,c=c||"fx",this.queue(c,function(c,b){var f=setTimeout(c,a);b.stop=function(){clearTimeout(f)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var b,f=1,e=t.Deferred(),d=this,l=this.length,m=function(){--f||e.resolveWith(d,[d])};"string"!=typeof a&&(c=a,a=g);for(a=a||"fx";l--;)(b=t._data(d[l],a+"queueHooks"))&&b.empty&&(f++,b.empty.add(m));return m(),e.promise(c)}});var ga,ya,Wa=/[\t\r\n\f]/g,ab=/\r/g,jb=/^(?:input|select|textarea|button|object)$/i,
tb=/^(?:a|area)$/i,eb=/^(?:checked|selected)$/i,Xa=t.support.getSetAttribute,Ea=t.support.input;t.fn.extend({attr:function(a,c){return t.access(this,t.attr,a,c,1<arguments.length)},removeAttr:function(a){return this.each(function(){t.removeAttr(this,a)})},prop:function(a,c){return t.access(this,t.prop,a,c,1<arguments.length)},removeProp:function(a){return a=t.propFix[a]||a,this.each(function(){try{this[a]=g,delete this[a]}catch(c){}})},addClass:function(a){var c,b,f,e,d,l=0,m=this.length;c="string"==
typeof a&&a;if(t.isFunction(a))return this.each(function(c){t(this).addClass(a.call(this,c,this.className))});if(c)for(c=(a||"").match(na)||[];m>l;l++)if(b=this[l],f=1===b.nodeType&&(b.className?(" "+b.className+" ").replace(Wa," "):" ")){for(d=0;e=c[d++];)0>f.indexOf(" "+e+" ")&&(f+=e+" ");b.className=t.trim(f)}return this},removeClass:function(a){var c,b,f,e,d,l=0,m=this.length;c=0===arguments.length||"string"==typeof a&&a;if(t.isFunction(a))return this.each(function(c){t(this).removeClass(a.call(this,
c,this.className))});if(c)for(c=(a||"").match(na)||[];m>l;l++)if(b=this[l],f=1===b.nodeType&&(b.className?(" "+b.className+" ").replace(Wa," "):"")){for(d=0;e=c[d++];)for(;0<=f.indexOf(" "+e+" ");)f=f.replace(" "+e+" "," ");b.className=a?t.trim(f):""}return this},toggleClass:function(a,c){var b=typeof a;return"boolean"==typeof c&&"string"===b?c?this.addClass(a):this.removeClass(a):t.isFunction(a)?this.each(function(b){t(this).toggleClass(a.call(this,b,this.className,c),c)}):this.each(function(){if("string"===
b)for(var c,f=0,e=t(this),d=a.match(na)||[];c=d[f++];)e.hasClass(c)?e.removeClass(c):e.addClass(c);else(b===ca||"boolean"===b)&&(this.className&&t._data(this,"__className__",this.className),this.className=this.className||!1===a?"":t._data(this,"__className__")||"")})},hasClass:function(a){a=" "+a+" ";for(var c=0,b=this.length;b>c;c++)if(1===this[c].nodeType&&0<=(" "+this[c].className+" ").replace(Wa," ").indexOf(a))return!0;return!1},val:function(a){var c,b,f,e=this[0];if(arguments.length)return f=
t.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=f?a.call(this,c,t(this).val()):a,null==e?e="":"number"==typeof e?e+="":t.isArray(e)&&(e=t.map(e,function(a){return null==a?"":a+""})),b=t.valHooks[this.type]||t.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&b.set(this,e,"value")!==g||(this.value=e))});if(e)return b=t.valHooks[e.type]||t.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&(c=b.get(e,"value"))!==g?c:(c=e.value,"string"==typeof c?c.replace(ab,""):null==c?"":c)}});t.extend({valHooks:{option:{get:function(a){var c=
t.find.attr(a,"value");return null!=c?c:a.text}},select:{get:function(a){for(var c,b=a.options,f=a.selectedIndex,e="select-one"===a.type||0>f,d=e?null:[],l=e?f+1:b.length,m=0>f?l:e?f:0;l>m;m++)if(c=b[m],!(!c.selected&&m!==f||(t.support.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&t.nodeName(c.parentNode,"optgroup"))){if(a=t(c).val(),e)return a;d.push(a)}return d},set:function(a,c){for(var b,f,e=a.options,d=t.makeArray(c),l=e.length;l--;)f=e[l],(f.selected=0<=t.inArray(t(f).val(),
d))&&(b=!0);return b||(a.selectedIndex=-1),d}}},attr:function(a,c,b){var f,e,d=a.nodeType;if(a&&3!==d&&8!==d&&2!==d)return typeof a.getAttribute===ca?t.prop(a,c,b):(1===d&&t.isXMLDoc(a)||(c=c.toLowerCase(),f=t.attrHooks[c]||(t.expr.match.bool.test(c)?ya:ga)),b===g?f&&"get"in f&&null!==(e=f.get(a,c))?e:(e=t.find.attr(a,c),null==e?g:e):null!==b?f&&"set"in f&&(e=f.set(a,b,c))!==g?e:(a.setAttribute(c,b+""),b):(t.removeAttr(a,c),g))},removeAttr:function(a,c){var b,f,e=0,d=c&&c.match(na);if(d&&1===a.nodeType)for(;b=
d[e++];)f=t.propFix[b]||b,t.expr.match.bool.test(b)?Ea&&Xa||!eb.test(b)?a[f]=!1:a[t.camelCase("default-"+b)]=a[f]=!1:t.attr(a,b,""),a.removeAttribute(Xa?b:f)},attrHooks:{type:{set:function(a,c){if(!t.support.radioValue&&"radio"===c&&t.nodeName(a,"input")){var b=a.value;return a.setAttribute("type",c),b&&(a.value=b),c}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(a,c,b){var f,e,d,l=a.nodeType;if(a&&3!==l&&8!==l&&2!==l)return d=1!==l||!t.isXMLDoc(a),d&&(c=t.propFix[c]||c,e=t.propHooks[c]),
b!==g?e&&"set"in e&&(f=e.set(a,b,c))!==g?f:a[c]=b:e&&"get"in e&&null!==(f=e.get(a,c))?f:a[c]},propHooks:{tabIndex:{get:function(a){var c=t.find.attr(a,"tabindex");return c?parseInt(c,10):jb.test(a.nodeName)||tb.test(a.nodeName)&&a.href?0:-1}}}});ya={set:function(a,c,b){return!1===c?t.removeAttr(a,b):Ea&&Xa||!eb.test(b)?a.setAttribute(!Xa&&t.propFix[b]||b,b):a[t.camelCase("default-"+b)]=a[b]=!0,b}};t.each(t.expr.match.bool.source.match(/\w+/g),function(a,c){var b=t.expr.attrHandle[c]||t.find.attr;
t.expr.attrHandle[c]=Ea&&Xa||!eb.test(c)?function(a,c,f){var e=t.expr.attrHandle[c];a=f?g:(t.expr.attrHandle[c]=g)!=b(a,c,f)?c.toLowerCase():null;return t.expr.attrHandle[c]=e,a}:function(a,c,b){return b?g:a[t.camelCase("default-"+c)]?c.toLowerCase():null}});Ea&&Xa||(t.attrHooks.value={set:function(a,c,b){return t.nodeName(a,"input")?(a.defaultValue=c,g):ga&&ga.set(a,c,b)}});Xa||(ga={set:function(a,c,b){var f=a.getAttributeNode(b);return f||a.setAttributeNode(f=a.ownerDocument.createAttribute(b)),
f.value=c+="","value"===b||c===a.getAttribute(b)?c:g}},t.expr.attrHandle.id=t.expr.attrHandle.name=t.expr.attrHandle.coords=function(a,c,b){var f;return b?g:(f=a.getAttributeNode(c))&&""!==f.value?f.value:null},t.valHooks.button={get:function(a,c){var b=a.getAttributeNode(c);return b&&b.specified?b.value:g},set:ga.set},t.attrHooks.contenteditable={set:function(a,c,b){ga.set(a,""===c?!1:c,b)}},t.each(["width","height"],function(a,c){t.attrHooks[c]={set:function(a,b){return""===b?(a.setAttribute(c,
"auto"),b):g}}}));t.support.hrefNormalized||t.each(["href","src"],function(a,c){t.propHooks[c]={get:function(a){return a.getAttribute(c,4)}}});t.support.style||(t.attrHooks.style={get:function(a){return a.style.cssText||g},set:function(a,c){return a.style.cssText=c+""}});t.support.optSelected||(t.propHooks.selected={get:function(a){a=a.parentNode;return a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex),null}});t.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),
function(){t.propFix[this.toLowerCase()]=this});t.support.enctype||(t.propFix.enctype="encoding");t.each(["radio","checkbox"],function(){t.valHooks[this]={set:function(a,c){return t.isArray(c)?a.checked=0<=t.inArray(t(a).val(),c):g}};t.support.checkOn||(t.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Ua=/^(?:input|select|textarea)$/i,qb=/^key/,rb=/^(?:mouse|contextmenu)|click/,Oa=/^(?:focusinfocus|focusoutblur)$/,ib=/^([^.]*)(?:\.(.+)|)$/;t.event={global:{},
add:function(a,c,b,f,e){var d,l,m,h,p,n,r,v,w,x;if(m=t._data(a)){b.handler&&(h=b,b=h.handler,e=h.selector);b.guid||(b.guid=t.guid++);(l=m.events)||(l=m.events={});(n=m.handle)||(n=m.handle=function(a){return typeof t===ca||a&&t.event.triggered===a.type?g:t.event.dispatch.apply(n.elem,arguments)},n.elem=a);c=(c||"").match(na)||[""];for(m=c.length;m--;)d=ib.exec(c[m])||[],w=x=d[1],d=(d[2]||"").split(".").sort(),w&&(p=t.event.special[w]||{},w=(e?p.delegateType:p.bindType)||w,p=t.event.special[w]||{},
r=t.extend({type:w,origType:x,data:f,handler:b,guid:b.guid,selector:e,needsContext:e&&t.expr.match.needsContext.test(e),namespace:d.join(".")},h),(v=l[w])||(v=l[w]=[],v.delegateCount=0,p.setup&&!1!==p.setup.call(a,f,d,n)||(a.addEventListener?a.addEventListener(w,n,!1):a.attachEvent&&a.attachEvent("on"+w,n))),p.add&&(p.add.call(a,r),r.handler.guid||(r.handler.guid=b.guid)),e?v.splice(v.delegateCount++,0,r):v.push(r),t.event.global[w]=!0);a=null}},remove:function(a,c,b,f,e){var d,l,m,h,p,n,r,v,w,x,
g,q=t.hasData(a)&&t._data(a);if(q&&(n=q.events)){c=(c||"").match(na)||[""];for(p=c.length;p--;)if(m=ib.exec(c[p])||[],w=g=m[1],x=(m[2]||"").split(".").sort(),w){r=t.event.special[w]||{};w=(f?r.delegateType:r.bindType)||w;v=n[w]||[];m=m[2]&&RegExp("(^|\\.)"+x.join("\\.(?:.*\\.|)")+"(\\.|$)");for(h=d=v.length;d--;)l=v[d],!e&&g!==l.origType||b&&b.guid!==l.guid||m&&!m.test(l.namespace)||f&&f!==l.selector&&("**"!==f||!l.selector)||(v.splice(d,1),l.selector&&v.delegateCount--,r.remove&&r.remove.call(a,
l));h&&!v.length&&(r.teardown&&!1!==r.teardown.call(a,x,q.handle)||t.removeEvent(a,w,q.handle),delete n[w])}else for(w in n)t.event.remove(a,w+c[p],b,f,!0);t.isEmptyObject(n)&&(delete q.handle,t._removeData(a,"events"))}},trigger:function(a,c,b,f){var e,l,m,h,p,n,r=[b||Q],v=ha.call(a,"type")?a.type:a;n=ha.call(a,"namespace")?a.namespace.split("."):[];if(m=e=b=b||Q,3!==b.nodeType&&8!==b.nodeType&&!Oa.test(v+t.event.triggered)&&(0<=v.indexOf(".")&&(n=v.split("."),v=n.shift(),n.sort()),l=0>v.indexOf(":")&&
"on"+v,a=a[t.expando]?a:new t.Event(v,"object"==typeof a&&a),a.isTrigger=f?2:3,a.namespace=n.join("."),a.namespace_re=a.namespace?RegExp("(^|\\.)"+n.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=g,a.target||(a.target=b),c=null==c?[a]:t.makeArray(c,[a]),p=t.event.special[v]||{},f||!p.trigger||!1!==p.trigger.apply(b,c))){if(!f&&!p.noBubble&&!t.isWindow(b)){h=p.delegateType||v;for(Oa.test(h+v)||(m=m.parentNode);m;m=m.parentNode)r.push(m),e=m;e===(b.ownerDocument||Q)&&r.push(e.defaultView||e.parentWindow||
d)}for(n=0;(m=r[n++])&&!a.isPropagationStopped();)a.type=1<n?h:p.bindType||v,(e=(t._data(m,"events")||{})[a.type]&&t._data(m,"handle"))&&e.apply(m,c),(e=l&&m[l])&&t.acceptData(m)&&e.apply&&!1===e.apply(m,c)&&a.preventDefault();if(a.type=v,!(f||a.isDefaultPrevented()||p._default&&!1!==p._default.apply(r.pop(),c))&&t.acceptData(b)&&l&&b[v]&&!t.isWindow(b)){(e=b[l])&&(b[l]=null);t.event.triggered=v;try{b[v]()}catch(w){}t.event.triggered=g;e&&(b[l]=e)}return a.result}},dispatch:function(a){a=t.event.fix(a);
var c,b,f,e,d,l=[],m=pa.call(arguments);c=(t._data(this,"events")||{})[a.type]||[];var h=t.event.special[a.type]||{};if(m[0]=a,a.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,a)){l=t.event.handlers.call(this,a,c);for(c=0;(e=l[c++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,d=0;(f=e.handlers[d++])&&!a.isImmediatePropagationStopped();)a.namespace_re&&!a.namespace_re.test(f.namespace)||(a.handleObj=f,a.data=f.data,b=((t.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,
m),b===g||!1!==(a.result=b)||(a.preventDefault(),a.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,a),a.result}},handlers:function(a,c){var b,f,e,d,l=[],m=c.delegateCount,h=a.target;if(m&&h.nodeType&&(!a.button||"click"!==a.type))for(;h!=this;h=h.parentNode||this)if(1===h.nodeType&&(!0!==h.disabled||"click"!==a.type)){e=[];for(d=0;m>d;d++)f=c[d],b=f.selector+" ",e[b]===g&&(e[b]=f.needsContext?0<=t(b,this).index(h):t.find(b,this,null,[h]).length),e[b]&&e.push(f);e.length&&l.push({elem:h,
handlers:e})}return c.length>m&&l.push({elem:this,handlers:c.slice(m)}),l},fix:function(a){if(a[t.expando])return a;var c,b,f;c=a.type;var e=a,d=this.fixHooks[c];d||(this.fixHooks[c]=d=rb.test(c)?this.mouseHooks:qb.test(c)?this.keyHooks:{});f=d.props?this.props.concat(d.props):this.props;a=new t.Event(e);for(c=f.length;c--;)b=f[c],a[b]=e[b];return a.target||(a.target=e.srcElement||Q),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,d.filter?d.filter(a,e):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,c){return null==a.which&&(a.which=null!=c.charCode?c.charCode:c.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var b,f,e,d=c.button,l=c.fromElement;return null==a.pageX&&null!=c.clientX&&(f=a.target.ownerDocument||Q,e=f.documentElement,b=f.body,a.pageX=c.clientX+(e&&e.scrollLeft||b&&b.scrollLeft||0)-(e&&
e.clientLeft||b&&b.clientLeft||0),a.pageY=c.clientY+(e&&e.scrollTop||b&&b.scrollTop||0)-(e&&e.clientTop||b&&b.clientTop||0)),!a.relatedTarget&&l&&(a.relatedTarget=l===a.target?c.toElement:l),a.which||d===g||(a.which=1&d?1:2&d?3:4&d?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==m()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===m()&&this.blur?(this.blur(),!1):g},delegateType:"focusout"},click:{trigger:function(){return t.nodeName(this,
"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):g},_default:function(a){return t.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==g&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,c,b,f){a=t.extend(new t.Event,b,{type:a,isSimulated:!0,originalEvent:{}});f?t.event.trigger(a,null,c):t.event.dispatch.call(c,a);a.isDefaultPrevented()&&b.preventDefault()}};t.removeEvent=Q.removeEventListener?function(a,c,b){a.removeEventListener&&a.removeEventListener(c,
b,!1)}:function(a,c,b){c="on"+c;a.detachEvent&&(typeof a[c]===ca&&(a[c]=null),a.detachEvent(c,b))};t.Event=function(a,b){return this instanceof t.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?c:f):this.type=a,b&&t.extend(this,b),this.timeStamp=a&&a.timeStamp||t.now(),this[t.expando]=!0,g):new t.Event(a,b)};t.Event.prototype={isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,
preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=c;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=c;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=c;this.stopPropagation()}};t.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,c){t.event.special[a]={delegateType:c,bindType:c,handle:function(a){var b,
f=a.relatedTarget,e=a.handleObj;return(!f||f!==this&&!t.contains(this,f))&&(a.type=e.origType,b=e.handler.apply(this,arguments),a.type=c),b}}});t.support.submitBubbles||(t.event.special.submit={setup:function(){return t.nodeName(this,"form")?!1:(t.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=t.nodeName(a,"input")||t.nodeName(a,"button")?a.form:g)&&!t._data(a,"submitBubbles")&&(t.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),t._data(a,"submitBubbles",!0))}),
g)},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&t.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return t.nodeName(this,"form")?!1:(t.event.remove(this,"._submit"),g)}});t.support.changeBubbles||(t.event.special.change={setup:function(){return Ua.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(t.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=
!0)}),t.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);t.event.simulate("change",this,a,!0)})),!1):(t.event.add(this,"beforeactivate._change",function(a){a=a.target;Ua.test(a.nodeName)&&!t._data(a,"changeBubbles")&&(t.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||t.event.simulate("change",this.parentNode,a,!0)}),t._data(a,"changeBubbles",!0))}),g)},handle:function(a){var c=a.target;return this!==c||a.isSimulated||
a.isTrigger||"radio"!==c.type&&"checkbox"!==c.type?a.handleObj.handler.apply(this,arguments):g},teardown:function(){return t.event.remove(this,"._change"),!Ua.test(this.nodeName)}});t.support.focusinBubbles||t.each({focus:"focusin",blur:"focusout"},function(a,c){var b=0,f=function(a){t.event.simulate(c,a.target,t.event.fix(a),!0)};t.event.special[c]={setup:function(){0===b++&&Q.addEventListener(a,f,!0)},teardown:function(){0===--b&&Q.removeEventListener(a,f,!0)}}});t.fn.extend({on:function(a,c,b,
e,d){var l,m;if("object"==typeof a){"string"!=typeof c&&(b=b||c,c=g);for(l in a)this.on(l,c,b,a[l],d);return this}if(null==b&&null==e?(e=c,b=c=g):null==e&&("string"==typeof c?(e=b,b=g):(e=b,b=c,c=g)),!1===e)e=f;else if(!e)return this;return 1===d&&(m=e,e=function(a){return t().off(a),m.apply(this,arguments)},e.guid=m.guid||(m.guid=t.guid++)),this.each(function(){t.event.add(this,a,e,b,c)})},one:function(a,c,b,f){return this.on(a,c,b,f,1)},off:function(a,c,b){var e,d;if(a&&a.preventDefault&&a.handleObj)return e=
a.handleObj,t(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(d in a)this.off(d,c,a[d]);return this}return(!1===c||"function"==typeof c)&&(b=c,c=g),!1===b&&(b=f),this.each(function(){t.event.remove(this,a,b,c)})},trigger:function(a,c){return this.each(function(){t.event.trigger(a,c,this)})},triggerHandler:function(a,c){var b=this[0];return b?t.event.trigger(a,c,b,!0):g}});var ob=/^.[^:#\[\.,]*$/,cb=/^(?:parents|prev(?:Until|All))/,
Ga=t.expr.match.needsContext,bb={children:!0,contents:!0,next:!0,prev:!0};t.fn.extend({find:function(a){var c,b=[],f=this,e=f.length;if("string"!=typeof a)return this.pushStack(t(a).filter(function(){for(c=0;e>c;c++)if(t.contains(f[c],this))return!0}));for(c=0;e>c;c++)t.find(a,f[c],b);return b=this.pushStack(1<e?t.unique(b):b),b.selector=this.selector?this.selector+" "+a:a,b},has:function(a){var c,b=t(a,this),f=b.length;return this.filter(function(){for(c=0;f>c;c++)if(t.contains(this,b[c]))return!0})},
not:function(a){return this.pushStack(r(this,a||[],!0))},filter:function(a){return this.pushStack(r(this,a||[],!1))},is:function(a){return!!r(this,"string"==typeof a&&Ga.test(a)?t(a):a||[],!1).length},closest:function(a,c){for(var b,f=0,e=this.length,d=[],l=Ga.test(a)||"string"!=typeof a?t(a,c||this.context):0;e>f;f++)for(b=this[f];b&&b!==c;b=b.parentNode)if(11>b.nodeType&&(l?-1<l.index(b):1===b.nodeType&&t.find.matchesSelector(b,a))){d.push(b);break}return this.pushStack(1<d.length?t.unique(d):d)},
index:function(a){return a?"string"==typeof a?t.inArray(this[0],t(a)):t.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,c){var b="string"==typeof a?t(a,c):t.makeArray(a&&a.nodeType?[a]:a),b=t.merge(this.get(),b);return this.pushStack(t.unique(b))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});t.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return t.dir(a,
"parentNode")},parentsUntil:function(a,c,b){return t.dir(a,"parentNode",b)},next:function(a){return v(a,"nextSibling")},prev:function(a){return v(a,"previousSibling")},nextAll:function(a){return t.dir(a,"nextSibling")},prevAll:function(a){return t.dir(a,"previousSibling")},nextUntil:function(a,c,b){return t.dir(a,"nextSibling",b)},prevUntil:function(a,c,b){return t.dir(a,"previousSibling",b)},siblings:function(a){return t.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return t.sibling(a.firstChild)},
contents:function(a){return t.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:t.merge([],a.childNodes)}},function(a,c){t.fn[a]=function(b,f){var e=t.map(this,c,b);return"Until"!==a.slice(-5)&&(f=b),f&&"string"==typeof f&&(e=t.filter(f,e)),1<this.length&&(bb[a]||(e=t.unique(e)),cb.test(a)&&(e=e.reverse())),this.pushStack(e)}});t.extend({filter:function(a,c,b){var f=c[0];return b&&(a=":not("+a+")"),1===c.length&&1===f.nodeType?t.find.matchesSelector(f,a)?[f]:[]:t.find.matches(a,t.grep(c,
function(a){return 1===a.nodeType}))},dir:function(a,c,b){var f=[];for(a=a[c];a&&9!==a.nodeType&&(b===g||1!==a.nodeType||!t(a).is(b));)1===a.nodeType&&f.push(a),a=a[c];return f},sibling:function(a,c){for(var b=[];a;a=a.nextSibling)1===a.nodeType&&a!==c&&b.push(a);return b}});var pb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",wb=/ jQuery\d+="(?:null|\d+)"/g,Va=RegExp("<(?:"+pb+")[\\s/>]",
"i"),db=/^\s+/,fb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ja=/<([\w:]+)/,lb=/<tbody/i,fa=/<|&#?\w+;/,Ka=/<(?:script|style|link)/i,ta=/^(?:checkbox|radio)$/i,oa=/checked\s*(?:[^=]|=\s*.checked.)/i,Qa=/^$|\/(?:java|ecma)script/i,gb=/^true\/(.*)/,xa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ea={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],
tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:t.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},sb=n(Q).appendChild(Q.createElement("div"));ea.optgroup=ea.option;ea.tbody=ea.tfoot=ea.colgroup=ea.caption=ea.thead;ea.th=ea.td;t.fn.extend({text:function(a){return t.access(this,function(a){return a===g?t.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Q).createTextNode(a))},
null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||w(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var c=w(this,a);c.insertBefore(a,c.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,
function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,c){for(var b,f=a?t.filter(a,this):this,e=0;null!=(b=f[e]);e++)c||1!==b.nodeType||t.cleanData(z(b)),b.parentNode&&(c&&t.contains(b.ownerDocument,b)&&x(z(b,"script")),b.parentNode.removeChild(b));return this},empty:function(){for(var a,c=0;null!=(a=this[c]);c++){for(1===a.nodeType&&t.cleanData(z(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&t.nodeName(a,"select")&&(a.options.length=0)}return this},
clone:function(a,c){return a=null==a?!1:a,c=null==c?a:c,this.map(function(){return t.clone(this,a,c)})},html:function(a){return t.access(this,function(a){var c=this[0]||{},b=0,f=this.length;if(a===g)return 1===c.nodeType?c.innerHTML.replace(wb,""):g;if(!("string"!=typeof a||Ka.test(a)||!t.support.htmlSerialize&&Va.test(a)||!t.support.leadingWhitespace&&db.test(a)||ea[(ja.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(fb,"<$1></$2>");try{for(;f>b;b++)c=this[b]||{},1===c.nodeType&&(t.cleanData(z(c,
!1)),c.innerHTML=a);c=0}catch(e){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=t.map(this,function(a){return[a.nextSibling,a.parentNode]}),c=0;return this.domManip(arguments,function(b){var f=a[c++],e=a[c++];e&&(f&&f.parentNode!==e&&(f=this.nextSibling),t(this).remove(),e.insertBefore(b,f))},!0),c?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,b){a=Ba.apply([],a);var f,e,d,m,h=0,n=this.length,r=this,v=n-1,w=a[0],x=t.isFunction(w);
if(x||!(1>=n||"string"!=typeof w||t.support.checkClone)&&oa.test(w))return this.each(function(f){var e=r.eq(f);x&&(a[0]=w.call(this,f,e.html()));e.domManip(a,c,b)});if(n&&(m=t.buildFragment(a,this[0].ownerDocument,!1,!b&&this),f=m.firstChild,1===m.childNodes.length&&(m=f),f)){d=t.map(z(m,"script"),p);for(e=d.length;n>h;h++)f=m,h!==v&&(f=t.clone(f,!0,!0),e&&t.merge(d,z(f,"script"))),c.call(this[h],f,h);if(e)for(m=d[d.length-1].ownerDocument,t.map(d,l),h=0;e>h;h++)f=d[h],Qa.test(f.type||"")&&!t._data(f,
"globalEval")&&t.contains(m,f)&&(f.src?t._evalUrl(f.src):t.globalEval((f.text||f.textContent||f.innerHTML||"").replace(xa,"")));m=f=null}return this}});t.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,c){t.fn[a]=function(a){for(var b=0,f=[],e=t(a),d=e.length-1;d>=b;b++)a=b===d?this:this.clone(!0),t(e[b])[c](a),ba.apply(f,a.get());return this.pushStack(f)}});t.extend({clone:function(a,c,b){var f,e,d,m,h,n=t.contains(a.ownerDocument,
a);if(t.support.html5Clone||t.isXMLDoc(a)||!Va.test("<"+a.nodeName+">")?d=a.cloneNode(!0):(sb.innerHTML=a.outerHTML,sb.removeChild(d=sb.firstChild)),!(t.support.noCloneEvent&&t.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||t.isXMLDoc(a)))for(f=z(d),h=z(a),m=0;null!=(e=h[m]);++m)if(f[m]){var r=f[m],v=void 0,w=void 0,g=void 0;if(1===r.nodeType){if(v=r.nodeName.toLowerCase(),!t.support.noCloneEvent&&r[t.expando]){g=t._data(r);for(w in g.events)t.removeEvent(r,w,g.handle);r.removeAttribute(t.expando)}"script"===
v&&r.text!==e.text?(p(r).text=e.text,l(r)):"object"===v?(r.parentNode&&(r.outerHTML=e.outerHTML),t.support.html5Clone&&e.innerHTML&&!t.trim(r.innerHTML)&&(r.innerHTML=e.innerHTML)):"input"===v&&ta.test(e.type)?(r.defaultChecked=r.checked=e.checked,r.value!==e.value&&(r.value=e.value)):"option"===v?r.defaultSelected=r.selected=e.defaultSelected:("input"===v||"textarea"===v)&&(r.defaultValue=e.defaultValue)}}if(c)if(b)for(h=h||z(a),f=f||z(d),m=0;null!=(e=h[m]);m++)E(e,f[m]);else E(a,d);return f=z(d,
"script"),0<f.length&&x(f,!n&&z(a,"script")),d},buildFragment:function(a,c,b,f){for(var e,d,l,m,h,p,r,v=a.length,w=n(c),g=[],q=0;v>q;q++)if(d=a[q],d||0===d)if("object"===t.type(d))t.merge(g,d.nodeType?[d]:d);else if(fa.test(d)){m=m||w.appendChild(c.createElement("div"));h=(ja.exec(d)||["",""])[1].toLowerCase();r=ea[h]||ea._default;m.innerHTML=r[1]+d.replace(fb,"<$1></$2>")+r[2];for(e=r[0];e--;)m=m.lastChild;if(!t.support.leadingWhitespace&&db.test(d)&&g.push(c.createTextNode(db.exec(d)[0])),!t.support.tbody)for(e=
(d="table"!==h||lb.test(d)?"<table>"!==r[1]||lb.test(d)?0:m:m.firstChild)&&d.childNodes.length;e--;)t.nodeName(p=d.childNodes[e],"tbody")&&!p.childNodes.length&&d.removeChild(p);t.merge(g,m.childNodes);for(m.textContent="";m.firstChild;)m.removeChild(m.firstChild);m=w.lastChild}else g.push(c.createTextNode(d));m&&w.removeChild(m);t.support.appendChecked||t.grep(z(g,"input"),A);for(q=0;d=g[q++];)if((!f||-1===t.inArray(d,f))&&(l=t.contains(d.ownerDocument,d),m=z(w.appendChild(d),"script"),l&&x(m),b))for(e=
0;d=m[e++];)Qa.test(d.type||"")&&b.push(d);return w},cleanData:function(a,c){for(var b,f,e,d,l=0,m=t.expando,h=t.cache,p=t.support.deleteExpando,n=t.event.special;null!=(b=a[l]);l++)if((c||t.acceptData(b))&&(e=b[m],d=e&&h[e])){if(d.events)for(f in d.events)n[f]?t.event.remove(b,f):t.removeEvent(b,f,d.handle);h[e]&&(delete h[e],p?delete b[m]:typeof b.removeAttribute!==ca?b.removeAttribute(m):b[m]=null,ka.push(e))}},_evalUrl:function(a){return t.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,
"throws":!0})}});t.fn.extend({wrapAll:function(a){if(t.isFunction(a))return this.each(function(c){t(this).wrapAll(a.call(this,c))});if(this[0]){var c=t(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&c.insertBefore(this[0]);c.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return t.isFunction(a)?this.each(function(c){t(this).wrapInner(a.call(this,c))}):this.each(function(){var c=t(this),b=
c.contents();b.length?b.wrapAll(a):c.append(a)})},wrap:function(a){var c=t.isFunction(a);return this.each(function(b){t(this).wrapAll(c?a.call(this,b):a)})},unwrap:function(){return this.parent().each(function(){t.nodeName(this,"body")||t(this).replaceWith(this.childNodes)}).end()}});var Za,hb,Ya,Fa=/alpha\([^)]*\)/i,Eb=/opacity\s*=\s*([^)]*)/,$a=/^(top|right|bottom|left)$/,ra=/^(none|table(?!-c[ea]).+)/,nb=/^margin/,La=RegExp("^("+J+")(.*)$","i"),vb=RegExp("^("+J+")(?!px)[a-z%]+$","i"),Ib=RegExp("^([+-])=("+
J+")","i"),Jb={BODY:"block"},Kb={position:"absolute",visibility:"hidden",display:"block"},kb={letterSpacing:0,fontWeight:400},xb=["Top","Right","Bottom","Left"],Rb=["Webkit","O","Moz","ms"];t.fn.extend({css:function(a,c){return t.access(this,function(a,c,b){var f,e={},d=0;if(t.isArray(c)){f=hb(a);for(b=c.length;b>d;d++)e[c[d]]=t.css(a,c[d],!1,f);return e}return b!==g?t.style(a,c,b):t.css(a,c)},a,c,1<arguments.length)},show:function(){return L(this,!0)},hide:function(){return L(this)},toggle:function(a){return"boolean"==
typeof a?a?this.show():this.hide():this.each(function(){y(this)?t(this).show():t(this).hide()})}});t.extend({cssHooks:{opacity:{get:function(a,c){if(c){var b=Ya(a,"opacity");return""===b?"1":b}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":t.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,b,f){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,d,l,m=t.camelCase(c),h=a.style;if(c=
t.cssProps[m]||(t.cssProps[m]=u(h,m)),l=t.cssHooks[c]||t.cssHooks[m],b===g)return l&&"get"in l&&(e=l.get(a,!1,f))!==g?e:h[c];if(d=typeof b,"string"===d&&(e=Ib.exec(b))&&(b=(e[1]+1)*e[2]+parseFloat(t.css(a,c)),d="number"),!(null==b||"number"===d&&isNaN(b)||("number"!==d||t.cssNumber[m]||(b+="px"),t.support.clearCloneStyle||""!==b||0!==c.indexOf("background")||(h[c]="inherit"),l&&"set"in l&&(b=l.set(a,b,f))===g)))try{h[c]=b}catch(p){}}},css:function(a,c,b,f){var e,d,l,m=t.camelCase(c);return c=t.cssProps[m]||
(t.cssProps[m]=u(a.style,m)),l=t.cssHooks[c]||t.cssHooks[m],l&&"get"in l&&(d=l.get(a,!0,b)),d===g&&(d=Ya(a,c,f)),"normal"===d&&c in kb&&(d=kb[c]),""===b||b?(e=parseFloat(d),!0===b||t.isNumeric(e)?e||0:d):d}});d.getComputedStyle?(hb=function(a){return d.getComputedStyle(a,null)},Ya=function(a,c,b){var f,e,d,l=(b=b||hb(a))?b.getPropertyValue(c)||b[c]:g,m=a.style;return b&&(""!==l||t.contains(a.ownerDocument,a)||(l=t.style(a,c)),vb.test(l)&&nb.test(c)&&(f=m.width,e=m.minWidth,d=m.maxWidth,m.minWidth=
m.maxWidth=m.width=l,l=b.width,m.width=f,m.minWidth=e,m.maxWidth=d)),l}):Q.documentElement.currentStyle&&(hb=function(a){return a.currentStyle},Ya=function(a,c,b){var f,e,d;b=(b=b||hb(a))?b[c]:g;var l=a.style;return null==b&&l&&l[c]&&(b=l[c]),vb.test(b)&&!$a.test(c)&&(f=l.left,e=a.runtimeStyle,d=e&&e.left,d&&(e.left=a.currentStyle.left),l.left="fontSize"===c?"1em":b,b=l.pixelLeft+"px",l.left=f,d&&(e.left=d)),""===b?"auto":b});t.each(["height","width"],function(a,c){t.cssHooks[c]={get:function(a,b,
f){return b?0===a.offsetWidth&&ra.test(t.css(a,"display"))?t.swap(a,Kb,function(){return G(a,c,f)}):G(a,c,f):g},set:function(a,b,f){var e=f&&hb(a);return D(a,b,f?B(a,c,f,t.support.boxSizing&&"border-box"===t.css(a,"boxSizing",!1,e),e):0)}}});t.support.opacity||(t.cssHooks.opacity={get:function(a,c){return Eb.test((c&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":c?"1":""},set:function(a,c){var b=a.style,f=a.currentStyle,e=t.isNumeric(c)?"alpha(opacity="+100*
c+")":"",d=f&&f.filter||b.filter||"";b.zoom=1;(1<=c||""===c)&&""===t.trim(d.replace(Fa,""))&&b.removeAttribute&&(b.removeAttribute("filter"),""===c||f&&!f.filter)||(b.filter=Fa.test(d)?d.replace(Fa,e):d+" "+e)}});t(function(){t.support.reliableMarginRight||(t.cssHooks.marginRight={get:function(a,c){return c?t.swap(a,{display:"inline-block"},Ya,[a,"marginRight"]):g}});!t.support.pixelPosition&&t.fn.position&&t.each(["top","left"],function(a,c){t.cssHooks[c]={get:function(a,b){return b?(b=Ya(a,c),vb.test(b)?
t(a).position()[c]+"px":b):g}}})});t.expr&&t.expr.filters&&(t.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!t.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||t.css(a,"display"))},t.expr.filters.visible=function(a){return!t.expr.filters.hidden(a)});t.each({margin:"",padding:"",border:"Width"},function(a,c){t.cssHooks[a+c]={expand:function(b){var f=0,e={};for(b="string"==typeof b?b.split(" "):[b];4>f;f++)e[a+xb[f]+c]=b[f]||b[f-2]||b[0];return e}};nb.test(a)||
(t.cssHooks[a+c].set=D)});var Yb=/%20/g,Wb=/\[\]$/,Cb=/\r?\n/g,Zb=/^(?:submit|button|image|reset|file)$/i,$b=/^(?:input|select|textarea|keygen)/i;t.fn.extend({serialize:function(){return t.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=t.prop(this,"elements");return a?t.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!t(this).is(":disabled")&&$b.test(this.nodeName)&&!Zb.test(a)&&(this.checked||!ta.test(a))}).map(function(a,c){var b=
t(this).val();return null==b?null:t.isArray(b)?t.map(b,function(a){return{name:c.name,value:a.replace(Cb,"\r\n")}}):{name:c.name,value:b.replace(Cb,"\r\n")}}).get()}});t.param=function(a,c){var b,f=[],e=function(a,c){c=t.isFunction(c)?c():null==c?"":c;f[f.length]=encodeURIComponent(a)+"="+encodeURIComponent(c)};if(c===g&&(c=t.ajaxSettings&&t.ajaxSettings.traditional),t.isArray(a)||a.jquery&&!t.isPlainObject(a))t.each(a,function(){e(this.name,this.value)});else for(b in a)O(b,a[b],c,e);return f.join("&").replace(Yb,
"+")};t.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,c){t.fn[c]=function(a,b){return 0<arguments.length?this.on(c,null,a,b):this.trigger(c)}});t.fn.extend({hover:function(a,c){return this.mouseenter(a).mouseleave(c||a)},bind:function(a,c,b){return this.on(a,null,c,b)},unbind:function(a,c){return this.off(a,null,c)},
delegate:function(a,c,b,f){return this.on(c,a,b,f)},undelegate:function(a,c,b){return 1===arguments.length?this.off(a,"**"):this.off(c,a||"**",b)}});var zb,ub,Nb=t.now(),Gb=/\?/,ac=/#.*$/,Sb=/([?&])_=[^&]*/,bc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,dc=/^(?:GET|HEAD)$/,Ob=/^\/\//,Tb=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Ra=t.fn.load,Ca={},yb={},mb="*/".concat("*");try{ub=la.href}catch(hc){ub=Q.createElement("a"),ub.href="",ub=ub.href}zb=Tb.exec(ub.toLowerCase())||[];t.fn.load=function(a,c,b){if("string"!=
typeof a&&Ra)return Ra.apply(this,arguments);var f,e,d,l=this,m=a.indexOf(" ");return 0<=m&&(f=a.slice(m,a.length),a=a.slice(0,m)),t.isFunction(c)?(b=c,c=g):c&&"object"==typeof c&&(d="POST"),0<l.length&&t.ajax({url:a,type:d,dataType:"html",data:c}).done(function(a){e=arguments;l.html(f?t("<div>").append(t.parseHTML(a)).find(f):a)}).complete(b&&function(a,c){l.each(b,e||[a.responseText,c,a])}),this};t.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,c){t.fn[c]=
function(a){return this.on(c,a)}});t.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ub,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(zb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":mb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",
json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":t.parseJSON,"text xml":t.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,c){return c?P(P(a,t.ajaxSettings),c):P(t.ajaxSettings,a)},ajaxPrefilter:N(Ca),ajaxTransport:N(yb),ajax:function(a,c){function b(a,c,f,e){var n,z,k,A,y=c;if(2!==E){E=2;m&&clearTimeout(m);p=g;l=e||"";fa.readyState=0<a?4:0;e=200<=a&&300>a||304===a;if(f){k=r;for(var $a=fa,D,Ka,G,F,B=k.contents,L=k.dataTypes;"*"===L[0];)L.shift(),Ka===g&&(Ka=
k.mimeType||$a.getResponseHeader("Content-Type"));if(Ka)for(F in B)if(B[F]&&B[F].test(Ka)){L.unshift(F);break}if(L[0]in f)G=L[0];else{for(F in f){if(!L[0]||k.converters[F+" "+L[0]]){G=F;break}D||(D=F)}G=G||D}k=G?(G!==L[0]&&L.unshift(G),f[G]):g}var I;a:{f=r;D=k;Ka=fa;G=e;var ra,ta,La;k={};$a=f.dataTypes.slice();if($a[1])for(ra in f.converters)k[ra.toLowerCase()]=f.converters[ra];for(F=$a.shift();F;)if(f.responseFields[F]&&(Ka[f.responseFields[F]]=D),!La&&G&&f.dataFilter&&(D=f.dataFilter(D,f.dataType)),
La=F,F=$a.shift())if("*"===F)F=La;else if("*"!==La&&La!==F){if(ra=k[La+" "+F]||k["* "+F],!ra)for(I in k)if(ta=I.split(" "),ta[1]===F&&(ra=k[La+" "+ta[0]]||k["* "+ta[0]])){!0===ra?ra=k[I]:!0!==k[I]&&(F=ta[0],$a.unshift(ta[1]));break}if(!0!==ra)if(ra&&f["throws"])D=ra(D);else try{D=ra(D)}catch(nb){I={state:"parsererror",error:ra?nb:"No conversion from "+La+" to "+F};break a}}I={state:"success",data:D}}k=I;e?(r.ifModified&&(A=fa.getResponseHeader("Last-Modified"),A&&(t.lastModified[d]=A),A=fa.getResponseHeader("etag"),
A&&(t.etag[d]=A)),204===a||"HEAD"===r.type?y="nocontent":304===a?y="notmodified":(y=k.state,n=k.data,z=k.error,e=!z)):(z=y,(a||!y)&&(y="error",0>a&&(a=0)));fa.status=a;fa.statusText=(c||y)+"";e?x.resolveWith(v,[n,y,fa]):x.rejectWith(v,[fa,y,z]);fa.statusCode(u);u=g;h&&w.trigger(e?"ajaxSuccess":"ajaxError",[fa,r,e?n:z]);q.fireWith(v,[fa,y]);h&&(w.trigger("ajaxComplete",[fa,r]),--t.active||t.event.trigger("ajaxStop"))}}"object"==typeof a&&(c=a,a=g);c=c||{};var f,e,d,l,m,h,p,n,r=t.ajaxSetup({},c),v=
r.context||r,w=r.context&&(v.nodeType||v.jquery)?t(v):t.event,x=t.Deferred(),q=t.Callbacks("once memory"),u=r.statusCode||{},z={},k={},E=0,A="canceled",fa={readyState:0,getResponseHeader:function(a){var c;if(2===E){if(!n)for(n={};c=bc.exec(l);)n[c[1].toLowerCase()]=c[2];c=n[a.toLowerCase()]}return null==c?null:c},getAllResponseHeaders:function(){return 2===E?l:null},setRequestHeader:function(a,c){var b=a.toLowerCase();return E||(a=k[b]=k[b]||a,z[a]=c),this},overrideMimeType:function(a){return E||
(r.mimeType=a),this},statusCode:function(a){var c;if(a)if(2>E)for(c in a)u[c]=[u[c],a[c]];else fa.always(a[fa.status]);return this},abort:function(a){a=a||A;return p&&p.abort(a),b(0,a),this}};if(x.promise(fa).complete=q.add,fa.success=fa.done,fa.error=fa.fail,r.url=((a||r.url||ub)+"").replace(ac,"").replace(Ob,zb[1]+"//"),r.type=c.method||c.type||r.method||r.type,r.dataTypes=t.trim(r.dataType||"*").toLowerCase().match(na)||[""],null==r.crossDomain&&(f=Tb.exec(r.url.toLowerCase()),r.crossDomain=!(!f||
f[1]===zb[1]&&f[2]===zb[2]&&(f[3]||("http:"===f[1]?"80":"443"))===(zb[3]||("http:"===zb[1]?"80":"443")))),r.data&&r.processData&&"string"!=typeof r.data&&(r.data=t.param(r.data,r.traditional)),R(Ca,r,c,fa),2===E)return fa;(h=r.global)&&0===t.active++&&t.event.trigger("ajaxStart");r.type=r.type.toUpperCase();r.hasContent=!dc.test(r.type);d=r.url;r.hasContent||(r.data&&(d=r.url+=(Gb.test(d)?"&":"?")+r.data,delete r.data),!1===r.cache&&(r.url=Sb.test(d)?d.replace(Sb,"$1_="+Nb++):d+(Gb.test(d)?"&":"?")+
"_="+Nb++));r.ifModified&&(t.lastModified[d]&&fa.setRequestHeader("If-Modified-Since",t.lastModified[d]),t.etag[d]&&fa.setRequestHeader("If-None-Match",t.etag[d]));(r.data&&r.hasContent&&!1!==r.contentType||c.contentType)&&fa.setRequestHeader("Content-Type",r.contentType);fa.setRequestHeader("Accept",r.dataTypes[0]&&r.accepts[r.dataTypes[0]]?r.accepts[r.dataTypes[0]]+("*"!==r.dataTypes[0]?", "+mb+"; q=0.01":""):r.accepts["*"]);for(e in r.headers)fa.setRequestHeader(e,r.headers[e]);if(r.beforeSend&&
(!1===r.beforeSend.call(v,fa,r)||2===E))return fa.abort();A="abort";for(e in{success:1,error:1,complete:1})fa[e](r[e]);if(p=R(yb,r,c,fa)){fa.readyState=1;h&&w.trigger("ajaxSend",[fa,r]);r.async&&0<r.timeout&&(m=setTimeout(function(){fa.abort("timeout")},r.timeout));try{E=1,p.send(z,b)}catch(y){if(!(2>E))throw y;b(-1,y)}}else b(-1,"No Transport");return fa},getJSON:function(a,c,b){return t.get(a,c,b,"json")},getScript:function(a,c){return t.get(a,g,c,"script")}});t.each(["get","post"],function(a,c){t[c]=
function(a,b,f,e){return t.isFunction(b)&&(e=e||f,f=b,b=g),t.ajax({url:a,type:c,dataType:e,data:b,success:f})}});t.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return t.globalEval(a),a}}});t.ajaxPrefilter("script",function(a){a.cache===g&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});t.ajaxTransport("script",function(a){if(a.crossDomain){var c,
b=Q.head||t("head")[0]||Q.documentElement;return{send:function(f,e){c=Q.createElement("script");c.async=!0;a.scriptCharset&&(c.charset=a.scriptCharset);c.src=a.url;c.onload=c.onreadystatechange=function(a,b){(b||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),c=null,b||e(200,"success"))};b.insertBefore(c,b.firstChild)},abort:function(){c&&c.onload(g,!0)}}}});var Ab=[],Pb=/(=)\?(?=&|$)|\?\?/;t.ajaxSetup({jsonp:"callback",
jsonpCallback:function(){var a=Ab.pop()||t.expando+"_"+Nb++;return this[a]=!0,a}});t.ajaxPrefilter("json jsonp",function(a,c,b){var f,e,l,m=!1!==a.jsonp&&(Pb.test(a.url)?"url":"string"==typeof a.data&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pb.test(a.data)&&"data");return m||"jsonp"===a.dataTypes[0]?(f=a.jsonpCallback=t.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,m?a[m]=a[m].replace(Pb,"$1"+f):!1!==a.jsonp&&(a.url+=(Gb.test(a.url)?"&":"?")+a.jsonp+"="+
f),a.converters["script json"]=function(){return l||t.error(f+" was not called"),l[0]},a.dataTypes[0]="json",e=d[f],d[f]=function(){l=arguments},b.always(function(){d[f]=e;a[f]&&(a.jsonpCallback=c.jsonpCallback,Ab.push(f));l&&t.isFunction(e)&&e(l[0]);l=e=g}),"script"):g});var Db,Hb,ec=0,Qb=d.ActiveXObject&&function(){for(var a in Db)Db[a](g,!0)};t.ajaxSettings.xhr=d.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&K()))a:{try{a=new d.ActiveXObject("Microsoft.XMLHTTP");break a}catch(c){}a=void 0}return a}:
K;Hb=t.ajaxSettings.xhr();t.support.cors=!!Hb&&"withCredentials"in Hb;(Hb=t.support.ajax=!!Hb)&&t.ajaxTransport(function(a){if(!a.crossDomain||t.support.cors){var c;return{send:function(b,f){var e,l,m=a.xhr();if(a.username?m.open(a.type,a.url,a.async,a.username,a.password):m.open(a.type,a.url,a.async),a.xhrFields)for(l in a.xhrFields)m[l]=a.xhrFields[l];a.mimeType&&m.overrideMimeType&&m.overrideMimeType(a.mimeType);a.crossDomain||b["X-Requested-With"]||(b["X-Requested-With"]="XMLHttpRequest");try{for(l in b)m.setRequestHeader(l,
b[l])}catch(h){}m.send(a.hasContent&&a.data||null);c=function(b,d){var l,h,p,r;try{if(c&&(d||4===m.readyState))if(c=g,e&&(m.onreadystatechange=t.noop,Qb&&delete Db[e]),d)4!==m.readyState&&m.abort();else{r={};l=m.status;h=m.getAllResponseHeaders();"string"==typeof m.responseText&&(r.text=m.responseText);try{p=m.statusText}catch(n){p=""}l||!a.isLocal||a.crossDomain?1223===l&&(l=204):l=r.text?200:404}}catch(n){d||f(-1,n)}r&&f(l,p,r,h)};a.async?4===m.readyState?setTimeout(c):(e=++ec,Qb&&(Db||(Db={},t(d).unload(Qb)),
Db[e]=c),m.onreadystatechange=c):c()},abort:function(){c&&c(g,!0)}}}});var Bb,Mb,fc=/^(?:toggle|show|hide)$/,Ub=RegExp("^(?:([+-])=|)("+J+")([a-z%]*)$","i"),gc=/queueHooks$/,Lb=[function(a,c,b){var f,e,d,l,m,h=this,p={},r=a.style,n=a.nodeType&&y(a),v=t._data(a,"fxshow");b.queue||(l=t._queueHooks(a,"fx"),null==l.unqueued&&(l.unqueued=0,m=l.empty.fire,l.empty.fire=function(){l.unqueued||m()}),l.unqueued++,h.always(function(){h.always(function(){l.unqueued--;t.queue(a,"fx").length||l.empty.fire()})}));
1===a.nodeType&&("height"in c||"width"in c)&&(b.overflow=[r.overflow,r.overflowX,r.overflowY],"inline"===t.css(a,"display")&&"none"===t.css(a,"float")&&(t.support.inlineBlockNeedsLayout&&"inline"!==F(a.nodeName)?r.zoom=1:r.display="inline-block"));b.overflow&&(r.overflow="hidden",t.support.shrinkWrapBlocks||h.always(function(){r.overflow=b.overflow[0];r.overflowX=b.overflow[1];r.overflowY=b.overflow[2]}));for(f in c)(e=c[f],fc.exec(e))&&(delete c[f],d=d||"toggle"===e,e!==(n?"hide":"show"))&&(p[f]=
v&&v[f]||t.style(a,f));if(!t.isEmptyObject(p))for(f in v?"hidden"in v&&(n=v.hidden):v=t._data(a,"fxshow",{}),d&&(v.hidden=!n),n?t(a).show():h.done(function(){t(a).hide()}),h.done(function(){var c;t._removeData(a,"fxshow");for(c in p)t.style(a,c,p[c])}),p)c=M(n?v[f]:0,f,h),f in v||(v[f]=c.start,n&&(c.end=c.start,c.start="width"===f||"height"===f?1:0))}],Fb={"*":[function(a,c){var b=this.createTween(a,c),f=b.cur(),e=Ub.exec(c),d=e&&e[3]||(t.cssNumber[a]?"":"px"),l=(t.cssNumber[a]||"px"!==d&&+f)&&Ub.exec(t.css(b.elem,
a)),m=1,h=20;if(l&&l[3]!==d){d=d||l[3];e=e||[];l=+f||1;do m=m||".5",l/=m,t.style(b.elem,a,l+d);while(m!==(m=b.cur()/f)&&1!==m&&--h)}return e&&(l=b.start=+l||+f||0,b.unit=d,b.end=e[1]?l+(e[1]+1)*e[2]:+e[2]),b}]};t.Animation=t.extend(C,{tweener:function(a,c){t.isFunction(a)?(c=a,a=["*"]):a=a.split(" ");for(var b,f=0,e=a.length;e>f;f++)b=a[f],Fb[b]=Fb[b]||[],Fb[b].unshift(c)},prefilter:function(a,c){c?Lb.unshift(a):Lb.push(a)}});t.Tween=T;T.prototype={constructor:T,init:function(a,c,b,f,e,d){this.elem=
a;this.prop=b;this.easing=e||"swing";this.options=c;this.start=this.now=this.cur();this.end=f;this.unit=d||(t.cssNumber[b]?"":"px")},cur:function(){var a=T.propHooks[this.prop];return a&&a.get?a.get(this):T.propHooks._default.get(this)},run:function(a){var c,b=T.propHooks[this.prop];return this.pos=c=this.options.duration?t.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*c+this.start,this.options.step&&this.options.step.call(this.elem,this.now,
this),b&&b.set?b.set(this):T.propHooks._default.set(this),this}};T.prototype.init.prototype=T.prototype;T.propHooks={_default:{get:function(a){var c;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(c=t.css(a.elem,a.prop,""),c&&"auto"!==c?c:0):a.elem[a.prop]},set:function(a){t.fx.step[a.prop]?t.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[t.cssProps[a.prop]]||t.cssHooks[a.prop])?t.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};T.propHooks.scrollTop=T.propHooks.scrollLeft=
{set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};t.each(["toggle","show","hide"],function(a,c){var b=t.fn[c];t.fn[c]=function(a,f,e){return null==a||"boolean"==typeof a?b.apply(this,arguments):this.animate(V(c,!0),a,f,e)}});t.fn.extend({fadeTo:function(a,c,b,f){return this.filter(y).css("opacity",0).show().end().animate({opacity:c},a,b,f)},animate:function(a,c,b,f){var e=t.isEmptyObject(a),d=t.speed(c,b,f);c=function(){var c=C(this,t.extend({},a),d);(e||t._data(this,"finish"))&&
c.stop(!0)};return c.finish=c,e||!1===d.queue?this.each(c):this.queue(d.queue,c)},stop:function(a,c,b){var f=function(a){var c=a.stop;delete a.stop;c(b)};return"string"!=typeof a&&(b=c,c=a,a=g),c&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var c=!0,e=null!=a&&a+"queueHooks",d=t.timers,l=t._data(this);if(e)l[e]&&l[e].stop&&f(l[e]);else for(e in l)l[e]&&l[e].stop&&gc.test(e)&&f(l[e]);for(e=d.length;e--;)d[e].elem!==this||null!=a&&d[e].queue!==a||(d[e].anim.stop(b),c=!1,d.splice(e,1));!c&&b||
t.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var c,b=t._data(this),f=b[a+"queue"];c=b[a+"queueHooks"];var e=t.timers,d=f?f.length:0;b.finish=!0;t.queue(this,a,[]);c&&c.stop&&c.stop.call(this,!0);for(c=e.length;c--;)e[c].elem===this&&e[c].queue===a&&(e[c].anim.stop(!0),e.splice(c,1));for(c=0;d>c;c++)f[c]&&f[c].finish&&f[c].finish.call(this);delete b.finish})}});t.each({slideDown:V("show"),slideUp:V("hide"),slideToggle:V("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},
fadeToggle:{opacity:"toggle"}},function(a,c){t.fn[a]=function(a,b,f){return this.animate(c,a,b,f)}});t.speed=function(a,c,b){var f=a&&"object"==typeof a?t.extend({},a):{complete:b||!b&&c||t.isFunction(a)&&a,duration:a,easing:b&&c||c&&!t.isFunction(c)&&c};return f.duration=t.fx.off?0:"number"==typeof f.duration?f.duration:f.duration in t.fx.speeds?t.fx.speeds[f.duration]:t.fx.speeds._default,(null==f.queue||!0===f.queue)&&(f.queue="fx"),f.old=f.complete,f.complete=function(){t.isFunction(f.old)&&f.old.call(this);
f.queue&&t.dequeue(this,f.queue)},f};t.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}};t.timers=[];t.fx=T.prototype.init;t.fx.tick=function(){var a,c=t.timers,b=0;for(Bb=t.now();c.length>b;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||t.fx.stop();Bb=g};t.fx.timer=function(a){a()&&t.timers.push(a)&&t.fx.start()};t.fx.interval=13;t.fx.start=function(){Mb||(Mb=setInterval(t.fx.tick,t.fx.interval))};t.fx.stop=function(){clearInterval(Mb);Mb=null};t.fx.speeds=
{slow:600,fast:200,_default:400};t.fx.step={};t.expr&&t.expr.filters&&(t.expr.filters.animated=function(a){return t.grep(t.timers,function(c){return a===c.elem}).length});t.fn.offset=function(a){if(arguments.length)return a===g?this:this.each(function(c){t.offset.setOffset(this,a,c)});var c,b,f={top:0,left:0},e=this[0],d=e&&e.ownerDocument;if(d)return c=d.documentElement,t.contains(c,e)?(typeof e.getBoundingClientRect!==ca&&(f=e.getBoundingClientRect()),b=W(d),{top:f.top+(b.pageYOffset||c.scrollTop)-
(c.clientTop||0),left:f.left+(b.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}):f};t.offset={setOffset:function(a,c,b){var f=t.css(a,"position");"static"===f&&(a.style.position="relative");var e=t(a),d=e.offset(),l=t.css(a,"top"),m=t.css(a,"left"),h={},p={},r,n;("absolute"===f||"fixed"===f)&&-1<t.inArray("auto",[l,m])?(p=e.position(),r=p.top,n=p.left):(r=parseFloat(l)||0,n=parseFloat(m)||0);t.isFunction(c)&&(c=c.call(a,b,d));null!=c.top&&(h.top=c.top-d.top+r);null!=c.left&&(h.left=c.left-d.left+n);
"using"in c?c.using.call(a,h):e.css(h)}};t.fn.extend({position:function(){if(this[0]){var a,c,b={top:0,left:0},f=this[0];return"fixed"===t.css(f,"position")?c=f.getBoundingClientRect():(a=this.offsetParent(),c=this.offset(),t.nodeName(a[0],"html")||(b=a.offset()),b.top+=t.css(a[0],"borderTopWidth",!0),b.left+=t.css(a[0],"borderLeftWidth",!0)),{top:c.top-b.top-t.css(f,"marginTop",!0),left:c.left-b.left-t.css(f,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||
Z;a&&!t.nodeName(a,"html")&&"static"===t.css(a,"position");)a=a.offsetParent;return a||Z})}});t.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var b=/Y/.test(c);t.fn[a]=function(f){return t.access(this,function(a,f,e){var d=W(a);return e===g?d?c in d?d[c]:d.document.documentElement[f]:a[f]:(d?d.scrollTo(b?t(d).scrollLeft():e,b?e:t(d).scrollTop()):a[f]=e,g)},a,f,arguments.length,null)}});t.each({Height:"height",Width:"width"},function(a,c){t.each({padding:"inner"+a,content:c,
"":"outer"+a},function(b,f){t.fn[f]=function(f,e){var d=arguments.length&&(b||"boolean"!=typeof f),l=b||(!0===f||!0===e?"margin":"border");return t.access(this,function(c,b,f){var e;return t.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(e=c.documentElement,Math.max(c.body["scroll"+a],e["scroll"+a],c.body["offset"+a],e["offset"+a],e["client"+a])):f===g?t.css(c,b,l):t.style(c,b,f,l)},c,d?f:g,d,null)}})});t.fn.size=function(){return this.length};t.fn.andSelf=t.fn.addBack;"object"==
typeof module&&module&&"object"==typeof module.exports?module.exports=t:(d.jQuery=d.$=t,"function"==typeof define&&define.amd&&define("jquery",[],function(){return t}))})(window);
window.Modernizr=function(d,g,k){function h(){q.input=function(c){for(var b=0,f=c.length;b<f;b++)v[c[b]]=c[b]in a;return v.list&&(v.list=!!g.createElement("datalist")&&!!d.HTMLDataListElement),v}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));q.inputtypes=function(b){for(var f=0,d,l,h,p=b.length;f<p;f++)a.setAttribute("type",l=b[f]),(d="text"!==a.type)&&(a.value=c,a.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(l)&&a.style.WebkitAppearance!==
k?(e.appendChild(a),h=g.defaultView,d=h.getComputedStyle&&"textfield"!==h.getComputedStyle(a,null).WebkitAppearance&&0!==a.offsetHeight,e.removeChild(a)):/^(search|tel)$/.test(l)||(/^(url|email)$/.test(l)?d=a.checkValidity&&!1===a.checkValidity():d=a.value!=c)),m[b[f]]=!!d;return m}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var q={},e=g.documentElement,b=g.createElement("modernizr"),b=b.style,a=g.createElement("input"),c=":)",f={},m={},v={},
r=[],n=r.slice,w,p={}.hasOwnProperty,l;"undefined"!==typeof p&&"undefined"!==typeof p.call?l=function(a,c){return p.call(a,c)}:l=function(a,c){return c in a&&"undefined"===typeof a.constructor.prototype[c]};Function.prototype.bind||(Function.prototype.bind=function(a){var c=this;if("function"!=typeof c)throw new TypeError;var b=n.call(arguments,1),f=function(){if(this instanceof f){var e=function(){};e.prototype=c.prototype;var e=new e,d=c.apply(e,b.concat(n.call(arguments)));return Object(d)===d?
d:e}return c.apply(a,b.concat(n.call(arguments)))};return f});for(var x in f)l(f,x)&&(w=x.toLowerCase(),q[w]=f[x](),r.push((q[w]?"":"no-")+w));q.input||h();q.addTest=function(a,c){if("object"==typeof a)for(var b in a)l(a,b)&&q.addTest(b,a[b]);else{a=a.toLowerCase();if(q[a]!==k)return q;c="function"==typeof c?c():c;e.className+=" "+(c?"":"no-")+a;q[a]=c}return q};b.cssText="";return b=a=null,function(a,c){function b(){var a=g.elements;return"string"==typeof a?a.split(" "):a}function f(a){var c=w[a[n]];
return c||(c={},v++,a[n]=v,w[v]=c),c}function e(a,b,d){b||(b=c);if(x)return b.createElement(a);d||(d=f(b));var l;return d.cache[a]?l=d.cache[a].cloneNode():p.test(a)?l=(d.cache[a]=d.createElem(a)).cloneNode():l=d.createElem(a),l.canHaveChildren&&!h.test(a)?d.frag.appendChild(l):l}function d(a,c){c.cache||(c.cache={},c.createElem=a.createElement,c.createFrag=a.createDocumentFragment,c.frag=c.createFrag());a.createElement=function(b){return g.shivMethods?e(b,a,c):c.createElem(b)};a.createDocumentFragment=
Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+b().join().replace(/\w+/g,function(a){return c.createElem(a),c.frag.createElement(a),'c("'+a+'")'})+");return n}")(g,c.frag)}function l(a){a||(a=c);var b=f(a);if(g.shivCSS&&!r&&!b.hasCSS){var e,m=a;e=m.createElement("p");m=m.getElementsByTagName("head")[0]||m.documentElement;e=(e.innerHTML="x<style>article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}</style>",
m.insertBefore(e.lastChild,m.firstChild));b.hasCSS=!!e}return x||d(a,b),a}var m=a.html5||{},h=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,r,n="_html5shiv",v=0,w={},x;(function(){try{var a=c.createElement("a");a.innerHTML="<xyz></xyz>";r="hidden"in a;var b;if(!(b=1==a.childNodes.length)){c.createElement("a");var f=c.createDocumentFragment();b="undefined"==typeof f.cloneNode||
"undefined"==typeof f.createDocumentFragment||"undefined"==typeof f.createElement}x=b}catch(e){x=r=!0}})();var g={elements:m.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!1!==m.shivCSS,supportsUnknownElements:x,shivMethods:!1!==m.shivMethods,type:"default",shivDocument:l,createElement:e,createDocumentFragment:function(a,e){a||(a=c);if(x)return a.createDocumentFragment();
e=e||f(a);for(var d=e.frag.cloneNode(),l=0,m=b(),h=m.length;l<h;l++)d.createElement(m[l]);return d}};a.html5=g;l(c)}(this,g),q._version="2.6.2",e.className=e.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" js "+r.join(" ")),q}(this,this.document);
(function(d,g,k){function h(a){return"[object Function]"==w.call(a)}function q(a){return"string"==typeof a}function e(){}function b(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function a(){var c=p.shift();l=1;c?c.t?r(function(){("c"==c.t?F.injectCss:F.injectJs)(c.s,0,c.a,c.x,c.e,1)},0):(c(),a()):l=0}function c(c,f,e,d,m,h,v){function w(e){if(!q&&b(x.readyState)&&(k.r=q=1,!l&&a(),x.onload=x.onreadystatechange=null,e)){"img"!=c&&r(function(){z.removeChild(x)},50);for(var d in D[f])D[f].hasOwnProperty(d)&&
D[f][d].onload()}}v=v||F.errorTimeout;var x=g.createElement(c),q=0,u=0,k={t:e,s:f,e:m,a:h,x:v};1===D[f]&&(u=1,D[f]=[]);"object"==c?x.data=f:(x.src=f,x.type=c);x.width=x.height="0";x.onerror=x.onload=x.onreadystatechange=function(){w.call(this,u)};p.splice(d,0,k);"img"!=c&&(u||2===D[f]?(z.insertBefore(x,E?null:n),r(w,v)):D[f].push(x))}function f(b,f,e,d,m){return l=0,f=f||"j",q(b)?c("c"==f?u:A,b,f,this.i++,e,d,m):(p.splice(this.i++,0,b),1==p.length&&a()),this}function m(){var a=F;return a.loader={load:f,
i:0},a}var v=g.documentElement,r=d.setTimeout,n=g.getElementsByTagName("script")[0],w={}.toString,p=[],l=0,x="MozAppearance"in v.style,E=x&&!!g.createRange().compareNode,z=E?v:n.parentNode,v=d.opera&&"[object Opera]"==w.call(d.opera),v=!!g.attachEvent&&!v,A=x?"object":v?"script":"img",u=v?"script":A,y=Array.isArray||function(a){return"[object Array]"==w.call(a)},L=[],D={},B={timeout:function(a,c){return c.length&&(a.timeout=c[0]),a}},G,F;F=function(a){function c(a){a=a.split("!");var b=L.length,f=
a.pop(),e=a.length,f={url:f,origUrl:f,prefixes:a},d,l,m;for(l=0;l<e;l++)m=a[l].split("="),(d=B[m.shift()])&&(f=d(f,m));for(l=0;l<b;l++)f=L[l](f);return f}function b(a,f,e,d,l){var p=c(a),r=p.autoCallback;p.url.split(".").pop().split("?").shift();p.bypass||(f&&(f=h(f)?f:f[a]||f[d]||f[a.split("/").pop().split("?")[0]]),p.instead?p.instead(a,f,e,d,l):(D[p.url]?p.noexec=!0:D[p.url]=1,e.load(p.url,p.forceCSS||!p.forceJS&&"css"==p.url.split(".").pop().split("?").shift()?"c":k,p.noexec,p.attrs,p.timeout),
(h(f)||h(r))&&e.load(function(){m();f&&f(p.origUrl,l,d);r&&r(p.origUrl,l,d);D[p.url]=2})))}function f(a,c){function d(a,f){if(a)if(q(a))f||(p=function(){var a=[].slice.call(arguments);r.apply(this,a);n()}),b(a,p,c,0,l);else{if(Object(a)===a)for(w in v=function(){var c=0,b;for(b in a)a.hasOwnProperty(b)&&c++;return c}(),a)a.hasOwnProperty(w)&&(!f&&!--v&&(h(p)?p=function(){var a=[].slice.call(arguments);r.apply(this,a);n()}:p[w]=function(a){return function(){var c=[].slice.call(arguments);a&&a.apply(this,
c);n()}}(r[w])),b(a[w],p,c,w,l))}else!f&&n()}var l=!!a.test,m=a.load||a.both,p=a.callback||e,r=p,n=a.complete||e,v,w;d(l?a.yep:a.nope,!!m);m&&d(m)}var d,l,p=this.yepnope.loader;if(q(a))b(a,0,p,0);else if(y(a))for(d=0;d<a.length;d++)l=a[d],q(l)?b(l,0,p,0):y(l)?F(l):Object(l)===l&&f(l,p);else Object(a)===a&&f(a,p)};F.addPrefix=function(a,c){B[a]=c};F.addFilter=function(a){L.push(a)};F.errorTimeout=1E4;null==g.readyState&&g.addEventListener&&(g.readyState="loading",g.addEventListener("DOMContentLoaded",
G=function(){g.removeEventListener("DOMContentLoaded",G,0);g.readyState="complete"},0));d.yepnope=m();d.yepnope.executeStack=a;d.yepnope.injectJs=function(c,f,d,l,m,h){var p=g.createElement("script"),v,w;l=l||F.errorTimeout;p.src=c;for(w in d)p.setAttribute(w,d[w]);f=h?a:f||e;p.onreadystatechange=p.onload=function(){!v&&b(p.readyState)&&(v=1,f(),p.onload=p.onreadystatechange=null)};r(function(){v||(v=1,f(1))},l);m?p.onload():n.parentNode.insertBefore(p,n)};d.yepnope.injectCss=function(c,b,f,d,l,m){d=
g.createElement("link");var h;b=m?a:b||e;d.href=c;d.rel="stylesheet";d.type="text/css";for(h in f)d.setAttribute(h,f[h]);l||(n.parentNode.insertBefore(d,n),r(b,0))}})(this,document);Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};
!function(d){d(function(){var g=d.support,k;a:{k=document.createElement("bootstrap");var h={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},q;for(q in h)if(void 0!==k.style[q]){k=h[q];break a}k=void 0}g.transition=k&&{end:k}})}(window.jQuery);
!function(d){var g=function(h){d(h).on("click",'[data-dismiss="alert"]',this.close)};g.prototype.close=function(h){function g(){a.trigger("closed").remove()}var e=d(this),b=e.attr("data-target"),a;b||(b=e.attr("href"),b=b&&b.replace(/.*(?=#[^\s]*$)/,""));a=d(b);h&&h.preventDefault();a.length||(a=e.hasClass("alert")?e:e.parent());a.trigger(h=d.Event("close"));h.isDefaultPrevented()||(a.removeClass("in"),d.support.transition&&a.hasClass("fade")?a.on(d.support.transition.end,g):g())};var k=d.fn.alert;
d.fn.alert=function(h){return this.each(function(){var q=d(this),e=q.data("alert");e||q.data("alert",e=new g(this));"string"==typeof h&&e[h].call(q)})};d.fn.alert.Constructor=g;d.fn.alert.noConflict=function(){return d.fn.alert=k,this};d(document).on("click.alert.data-api",'[data-dismiss="alert"]',g.prototype.close)}(window.jQuery);
!function(d){var g=function(h,g){this.$element=d(h);this.options=d.extend({},d.fn.button.defaults,g)};g.prototype.setState=function(d){var g=this.$element,e=g.data(),b=g.is("input")?"val":"html";d+="Text";e.resetText||g.data("resetText",g[b]());g[b](e[d]||this.options[d]);setTimeout(function(){"loadingText"==d?g.addClass("disabled").attr("disabled","disabled"):g.removeClass("disabled").removeAttr("disabled")},0)};g.prototype.toggle=function(){var d=this.$element.closest('[data-toggle="buttons-radio"]');
d&&d.find(".active").removeClass("active");this.$element.toggleClass("active")};var k=d.fn.button;d.fn.button=function(h){return this.each(function(){var q=d(this),e=q.data("button"),b="object"==typeof h&&h;e||q.data("button",e=new g(this,b));"toggle"==h?e.toggle():h&&e.setState(h)})};d.fn.button.defaults={loadingText:"loading..."};d.fn.button.Constructor=g;d.fn.button.noConflict=function(){return d.fn.button=k,this};d(document).on("click.button.data-api","[data-toggle^=button]",function(h){h=d(h.target);
h.hasClass("btn")||(h=h.closest(".btn"));h.button("toggle")})}(window.jQuery);
!function(d){var g=function(h,g){this.$element=d(h);this.$indicators=this.$element.find(".carousel-indicators");this.options=g;"hover"==this.options.pause&&this.$element.on("mouseenter",d.proxy(this.pause,this)).on("mouseleave",d.proxy(this.cycle,this))};g.prototype={cycle:function(h){return h||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(d.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=
this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(h){var g=this.getActiveIndex(),e=this;if(!(h>this.$items.length-1||0>h))return this.sliding?this.$element.one("slid",function(){e.to(h)}):g==h?this.pause().cycle():this.slide(h>g?"next":"prev",d(this.$items[h]))},pause:function(h){return h||(this.paused=!0),this.$element.find(".next, .prev").length&&d.support.transition.end&&(this.$element.trigger(d.support.transition.end),
this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(h,g){var e=this.$element.find(".item.active"),b=g||e[h](),a=this.interval,c="next"==h?"left":"right",f="next"==h?"first":"last",m=this;this.sliding=!0;a&&this.pause();b=b.length?b:this.$element.find(".item")[f]();f=d.Event("slide",{relatedTarget:b[0],direction:c});if(!b.hasClass("active")){this.$indicators.length&&
(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var a=d(m.$indicators.children()[m.getActiveIndex()]);a&&a.addClass("active")}));if(d.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(f);if(f.isDefaultPrevented())return;b.addClass(h);b[0].offsetWidth;e.addClass(c);b.addClass(c);this.$element.one(d.support.transition.end,function(){b.removeClass([h,c].join(" ")).addClass("active");e.removeClass(["active",c].join(" "));m.sliding=!1;
setTimeout(function(){m.$element.trigger("slid")},0)})}else{this.$element.trigger(f);if(f.isDefaultPrevented())return;e.removeClass("active");b.addClass("active");this.sliding=!1;this.$element.trigger("slid")}return a&&this.cycle(),this}}};var k=d.fn.carousel;d.fn.carousel=function(h){return this.each(function(){var q=d(this),e=q.data("carousel"),b=d.extend({},d.fn.carousel.defaults,"object"==typeof h&&h),a="string"==typeof h?h:b.slide;e||q.data("carousel",e=new g(this,b));"number"==typeof h?e.to(h):
a?e[a]():b.interval&&e.pause().cycle()})};d.fn.carousel.defaults={interval:5E3,pause:"hover"};d.fn.carousel.Constructor=g;d.fn.carousel.noConflict=function(){return d.fn.carousel=k,this};d(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(h){var g=d(this),e,b=d(g.attr("data-target")||(e=g.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));e=d.extend({},b.data(),g.data());var a;b.carousel(e);(a=g.attr("data-slide-to"))&&b.data("carousel").pause().to(a).cycle();h.preventDefault()})}(window.jQuery);
!function(d){var g=function(h,g){this.$element=d(h);this.options=d.extend({},d.fn.collapse.defaults,g);this.options.parent&&(this.$parent=d(this.options.parent));this.options.toggle&&this.toggle()};g.prototype={constructor:g,dimension:function(){return this.$element.hasClass("width")?"width":"height"},show:function(){var h,g,e,b;if(!this.transitioning&&!this.$element.hasClass("in")){h=this.dimension();g=d.camelCase(["scroll",h].join("-"));if((e=this.$parent&&this.$parent.find("> .accordion-group > .in"))&&
e.length){if((b=e.data("collapse"))&&b.transitioning)return;e.collapse("hide");b||e.data("collapse",null)}this.$element[h](0);this.transition("addClass",d.Event("show"),"shown");d.support.transition&&this.$element[h](this.$element[0][g])}},hide:function(){var h;!this.transitioning&&this.$element.hasClass("in")&&(h=this.dimension(),this.reset(this.$element[h]()),this.transition("removeClass",d.Event("hide"),"hidden"),this.$element[h](0))},reset:function(d){var g=this.dimension();return this.$element.removeClass("collapse")[g](d||
"auto")[0].offsetWidth,this.$element[null!==d?"addClass":"removeClass"]("collapse"),this},transition:function(h,g,e){var b=this,a=function(){"show"==g.type&&b.reset();b.transitioning=0;b.$element.trigger(e)};this.$element.trigger(g);g.isDefaultPrevented()||(this.transitioning=1,this.$element[h]("in"),d.support.transition&&this.$element.hasClass("collapse")?this.$element.one(d.support.transition.end,a):a())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var k=d.fn.collapse;
d.fn.collapse=function(h){return this.each(function(){var q=d(this),e=q.data("collapse"),b=d.extend({},d.fn.collapse.defaults,q.data(),"object"==typeof h&&h);e||q.data("collapse",e=new g(this,b));"string"==typeof h&&e[h]()})};d.fn.collapse.defaults={toggle:!0};d.fn.collapse.Constructor=g;d.fn.collapse.noConflict=function(){return d.fn.collapse=k,this};d(document).on("click.collapse.data-api","[data-toggle=collapse]",function(h){var g=d(this),e;h=g.attr("data-target")||h.preventDefault()||(e=g.attr("href"))&&
e.replace(/.*(?=#[^\s]+$)/,"");e=d(h).data("collapse")?"toggle":g.data();g[d(h).hasClass("in")?"addClass":"removeClass"]("collapsed");d(h).collapse(e)})}(window.jQuery);
!function(d){function g(){d(".dropdown-backdrop").remove();d(h).each(function(){k(d(this)).removeClass("open")})}function k(b){var a=b.attr("data-target");a||(a=b.attr("href"),a=a&&/#/.test(a)&&a.replace(/.*(?=#[^\s]*$)/,""));(a=a&&d(a))&&a.length||(a=b.parent());return a}var h="[data-toggle=dropdown]",q=function(b){var a=d(b).on("click.dropdown.data-api",this.toggle);d("html").on("click.dropdown.data-api",function(){a.parent().removeClass("open")})};q.prototype={constructor:q,toggle:function(b){b=
d(this);var a,c;if(!b.is(".disabled, :disabled"))return a=k(b),c=a.hasClass("open"),g(),c||("disable-ontouchstart"in document.documentElement&&d('<div class="dropdown-backdrop"/>').insertBefore(d(this)).on("click",g),a.toggleClass("open")),b.focus(),!1},keydown:function(b){var a,c,f;if(/(38|40|27)/.test(b.keyCode)&&(a=d(this),b.preventDefault(),b.stopPropagation(),!a.is(".disabled, :disabled"))){c=k(a);f=c.hasClass("open");if(!f||f&&27==b.keyCode)return 27==b.which&&c.find(h).focus(),a.click();a=
d("[role=menu] li:not(.divider):visible a",c);a.length&&(c=a.index(a.filter(":focus")),38==b.keyCode&&0<c&&c--,40==b.keyCode&&c<a.length-1&&c++,~c||(c=0),a.eq(c).focus())}}};var e=d.fn.dropdown;d.fn.dropdown=function(b){return this.each(function(){var a=d(this),c=a.data("dropdown");c||a.data("dropdown",c=new q(this));"string"==typeof b&&c[b].call(a)})};d.fn.dropdown.Constructor=q;d.fn.dropdown.noConflict=function(){return d.fn.dropdown=e,this};d(document).on("click.dropdown.data-api",g).on("click.dropdown.data-api",
".dropdown form",function(b){b.stopPropagation()}).on("click.dropdown.data-api",h,q.prototype.toggle).on("keydown.dropdown.data-api",h+", [role=menu]",q.prototype.keydown)}(window.jQuery);
!function(d){var g=function(h,g){this.options=g;this.$element=d(h).delegate('[data-dismiss="modal"]',"click.dismiss.modal",d.proxy(this.hide,this));this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};g.prototype={constructor:g,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var h=this,g=d.Event("show");this.$element.trigger(g);this.isShown||g.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var e=d.support.transition&&
h.$element.hasClass("fade");h.$element.parent().length||h.$element.appendTo(document.body);h.$element.show();e&&h.$element[0].offsetWidth;h.$element.addClass("in").attr("aria-hidden",!1);h.enforceFocus();e?h.$element.one(d.support.transition.end,function(){h.$element.focus().trigger("shown")}):h.$element.focus().trigger("shown")}))},hide:function(h){h&&h.preventDefault();h=d.Event("hide");this.$element.trigger(h);this.isShown&&!h.isDefaultPrevented()&&(this.isShown=!1,this.escape(),d(document).off("focusin.modal"),
this.$element.removeClass("in").attr("aria-hidden",!0),d.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var h=this;d(document).on("focusin.modal",function(d){h.$element[0]!==d.target&&!h.$element.has(d.target).length&&h.$element.focus()})},escape:function(){var d=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(g){27==g.which&&d.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},
hideWithTransition:function(){var h=this,g=setTimeout(function(){h.$element.off(d.support.transition.end);h.hideModal()},500);this.$element.one(d.support.transition.end,function(){clearTimeout(g);h.hideModal()})},hideModal:function(){var d=this;this.$element.hide();this.backdrop(function(){d.removeBackdrop();d.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null},backdrop:function(h){var g=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&
this.options.backdrop){var e=d.support.transition&&g;this.$backdrop=d('<div class="modal-backdrop '+g+'" />').appendTo(document.body);this.$backdrop.click("static"==this.options.backdrop?d.proxy(this.$element[0].focus,this.$element[0]):d.proxy(this.hide,this));e&&this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");h&&(e?this.$backdrop.one(d.support.transition.end,h):h())}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),d.support.transition&&this.$element.hasClass("fade")?
this.$backdrop.one(d.support.transition.end,h):h()):h&&h()}};var k=d.fn.modal;d.fn.modal=function(h){return this.each(function(){var q=d(this),e=q.data("modal"),b=d.extend({},d.fn.modal.defaults,q.data(),"object"==typeof h&&h);e||q.data("modal",e=new g(this,b));"string"==typeof h?e[h]():b.show&&e.show()})};d.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0};d.fn.modal.Constructor=g;d.fn.modal.noConflict=function(){return d.fn.modal=k,this};d(document).on("click.modal.data-api",'[data-toggle="modal"]',
function(h){var g=d(this),e=g.attr("href"),b=d(g.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),e=b.data("modal")?"toggle":d.extend({remote:!/#/.test(e)&&e},b.data(),g.data());h.preventDefault();b.modal(e).one("hide",function(){g.focus()})})}(window.jQuery);
!function(d){var g=function(d,g){this.init("tooltip",d,g)};g.prototype={constructor:g,init:function(h,g,e){var b,a;this.type=h;this.$element=d(g);this.options=this.getOptions(e);this.enabled=!0;h=this.options.trigger.split(" ");for(e=h.length;e--;)g=h[e],"click"==g?this.$element.on("click."+this.type,this.options.selector,d.proxy(this.toggle,this)):"manual"!=g&&(b="hover"==g?"mouseenter":"focus",a="hover"==g?"mouseleave":"blur",this.$element.on(b+"."+this.type,this.options.selector,d.proxy(this.enter,
this)),this.$element.on(a+"."+this.type,this.options.selector,d.proxy(this.leave,this)));this.options.selector?this._options=d.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(h){return h=d.extend({},d.fn[this.type].defaults,this.$element.data(),h),h.delay&&"number"==typeof h.delay&&(h.delay={show:h.delay,hide:h.delay}),h},enter:function(h){var g=d.fn[this.type].defaults,e={},b;this._options&&d.each(this._options,function(a,c){g[a]!=c&&(e[a]=c)},this);b=
d(h.currentTarget)[this.type](e).data(this.type);if(!b.options.delay||!b.options.delay.show)return b.show();clearTimeout(this.timeout);b.hoverState="in";this.timeout=setTimeout(function(){"in"==b.hoverState&&b.show()},b.options.delay.show)},leave:function(h){var g=d(h.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!g.options.delay||!g.options.delay.hide)return g.hide();g.hoverState="out";this.timeout=setTimeout(function(){"out"==g.hoverState&&
g.hide()},g.options.delay.hide)},show:function(){var h,g,e,b,a;g=d.Event("show");if(this.hasContent()&&this.enabled&&(this.$element.trigger(g),!g.isDefaultPrevented())){h=this.tip();this.setContent();this.options.animation&&h.addClass("fade");b="function"==typeof this.options.placement?this.options.placement.call(this,h[0],this.$element[0]):this.options.placement;h.detach().css({top:0,left:0,display:"block"});this.options.container?h.appendTo(this.options.container):h.insertAfter(this.$element);g=
this.getPosition();e=h[0].offsetWidth;h=h[0].offsetHeight;switch(b){case "bottom":a={top:g.top+g.height,left:g.left+g.width/2-e/2};break;case "top":a={top:g.top-h,left:g.left+g.width/2-e/2};break;case "left":a={top:g.top+g.height/2-h/2,left:g.left-e};break;case "right":a={top:g.top+g.height/2-h/2,left:g.left+g.width}}this.applyPlacement(a,b);this.$element.trigger("shown")}},applyPlacement:function(d,g){var e=this.tip(),b=e[0].offsetWidth,a=e[0].offsetHeight,c,f,m,v;e.offset(d).addClass(g).addClass("in");
c=e[0].offsetWidth;f=e[0].offsetHeight;"top"==g&&f!=a&&(d.top=d.top+a-f,v=!0);"bottom"==g||"top"==g?(m=0,0>d.left&&(m=-2*d.left,d.left=0,e.offset(d),c=e[0].offsetWidth),this.replaceArrow(m-b+c,c,"left")):this.replaceArrow(f-a,f,"top");v&&e.offset(d)},replaceArrow:function(d,g,e){this.arrow().css(e,d?50*(1-d/g)+"%":"")},setContent:function(){var d=this.tip(),g=this.getTitle();d.find(".tooltip-inner")[this.options.html?"html":"text"](g);d.removeClass("fade in top bottom left right")},hide:function(){function h(){var b=
setTimeout(function(){g.off(d.support.transition.end).detach()},500);g.one(d.support.transition.end,function(){clearTimeout(b);g.detach()})}var g=this.tip(),e=d.Event("hide");this.$element.trigger(e);if(!e.isDefaultPrevented())return g.removeClass("in"),d.support.transition&&this.$tip.hasClass("fade")?h():g.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var d=this.$element;(d.attr("title")||"string"!=typeof d.attr("data-original-title"))&&d.attr("data-original-title",d.attr("title")||
"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var h=this.$element[0];return d.extend({},"function"==typeof h.getBoundingClientRect?h.getBoundingClientRect():{width:h.offsetWidth,height:h.offsetHeight},this.$element.offset())},getTitle:function(){var d,g=this.$element,e=this.options;return d=g.attr("data-original-title")||("function"==typeof e.title?e.title.call(g[0]):e.title),d},tip:function(){return this.$tip=this.$tip||d(this.options.template)},arrow:function(){return this.$arrow=
this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(h){h=h?d(h.currentTarget)[this.type](this._options).data(this.type):this;h.tip().hasClass("in")?h.hide():h.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var k=d.fn.tooltip;
d.fn.tooltip=function(h){return this.each(function(){var k=d(this),e=k.data("tooltip"),b="object"==typeof h&&h;e||k.data("tooltip",e=new g(this,b));"string"==typeof h&&e[h]()})};d.fn.tooltip.Constructor=g;d.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1};d.fn.tooltip.noConflict=function(){return d.fn.tooltip=k,this}}(window.jQuery);
!function(d){var g=function(d,g){this.init("popover",d,g)};g.prototype=d.extend({},d.fn.tooltip.Constructor.prototype,{constructor:g,setContent:function(){var d=this.tip(),g=this.getTitle(),e=this.getContent();d.find(".popover-title")[this.options.html?"html":"text"](g);d.find(".popover-content")[this.options.html?"html":"text"](e);d.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var d,g=this.$element,e=this.options;
return d=("function"==typeof e.content?e.content.call(g[0]):e.content)||g.attr("data-content"),d},tip:function(){return this.$tip||(this.$tip=d(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var k=d.fn.popover;d.fn.popover=function(h){return this.each(function(){var k=d(this),e=k.data("popover"),b="object"==typeof h&&h;e||k.data("popover",e=new g(this,b));"string"==typeof h&&e[h]()})};d.fn.popover.Constructor=g;d.fn.popover.defaults=
d.extend({},d.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});d.fn.popover.noConflict=function(){return d.fn.popover=k,this}}(window.jQuery);
!function(d){function g(h,g){var e=d.proxy(this.process,this),b=d(h).is("body")?d(window):d(h),a;this.options=d.extend({},d.fn.scrollspy.defaults,g);this.$scrollElement=b.on("scroll.scroll-spy.data-api",e);this.selector=(this.options.target||(a=d(h).attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a";this.$body=d("body");this.refresh();this.process()}g.prototype={constructor:g,refresh:function(){var h=this;this.offsets=d([]);this.targets=d([]);this.$body.find(this.selector).map(function(){var g=
d(this),g=g.data("target")||g.attr("href"),e=/^#\w/.test(g)&&d(g);return e&&e.length&&[[e.position().top+(!d.isWindow(h.$scrollElement.get(0))&&h.$scrollElement.scrollTop()),g]]||null}).sort(function(d,e){return d[0]-e[0]}).each(function(){h.offsets.push(this[0]);h.targets.push(this[1])})},process:function(){var d=this.$scrollElement.scrollTop()+this.options.offset,g=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),e=this.offsets,b=this.targets,a=this.activeTarget,
c;if(d>=g)return a!=(c=b.last()[0])&&this.activate(c);for(c=e.length;c--;)a!=b[c]&&d>=e[c]&&(!e[c+1]||d<=e[c+1])&&this.activate(b[c])},activate:function(h){this.activeTarget=h;d(this.selector).parent(".active").removeClass("active");h=d(this.selector+'[data-target="'+h+'"],'+this.selector+'[href="'+h+'"]').parent("li").addClass("active");h.parent(".dropdown-menu").length&&(h=h.closest("li.dropdown").addClass("active"));h.trigger("activate")}};var k=d.fn.scrollspy;d.fn.scrollspy=function(h){return this.each(function(){var k=
d(this),e=k.data("scrollspy"),b="object"==typeof h&&h;e||k.data("scrollspy",e=new g(this,b));"string"==typeof h&&e[h]()})};d.fn.scrollspy.Constructor=g;d.fn.scrollspy.defaults={offset:10};d.fn.scrollspy.noConflict=function(){return d.fn.scrollspy=k,this};d(window).on("load",function(){d('[data-spy="scroll"]').each(function(){var h=d(this);h.scrollspy(h.data())})})}(window.jQuery);
!function(d){var g=function(h){this.element=d(h)};g.prototype={constructor:g,show:function(){var h=this.element,g=h.closest("ul:not(.dropdown-menu)"),e=h.attr("data-target"),b,a;e||(e=h.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));h.parent("li").hasClass("active")||(b=g.find(".active:last a")[0],a=d.Event("show",{relatedTarget:b}),h.trigger(a),a.isDefaultPrevented()||(e=d(e),this.activate(h.parent("li"),g),this.activate(e,e.parent(),function(){h.trigger({type:"shown",relatedTarget:b})})))},activate:function(h,
g,e){function b(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");h.addClass("active");c?(h[0].offsetWidth,h.addClass("in")):h.removeClass("fade");h.parent(".dropdown-menu")&&h.closest("li.dropdown").addClass("active");e&&e()}var a=g.find("> .active"),c=e&&d.support.transition&&a.hasClass("fade");c?a.one(d.support.transition.end,b):b();a.removeClass("in")}};var k=d.fn.tab;d.fn.tab=function(h){return this.each(function(){var k=d(this),e=k.data("tab");e||k.data("tab",
e=new g(this));"string"==typeof h&&e[h]()})};d.fn.tab.Constructor=g;d.fn.tab.noConflict=function(){return d.fn.tab=k,this};d(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(h){h.preventDefault();d(this).tab("show")})}(window.jQuery);
!function(d){var g=function(h,g){this.$element=d(h);this.options=d.extend({},d.fn.typeahead.defaults,g);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||this.highlighter;this.updater=this.options.updater||this.updater;this.source=this.options.source;this.$menu=d(this.options.menu);this.shown=!1;this.listen()};g.prototype={constructor:g,select:function(){var d=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(d)).change(),
this.hide()},updater:function(d){return d},show:function(){var h=d.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:h.top+h.height,left:h.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(h){var g;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(g=d.isFunction(this.source)?this.source(this.query,
d.proxy(this.process,this)):this.source,g?this.process(g):this)},process:function(h){var g=this;return h=d.grep(h,function(e){return g.matcher(e)}),h=this.sorter(h),h.length?this.render(h.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(d){return~d.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(d){for(var g=[],e=[],b=[],a;a=d.shift();)a.toLowerCase().indexOf(this.query.toLowerCase())?~a.indexOf(this.query)?e.push(a):b.push(a):g.push(a);return g.concat(e,
b)},highlighter:function(d){var g=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return d.replace(new RegExp("("+g+")","ig"),function(e,b){return"<strong>"+b+"</strong>"})},render:function(h){var g=this;return h=d(h).map(function(e,b){return e=d(g.options.item).attr("data-value",b),e.find("a").html(g.highlighter(b)),e[0]}),h.first().addClass("active"),this.$menu.html(h),this},next:function(h){h=this.$menu.find(".active").removeClass("active").next();h.length||(h=d(this.$menu.find("li")[0]));
h.addClass("active")},prev:function(d){d=this.$menu.find(".active").removeClass("active").prev();d.length||(d=this.$menu.find("li").last());d.addClass("active")},listen:function(){this.$element.on("focus",d.proxy(this.focus,this)).on("blur",d.proxy(this.blur,this)).on("keypress",d.proxy(this.keypress,this)).on("keyup",d.proxy(this.keyup,this));this.eventSupported("keydown")&&this.$element.on("keydown",d.proxy(this.keydown,this));this.$menu.on("click",d.proxy(this.click,this)).on("mouseenter","li",
d.proxy(this.mouseenter,this)).on("mouseleave","li",d.proxy(this.mouseleave,this))},eventSupported:function(d){var g=d in this.$element;return g||(this.$element.setAttribute(d,"return;"),g="function"==typeof this.$element[d]),g},move:function(d){if(this.shown){switch(d.keyCode){case 9:case 13:case 27:d.preventDefault();break;case 38:d.preventDefault();this.prev();break;case 40:d.preventDefault(),this.next()}d.stopPropagation()}},keydown:function(h){this.suppressKeyPressRepeat=~d.inArray(h.keyCode,
[40,38,9,13,27]);this.move(h)},keypress:function(d){this.suppressKeyPressRepeat||this.move(d)},keyup:function(d){switch(d.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}d.stopPropagation();d.preventDefault()},focus:function(d){this.focused=!0},blur:function(d){this.focused=!1;!this.mousedover&&this.shown&&this.hide()},click:function(d){d.stopPropagation();d.preventDefault();
this.select();this.$element.focus()},mouseenter:function(h){this.mousedover=!0;this.$menu.find(".active").removeClass("active");d(h.currentTarget).addClass("active")},mouseleave:function(d){this.mousedover=!1;!this.focused&&this.shown&&this.hide()}};var k=d.fn.typeahead;d.fn.typeahead=function(h){return this.each(function(){var k=d(this),e=k.data("typeahead"),b="object"==typeof h&&h;e||k.data("typeahead",e=new g(this,b));"string"==typeof h&&e[h]()})};d.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',
item:'<li><a href="#"></a></li>',minLength:1};d.fn.typeahead.Constructor=g;d.fn.typeahead.noConflict=function(){return d.fn.typeahead=k,this};d(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(h){h=d(this);h.data("typeahead")||h.typeahead(h.data())})}(window.jQuery);
!function(d){var g=function(h,g){this.options=d.extend({},d.fn.affix.defaults,g);this.$window=d(window).on("scroll.affix.data-api",d.proxy(this.checkPosition,this)).on("click.affix.data-api",d.proxy(function(){setTimeout(d.proxy(this.checkPosition,this),1)},this));this.$element=d(h);this.checkPosition()};g.prototype.checkPosition=function(){if(this.$element.is(":visible")){var h=d(document).height(),g=this.$window.scrollTop(),e=this.$element.offset(),b=this.options.offset,a=b.bottom,c=b.top;"object"!=
typeof b&&(a=c=b);"function"==typeof c&&(c=b.top());"function"==typeof a&&(a=b.bottom());h=null!=this.unpin&&g+this.unpin<=e.top?!1:null!=a&&e.top+this.$element.height()>=h-a?"bottom":null!=c&&g<=c?"top":!1;this.affixed!==h&&(this.affixed=h,this.unpin="bottom"==h?e.top-g:null,this.$element.removeClass("affix affix-top affix-bottom").addClass("affix"+(h?"-"+h:"")))}};var k=d.fn.affix;d.fn.affix=function(h){return this.each(function(){var k=d(this),e=k.data("affix"),b="object"==typeof h&&h;e||k.data("affix",
e=new g(this,b));"string"==typeof h&&e[h]()})};d.fn.affix.Constructor=g;d.fn.affix.defaults={offset:0};d.fn.affix.noConflict=function(){return d.fn.affix=k,this};d(window).on("load",function(){d('[data-spy="affix"]').each(function(){var h=d(this),g=h.data();g.offset=g.offset||{};g.offsetBottom&&(g.offset.bottom=g.offsetBottom);g.offsetTop&&(g.offset.top=g.offsetTop);h.affix(g)})})}(window.jQuery);
(function(d,g){function k(b,a){var c,f,e,v=b.nodeName.toLowerCase();return"area"===v?(c=b.parentNode,f=c.name,b.href&&f&&"map"===c.nodeName.toLowerCase()?(e=d("img[usemap=#"+f+"]")[0],!!e&&h(e)):!1):(/input|select|textarea|button|object/.test(v)?!b.disabled:"a"===v?b.href||a:a)&&h(b)}function h(b){return d.expr.filters.visible(b)&&!d(b).parents().addBack().filter(function(){return"hidden"===d.css(this,"visibility")}).length}var q=0,e=/^ui-id-\d+$/;d.ui=d.ui||{};d.extend(d.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,
COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});d.fn.extend({focus:function(b){return function(a,c){return"number"==typeof a?this.each(function(){var b=this;setTimeout(function(){d(b).focus();c&&c.call(b)},a)}):b.apply(this,arguments)}}(d.fn.focus),scrollParent:function(){var b;return b=d.ui.ie&&/(static|relative)/.test(this.css("position"))||
/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(d.css(this,"position"))&&/(auto|scroll)/.test(d.css(this,"overflow")+d.css(this,"overflow-y")+d.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(d.css(this,"overflow")+d.css(this,"overflow-y")+d.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?d(document):b},zIndex:function(b){if(b!==g)return this.css("zIndex",b);if(this.length){var a,
c;for(b=d(this[0]);b.length&&b[0]!==document;){if(a=b.css("position"),("absolute"===a||"relative"===a||"fixed"===a)&&(c=parseInt(b.css("zIndex"),10),!isNaN(c)&&0!==c))return c;b=b.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++q)})},removeUniqueId:function(){return this.each(function(){e.test(this.id)&&d(this).removeAttr("id")})}});d.extend(d.expr[":"],{data:d.expr.createPseudo?d.expr.createPseudo(function(b){return function(a){return!!d.data(a,b)}}):
function(b,a,c){return!!d.data(b,c[3])},focusable:function(b){return k(b,!isNaN(d.attr(b,"tabindex")))},tabbable:function(b){var a=d.attr(b,"tabindex"),c=isNaN(a);return(c||0<=a)&&k(b,!c)}});d("<a>").outerWidth(1).jquery||d.each(["Width","Height"],function(b,a){function c(a,c,b,e){return d.each(f,function(){c-=parseFloat(d.css(a,"padding"+this))||0;b&&(c-=parseFloat(d.css(a,"border"+this+"Width"))||0);e&&(c-=parseFloat(d.css(a,"margin"+this))||0)}),c}var f="Width"===a?["Left","Right"]:["Top","Bottom"],
e=a.toLowerCase(),h={innerWidth:d.fn.innerWidth,innerHeight:d.fn.innerHeight,outerWidth:d.fn.outerWidth,outerHeight:d.fn.outerHeight};d.fn["inner"+a]=function(b){return b===g?h["inner"+a].call(this):this.each(function(){d(this).css(e,c(this,b)+"px")})};d.fn["outer"+a]=function(b,f){return"number"!=typeof b?h["outer"+a].call(this,b):this.each(function(){d(this).css(e,c(this,b,!0,f)+"px")})}});d.fn.addBack||(d.fn.addBack=function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))});
d("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(d.fn.removeData=function(b){return function(a){return arguments.length?b.call(this,d.camelCase(a)):b.call(this)}}(d.fn.removeData));d.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());d.support.selectstart="onselectstart"in document.createElement("div");d.fn.extend({disableSelection:function(){return this.bind((d.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(b){b.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});
d.extend(d.ui,{plugin:{add:function(b,a,c){var f;b=d.ui[b].prototype;for(f in c)b.plugins[f]=b.plugins[f]||[],b.plugins[f].push([a,c[f]])},call:function(b,a,c){var f=b.plugins[a];if(f&&b.element[0].parentNode&&11!==b.element[0].parentNode.nodeType)for(a=0;f.length>a;a++)b.options[f[a][0]]&&f[a][1].apply(b.element,c)}},hasScroll:function(b,a){if("hidden"===d(b).css("overflow"))return!1;var c=a&&"left"===a?"scrollLeft":"scrollTop",f=!1;return 0<b[c]?!0:(b[c]=1,f=0<b[c],b[c]=0,f)}})})(jQuery);
(function(d,g){var k=0,h=Array.prototype.slice,q=d.cleanData;d.cleanData=function(e){for(var b,a=0;null!=(b=e[a]);a++)try{d(b).triggerHandler("remove")}catch(c){}q(e)};d.widget=function(e,b,a){var c,f,m,h,r={},n=e.split(".")[0];e=e.split(".")[1];c=n+"-"+e;a||(a=b,b=d.Widget);d.expr[":"][c.toLowerCase()]=function(a){return!!d.data(a,c)};d[n]=d[n]||{};f=d[n][e];m=d[n][e]=function(a,c){return this._createWidget?(arguments.length&&this._createWidget(a,c),g):new m(a,c)};d.extend(m,f,{version:a.version,
_proto:d.extend({},a),_childConstructors:[]});h=new b;h.options=d.widget.extend({},h.options);d.each(a,function(a,c){return d.isFunction(c)?(r[a]=function(){var f=function(){return b.prototype[a].apply(this,arguments)},e=function(c){return b.prototype[a].apply(this,c)};return function(){var a,b=this._super,d=this._superApply;return this._super=f,this._superApply=e,a=c.apply(this,arguments),this._super=b,this._superApply=d,a}}(),g):(r[a]=c,g)});m.prototype=d.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix:
e},r,{constructor:m,namespace:n,widgetName:e,widgetFullName:c});f?(d.each(f._childConstructors,function(a,c){var b=c.prototype;d.widget(b.namespace+"."+b.widgetName,m,c._proto)}),delete f._childConstructors):b._childConstructors.push(m);d.widget.bridge(e,m)};d.widget.extend=function(e){for(var b,a,c=h.call(arguments,1),f=0,m=c.length;m>f;f++)for(b in c[f])a=c[f][b],c[f].hasOwnProperty(b)&&a!==g&&(e[b]=d.isPlainObject(a)?d.isPlainObject(e[b])?d.widget.extend({},e[b],a):d.widget.extend({},a):a);return e};
d.widget.bridge=function(e,b){var a=b.prototype.widgetFullName||e;d.fn[e]=function(c){var f="string"==typeof c,m=h.call(arguments,1),v=this;return c=!f&&m.length?d.widget.extend.apply(null,[c].concat(m)):c,f?this.each(function(){var b,f=d.data(this,a);return f?d.isFunction(f[c])&&"_"!==c.charAt(0)?(b=f[c].apply(f,m),b!==f&&b!==g?(v=b&&b.jquery?v.pushStack(b.get()):b,!1):g):d.error("no such method '"+c+"' for "+e+" widget instance"):d.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+
c+"'")}):this.each(function(){var f=d.data(this,a);f?f.option(c||{})._init():d.data(this,a,new b(c,this))}),v}};d.Widget=function(){};d.Widget._childConstructors=[];d.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,b){b=d(b||this.defaultElement||this)[0];this.element=d(b);this.uuid=k++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=d.widget.extend({},this.options,this._getCreateOptions(),e);
this.bindings=d();this.hoverable=d();this.focusable=d();b!==this&&(d.data(b,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===b&&this.destroy()}}),this.document=d(b.style?b.ownerDocument:b.document||b),this.window=d(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:d.noop,_getCreateEventData:d.noop,_create:d.noop,_init:d.noop,destroy:function(){this._destroy();
this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(d.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:d.noop,widget:function(){return this.element},option:function(e,b){var a,c,f,m=e;
if(0===arguments.length)return d.widget.extend({},this.options);if("string"==typeof e)if(m={},a=e.split("."),e=a.shift(),a.length){c=m[e]=d.widget.extend({},this.options[e]);for(f=0;a.length-1>f;f++)c[a[f]]=c[a[f]]||{},c=c[a[f]];if(e=a.pop(),b===g)return c[e]===g?null:c[e];c[e]=b}else{if(b===g)return this.options[e]===g?null:this.options[e];m[e]=b}return this._setOptions(m),this},_setOptions:function(e){for(var b in e)this._setOption(b,e[b]);return this},_setOption:function(e,b){return this.options[e]=
b,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,b,a){var c,f=this;"boolean"!=typeof e&&(a=b,b=e,e=!1);a?(b=c=d(b),this.bindings=this.bindings.add(b)):(a=b,b=this.element,c=this.widget());d.each(a,function(a,
h){function r(){return e||!0!==f.options.disabled&&!d(this).hasClass("ui-state-disabled")?("string"==typeof h?f[h]:h).apply(f,arguments):g}"string"!=typeof h&&(r.guid=h.guid=h.guid||r.guid||d.guid++);var n=a.match(/^(\w+)\s*(.*)$/),w=n[1]+f.eventNamespace;(n=n[2])?c.delegate(n,w,r):b.bind(w,r)})},_off:function(e,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;e.unbind(b).undelegate(b)},_delay:function(e,b){var a=this;return setTimeout(function(){return("string"==typeof e?
a[e]:e).apply(a,arguments)},b||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e);this._on(e,{mouseenter:function(b){d(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){d(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e);this._on(e,{focusin:function(b){d(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){d(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,b,a){var c,f=this.options[e];
if(a=a||{},b=d.Event(b),b.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),b.target=this.element[0],e=b.originalEvent)for(c in e)c in b||(b[c]=e[c]);return this.element.trigger(b,a),!(d.isFunction(f)&&!1===f.apply(this.element[0],[b].concat(a))||b.isDefaultPrevented())}};d.each({show:"fadeIn",hide:"fadeOut"},function(e,b){d.Widget.prototype["_"+e]=function(a,c,f){"string"==typeof c&&(c={effect:c});var m,h=c?!0===c||"number"==typeof c?b:c.effect||b:e;c=c||{};"number"==typeof c&&
(c={duration:c});m=!d.isEmptyObject(c);c.complete=f;c.delay&&a.delay(c.delay);m&&d.effects&&d.effects.effect[h]?a[e](c):h!==e&&a[h]?a[h](c.duration,c.easing,f):a.queue(function(c){d(this)[e]();f&&f.call(a[0]);c()})}})})(jQuery);
(function(d){var g=!1;d(document).mouseup(function(){g=!1});d.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var g=this;this.element.bind("mousedown."+this.widgetName,function(d){return g._mouseDown(d)}).bind("click."+this.widgetName,function(h){return!0===d.data(h.target,g.widgetName+".preventClickEvent")?(d.removeData(h.target,g.widgetName+".preventClickEvent"),h.stopImmediatePropagation(),!1):void 0});this.started=
!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&d(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(k){if(!g){this._mouseStarted&&this._mouseUp(k);this._mouseDownEvent=k;var h=this,q=1===k.which,e="string"==typeof this.options.cancel&&k.target.nodeName?d(k.target).closest(this.options.cancel).length:!1;return q&&!e&&this._mouseCapture(k)?(this.mouseDelayMet=
!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){h.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(k)&&this._mouseDelayMet(k)&&(this._mouseStarted=!1!==this._mouseStart(k),!this._mouseStarted)?(k.preventDefault(),!0):(!0===d.data(k.target,this.widgetName+".preventClickEvent")&&d.removeData(k.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(b){return h._mouseMove(b)},this._mouseUpDelegate=function(b){return h._mouseUp(b)},
d(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),k.preventDefault(),g=!0,!0)):!0}},_mouseMove:function(g){return d.ui.ie&&(!document.documentMode||9>document.documentMode)&&!g.button?this._mouseUp(g):this._mouseStarted?(this._mouseDrag(g),g.preventDefault()):(this._mouseDistanceMet(g)&&this._mouseDelayMet(g)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,g),this._mouseStarted?this._mouseDrag(g):this._mouseUp(g)),
!this._mouseStarted)},_mouseUp:function(g){return d(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,g.target===this._mouseDownEvent.target&&d.data(g.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(g)),!1},_mouseDistanceMet:function(d){return Math.max(Math.abs(this._mouseDownEvent.pageX-d.pageX),Math.abs(this._mouseDownEvent.pageY-d.pageY))>=this.options.distance},
_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(d,g){function k(a,c,b){return[parseFloat(a[0])*(r.test(a[0])?c/100:1),parseFloat(a[1])*(r.test(a[1])?b/100:1)]}function h(a){var c=a[0];return 9===c.nodeType?{width:a.width(),height:a.height(),offset:{top:0,left:0}}:d.isWindow(c)?{width:a.width(),height:a.height(),offset:{top:a.scrollTop(),left:a.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:a.outerWidth(),height:a.outerHeight(),offset:a.offset()}}d.ui=d.ui||{};var q,e=Math.max,b=Math.abs,a=
Math.round,c=/left|center|right/,f=/top|center|bottom/,m=/[\+\-]\d+(\.[\d]+)?%?/,v=/^\w+/,r=/%$/,n=d.fn.position;d.position={scrollbarWidth:function(){if(q!==g)return q;var a,c,b=d("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),f=b.children()[0];return d("body").append(b),a=f.offsetWidth,b.css("overflow","scroll"),c=f.offsetWidth,a===c&&(c=b[0].clientWidth),b.remove(),q=a-c},getScrollInfo:function(a){var c=a.isWindow?"":a.element.css("overflow-x"),
b=a.isWindow?"":a.element.css("overflow-y"),c="scroll"===c||"auto"===c&&a.width<a.element[0].scrollWidth;return{width:"scroll"===b||"auto"===b&&a.height<a.element[0].scrollHeight?d.position.scrollbarWidth():0,height:c?d.position.scrollbarWidth():0}},getWithinInfo:function(a){a=d(a||window);var c=d.isWindow(a[0]);return{element:a,isWindow:c,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),scrollTop:a.scrollTop(),width:c?a.width():a.outerWidth(),height:c?a.height():a.outerHeight()}}};d.fn.position=
function(r){if(!r||!r.of)return n.apply(this,arguments);r=d.extend({},r);var p,l,g,E,z,q,u=d(r.of),y=d.position.getWithinInfo(r.within),L=d.position.getScrollInfo(y),D=(r.collision||"flip").split(" "),B={};return q=h(u),u[0].preventDefault&&(r.at="left top"),l=q.width,g=q.height,E=q.offset,z=d.extend({},E),d.each(["my","at"],function(){var a,b,e=(r[this]||"").split(" ");1===e.length&&(e=c.test(e[0])?e.concat(["center"]):f.test(e[0])?["center"].concat(e):["center","center"]);e[0]=c.test(e[0])?e[0]:
"center";e[1]=f.test(e[1])?e[1]:"center";a=m.exec(e[0]);b=m.exec(e[1]);B[this]=[a?a[0]:0,b?b[0]:0];r[this]=[v.exec(e[0])[0],v.exec(e[1])[0]]}),1===D.length&&(D[1]=D[0]),"right"===r.at[0]?z.left+=l:"center"===r.at[0]&&(z.left+=l/2),"bottom"===r.at[1]?z.top+=g:"center"===r.at[1]&&(z.top+=g/2),p=k(B.at,l,g),z.left+=p[0],z.top+=p[1],this.each(function(){var c,f,m=d(this),h=m.outerWidth(),n=m.outerHeight(),v=parseInt(d.css(this,"marginLeft"),10)||0,q=parseInt(d.css(this,"marginTop"),10)||0,A=h+v+(parseInt(d.css(this,
"marginRight"),10)||0)+L.width,S=n+q+(parseInt(d.css(this,"marginBottom"),10)||0)+L.height,M=d.extend({},z),C=k(B.my,m.outerWidth(),m.outerHeight());"right"===r.my[0]?M.left-=h:"center"===r.my[0]&&(M.left-=h/2);"bottom"===r.my[1]?M.top-=n:"center"===r.my[1]&&(M.top-=n/2);M.left+=C[0];M.top+=C[1];d.support.offsetFractions||(M.left=a(M.left),M.top=a(M.top));c={marginLeft:v,marginTop:q};d.each(["left","top"],function(a,b){d.ui.position[D[a]]&&d.ui.position[D[a]][b](M,{targetWidth:l,targetHeight:g,elemWidth:h,
elemHeight:n,collisionPosition:c,collisionWidth:A,collisionHeight:S,offset:[p[0]+C[0],p[1]+C[1]],my:r.my,at:r.at,within:y,elem:m})});r.using&&(f=function(a){var c=E.left-M.left,f=c+l-h,d=E.top-M.top,p=d+g-n,v={target:{element:u,left:E.left,top:E.top,width:l,height:g},element:{element:m,left:M.left,top:M.top,width:h,height:n},horizontal:0>f?"left":0<c?"right":"center",vertical:0>p?"top":0<d?"bottom":"middle"};h>l&&l>b(c+f)&&(v.horizontal="center");n>g&&g>b(d+p)&&(v.vertical="middle");v.important=e(b(c),
b(f))>e(b(d),b(p))?"horizontal":"vertical";r.using.call(this,a,v)});m.offset(d.extend(M,{using:f}))})};d.ui.position={fit:{left:function(a,c){var b,f=c.within,d=f.isWindow?f.scrollLeft:f.offset.left,f=f.width,m=a.left-c.collisionPosition.marginLeft,h=d-m,r=m+c.collisionWidth-f-d;c.collisionWidth>f?0<h&&0>=r?(b=a.left+h+c.collisionWidth-f-d,a.left+=h-b):a.left=0<r&&0>=h?d:h>r?d+f-c.collisionWidth:d:0<h?a.left+=h:0<r?a.left-=r:a.left=e(a.left-m,a.left)},top:function(a,c){var b,f=c.within,f=f.isWindow?
f.scrollTop:f.offset.top,d=c.within.height,m=a.top-c.collisionPosition.marginTop,h=f-m,r=m+c.collisionHeight-d-f;c.collisionHeight>d?0<h&&0>=r?(b=a.top+h+c.collisionHeight-d-f,a.top+=h-b):a.top=0<r&&0>=h?f:h>r?f+d-c.collisionHeight:f:0<h?a.top+=h:0<r?a.top-=r:a.top=e(a.top-m,a.top)}},flip:{left:function(a,c){var f,e,d=c.within,m=d.offset.left+d.scrollLeft,h=d.width,d=d.isWindow?d.scrollLeft:d.offset.left,r=a.left-c.collisionPosition.marginLeft,n=r-d,r=r+c.collisionWidth-h-d,g="left"===c.my[0]?-c.elemWidth:
"right"===c.my[0]?c.elemWidth:0,v="left"===c.at[0]?c.targetWidth:"right"===c.at[0]?-c.targetWidth:0,k=-2*c.offset[0];0>n?(f=a.left+g+v+k+c.collisionWidth-h-m,(0>f||b(n)>f)&&(a.left+=g+v+k)):0<r&&(e=a.left-c.collisionPosition.marginLeft+g+v+k-d,(0<e||r>b(e))&&(a.left+=g+v+k))},top:function(a,c){var f,e,d=c.within,m=d.offset.top+d.scrollTop,h=d.height,d=d.isWindow?d.scrollTop:d.offset.top,r=a.top-c.collisionPosition.marginTop,n=r-d,r=r+c.collisionHeight-h-d,g="top"===c.my[1]?-c.elemHeight:"bottom"===
c.my[1]?c.elemHeight:0,v="top"===c.at[1]?c.targetHeight:"bottom"===c.at[1]?-c.targetHeight:0,k=-2*c.offset[1];0>n?(e=a.top+g+v+k+c.collisionHeight-h-m,a.top+g+v+k>n&&(0>e||b(n)>e)&&(a.top+=g+v+k)):0<r&&(f=a.top-c.collisionPosition.marginTop+g+v+k-d,a.top+g+v+k>r&&(0<f||r>b(f))&&(a.top+=g+v+k))}},flipfit:{left:function(){d.ui.position.flip.left.apply(this,arguments);d.ui.position.fit.left.apply(this,arguments)},top:function(){d.ui.position.flip.top.apply(this,arguments);d.ui.position.fit.top.apply(this,
arguments)}}};(function(){var a,c,b,f,e=document.getElementsByTagName("body")[0];b=document.createElement("div");a=document.createElement(e?"div":"body");c={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};e&&d.extend(c,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in c)a.style[f]=c[f];a.appendChild(b);c=e||document.documentElement;c.insertBefore(a,c.firstChild);b.style.cssText="position: absolute; left: 10.7432222px;";b=d(b).offset().left;d.support.offsetFractions=
10<b&&11>b;a.innerHTML="";c.removeChild(a)})()})(jQuery);
(function(d){d.widget("ui.draggable",d.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||
/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(g){var k=this.options;return this.helper||k.disabled||0<d(g.target).closest(".ui-resizable-handle").length?
!1:(this.handle=this._getHandle(g),this.handle?(d(!0===k.iframeFix?"iframe":k.iframeFix).each(function(){d("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(d(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(g){var k=this.options;return this.helper=this._createHelper(g),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),
d.ui.ddmanager&&(d.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,d.extend(this.offset,{click:{left:g.pageX-this.offset.left,top:g.pageY-this.offset.top},
parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(g),this.originalPageX=g.pageX,this.originalPageY=g.pageY,k.cursorAt&&this._adjustOffsetFromHelper(k.cursorAt),this._setContainment(),!1===this._trigger("start",g)?(this._clear(),!1):(this._cacheHelperProportions(),d.ui.ddmanager&&!k.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,g),this._mouseDrag(g,!0),d.ui.ddmanager&&d.ui.ddmanager.dragStart(this,g),!0)},_mouseDrag:function(g,
k){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(g),this.positionAbs=this._convertPositionTo("absolute"),!k){var h=this._uiHash();if(!1===this._trigger("drag",g,h))return this._mouseUp({}),!1;this.position=h.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),d.ui.ddmanager&&
d.ui.ddmanager.drag(this,g),!1},_mouseStop:function(g){var k=this,h=!1;return d.ui.ddmanager&&!this.options.dropBehaviour&&(h=d.ui.ddmanager.drop(this,g)),this.dropped&&(h=this.dropped,this.dropped=!1),"original"!==this.options.helper||d.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!h||"valid"===this.options.revert&&h||!0===this.options.revert||d.isFunction(this.options.revert)&&this.options.revert.call(this.element,h)?d(this.helper).animate(this.originalPosition,
parseInt(this.options.revertDuration,10),function(){!1!==k._trigger("stop",g)&&k._clear()}):!1!==this._trigger("stop",g)&&this._clear(),!1):!1},_mouseUp:function(g){return d("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),d.ui.ddmanager&&d.ui.ddmanager.dragStop(this,g),d.ui.mouse.prototype._mouseUp.call(this,g)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(g){return this.options.handle?
!!d(g.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(g){var k=this.options;g=d.isFunction(k.helper)?d(k.helper.apply(this.element[0],[g])):"clone"===k.helper?this.element.clone().removeAttr("id"):this.element;return g.parents("body").length||g.appendTo("parent"===k.appendTo?this.element[0].parentNode:k.appendTo),g[0]===this.element[0]||/(fixed|absolute)/.test(g.css("position"))||g.css("position","absolute"),g},_adjustOffsetFromHelper:function(g){"string"==
typeof g&&(g=g.split(" "));d.isArray(g)&&(g={left:+g[0],top:+g[1]||0});"left"in g&&(this.offset.click.left=g.left+this.margins.left);"right"in g&&(this.offset.click.left=this.helperProportions.width-g.right+this.margins.left);"top"in g&&(this.offset.click.top=g.top+this.margins.top);"bottom"in g&&(this.offset.click.top=this.helperProportions.height-g.bottom+this.margins.top)},_getParentOffset:function(){var g=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&
d.contains(this.scrollParent[0],this.offsetParent[0])&&(g.left+=this.scrollParent.scrollLeft(),g.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&d.ui.ie)&&(g={top:0,left:0}),{top:g.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:g.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var d=this.element.position();
return{top:d.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:d.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions=
{width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var g,k,h,q=this.options;return q.containment?"window"===q.containment?(this.containment=[d(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,d(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,d(window).scrollLeft()+d(window).width()-this.helperProportions.width-this.margins.left,d(window).scrollTop()+(d(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-
this.margins.top],void 0):"document"===q.containment?(this.containment=[0,0,d(document).width()-this.helperProportions.width-this.margins.left,(d(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):q.containment.constructor===Array?(this.containment=q.containment,void 0):("parent"===q.containment&&(q.containment=this.helper[0].parentNode),k=d(q.containment),h=k[0],h&&(g="hidden"!==k.css("overflow"),this.containment=[(parseInt(k.css("borderLeftWidth"),
10)||0)+(parseInt(k.css("paddingLeft"),10)||0),(parseInt(k.css("borderTopWidth"),10)||0)+(parseInt(k.css("paddingTop"),10)||0),(g?Math.max(h.scrollWidth,h.offsetWidth):h.offsetWidth)-(parseInt(k.css("borderRightWidth"),10)||0)-(parseInt(k.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(g?Math.max(h.scrollHeight,h.offsetHeight):h.offsetHeight)-(parseInt(k.css("borderBottomWidth"),10)||0)-(parseInt(k.css("paddingBottom"),10)||0)-this.helperProportions.height-
this.margins.top-this.margins.bottom],this.relative_container=k),void 0):(this.containment=null,void 0)},_convertPositionTo:function(g,k){k||(k=this.position);var h="absolute"===g?1:-1,q="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&d.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:q.scrollTop(),left:q.scrollLeft()}),{top:k.top+this.offset.relative.top*h+this.offset.parent.top*h-("fixed"===
this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*h,left:k.left+this.offset.relative.left*h+this.offset.parent.left*h-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*h}},_generatePosition:function(g){var k,h,q,e,b=this.options,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&d.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,c=g.pageX,f=g.pageY;return this.offset.scroll||(this.offset.scroll=
{top:a.scrollTop(),left:a.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(h=this.relative_container.offset(),k=[this.containment[0]+h.left,this.containment[1]+h.top,this.containment[2]+h.left,this.containment[3]+h.top]):k=this.containment,g.pageX-this.offset.click.left<k[0]&&(c=k[0]+this.offset.click.left),g.pageY-this.offset.click.top<k[1]&&(f=k[1]+this.offset.click.top),g.pageX-this.offset.click.left>k[2]&&(c=k[2]+this.offset.click.left),g.pageY-this.offset.click.top>
k[3]&&(f=k[3]+this.offset.click.top)),b.grid&&(q=b.grid[1]?this.originalPageY+Math.round((f-this.originalPageY)/b.grid[1])*b.grid[1]:this.originalPageY,f=k?q-this.offset.click.top>=k[1]||q-this.offset.click.top>k[3]?q:q-this.offset.click.top>=k[1]?q-b.grid[1]:q+b.grid[1]:q,e=b.grid[0]?this.originalPageX+Math.round((c-this.originalPageX)/b.grid[0])*b.grid[0]:this.originalPageX,c=k?e-this.offset.click.left>=k[0]||e-this.offset.click.left>k[2]?e:e-this.offset.click.left>=k[0]?e-b.grid[0]:e+b.grid[0]:
e)),{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:c-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=
!1},_trigger:function(g,k,h){return h=h||this._uiHash(),d.ui.plugin.call(this,g,[k,h]),"drag"===g&&(this.positionAbs=this._convertPositionTo("absolute")),d.Widget.prototype._trigger.call(this,g,k,h)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});d.ui.plugin.add("draggable","connectToSortable",{start:function(g,k){var h=d(this).data("ui-draggable"),q=h.options,e=d.extend({},k,{item:h.element});h.sortables=
[];d(q.connectToSortable).each(function(){var b=d.data(this,"ui-sortable");b&&!b.options.disabled&&(h.sortables.push({instance:b,shouldRevert:b.options.revert}),b.refreshPositions(),b._trigger("activate",g,e))})},stop:function(g,k){var h=d(this).data("ui-draggable"),q=d.extend({},k,{item:h.element});d.each(h.sortables,function(){this.instance.isOver?(this.instance.isOver=0,h.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),
this.instance._mouseStop(g),this.instance.options.helper=this.instance.options._helper,"original"===h.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",g,q))})},drag:function(g,k){var h=d(this).data("ui-draggable"),q=this;d.each(h.sortables,function(){var e=!1,b=this;this.instance.positionAbs=h.positionAbs;this.instance.helperProportions=h.helperProportions;this.instance.offset.click=h.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&
(e=!0,d.each(h.sortables,function(){return this.instance.positionAbs=h.positionAbs,this.instance.helperProportions=h.helperProportions,this.instance.offset.click=h.offset.click,this!==b&&this.instance._intersectsWith(this.instance.containerCache)&&d.contains(b.instance.element[0],this.instance.element[0])&&(e=!1),e}));e?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=d(q).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=
this.instance.options.helper,this.instance.options.helper=function(){return k.helper[0]},g.target=this.instance.currentItem[0],this.instance._mouseCapture(g,!0),this.instance._mouseStart(g,!0,!0),this.instance.offset.click.top=h.offset.click.top,this.instance.offset.click.left=h.offset.click.left,this.instance.offset.parent.left-=h.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=h.offset.parent.top-this.instance.offset.parent.top,h._trigger("toSortable",g),h.dropped=
this.instance.element,h.currentItem=h.element,this.instance.fromOutside=h),this.instance.currentItem&&this.instance._mouseDrag(g)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",g,this.instance._uiHash(this.instance)),this.instance._mouseStop(g,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),
h._trigger("fromSortable",g),h.dropped=!1)})}});d.ui.plugin.add("draggable","cursor",{start:function(){var g=d("body"),k=d(this).data("ui-draggable").options;g.css("cursor")&&(k._cursor=g.css("cursor"));g.css("cursor",k.cursor)},stop:function(){var g=d(this).data("ui-draggable").options;g._cursor&&d("body").css("cursor",g._cursor)}});d.ui.plugin.add("draggable","opacity",{start:function(g,k){var h=d(k.helper),q=d(this).data("ui-draggable").options;h.css("opacity")&&(q._opacity=h.css("opacity"));h.css("opacity",
q.opacity)},stop:function(g,k){var h=d(this).data("ui-draggable").options;h._opacity&&d(k.helper).css("opacity",h._opacity)}});d.ui.plugin.add("draggable","scroll",{start:function(){var g=d(this).data("ui-draggable");g.scrollParent[0]!==document&&"HTML"!==g.scrollParent[0].tagName&&(g.overflowOffset=g.scrollParent.offset())},drag:function(g){var k=d(this).data("ui-draggable"),h=k.options,q=!1;k.scrollParent[0]!==document&&"HTML"!==k.scrollParent[0].tagName?(h.axis&&"x"===h.axis||(k.overflowOffset.top+
k.scrollParent[0].offsetHeight-g.pageY<h.scrollSensitivity?k.scrollParent[0].scrollTop=q=k.scrollParent[0].scrollTop+h.scrollSpeed:g.pageY-k.overflowOffset.top<h.scrollSensitivity&&(k.scrollParent[0].scrollTop=q=k.scrollParent[0].scrollTop-h.scrollSpeed)),h.axis&&"y"===h.axis||(k.overflowOffset.left+k.scrollParent[0].offsetWidth-g.pageX<h.scrollSensitivity?k.scrollParent[0].scrollLeft=q=k.scrollParent[0].scrollLeft+h.scrollSpeed:g.pageX-k.overflowOffset.left<h.scrollSensitivity&&(k.scrollParent[0].scrollLeft=
q=k.scrollParent[0].scrollLeft-h.scrollSpeed))):(h.axis&&"x"===h.axis||(g.pageY-d(document).scrollTop()<h.scrollSensitivity?q=d(document).scrollTop(d(document).scrollTop()-h.scrollSpeed):d(window).height()-(g.pageY-d(document).scrollTop())<h.scrollSensitivity&&(q=d(document).scrollTop(d(document).scrollTop()+h.scrollSpeed))),h.axis&&"y"===h.axis||(g.pageX-d(document).scrollLeft()<h.scrollSensitivity?q=d(document).scrollLeft(d(document).scrollLeft()-h.scrollSpeed):d(window).width()-(g.pageX-d(document).scrollLeft())<
h.scrollSensitivity&&(q=d(document).scrollLeft(d(document).scrollLeft()+h.scrollSpeed))));!1!==q&&d.ui.ddmanager&&!h.dropBehaviour&&d.ui.ddmanager.prepareOffsets(k,g)}});d.ui.plugin.add("draggable","snap",{start:function(){var g=d(this).data("ui-draggable"),k=g.options;g.snapElements=[];d(k.snap.constructor!==String?k.snap.items||":data(ui-draggable)":k.snap).each(function(){var h=d(this),k=h.offset();this!==g.element[0]&&g.snapElements.push({item:this,width:h.outerWidth(),height:h.outerHeight(),
top:k.top,left:k.left})})},drag:function(g,k){var h,q,e,b,a,c,f,m,v,r,n=d(this).data("ui-draggable"),w=n.options,p=w.snapTolerance,l=k.offset.left,x=l+n.helperProportions.width,E=k.offset.top,z=E+n.helperProportions.height;for(v=n.snapElements.length-1;0<=v;v--)a=n.snapElements[v].left,c=a+n.snapElements[v].width,f=n.snapElements[v].top,m=f+n.snapElements[v].height,a-p>x||l>c+p||f-p>z||E>m+p||!d.contains(n.snapElements[v].item.ownerDocument,n.snapElements[v].item)?(n.snapElements[v].snapping&&n.options.snap.release&&
n.options.snap.release.call(n.element,g,d.extend(n._uiHash(),{snapItem:n.snapElements[v].item})),n.snapElements[v].snapping=!1):("inner"!==w.snapMode&&(h=p>=Math.abs(f-z),q=p>=Math.abs(m-E),e=p>=Math.abs(a-x),b=p>=Math.abs(c-l),h&&(k.position.top=n._convertPositionTo("relative",{top:f-n.helperProportions.height,left:0}).top-n.margins.top),q&&(k.position.top=n._convertPositionTo("relative",{top:m,left:0}).top-n.margins.top),e&&(k.position.left=n._convertPositionTo("relative",{top:0,left:a-n.helperProportions.width}).left-
n.margins.left),b&&(k.position.left=n._convertPositionTo("relative",{top:0,left:c}).left-n.margins.left)),r=h||q||e||b,"outer"!==w.snapMode&&(h=p>=Math.abs(f-E),q=p>=Math.abs(m-z),e=p>=Math.abs(a-l),b=p>=Math.abs(c-x),h&&(k.position.top=n._convertPositionTo("relative",{top:f,left:0}).top-n.margins.top),q&&(k.position.top=n._convertPositionTo("relative",{top:m-n.helperProportions.height,left:0}).top-n.margins.top),e&&(k.position.left=n._convertPositionTo("relative",{top:0,left:a}).left-n.margins.left),
b&&(k.position.left=n._convertPositionTo("relative",{top:0,left:c-n.helperProportions.width}).left-n.margins.left)),!n.snapElements[v].snapping&&(h||q||e||b||r)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,g,d.extend(n._uiHash(),{snapItem:n.snapElements[v].item})),n.snapElements[v].snapping=h||q||e||b||r)}});d.ui.plugin.add("draggable","stack",{start:function(){var g,k=this.data("ui-draggable").options,k=d.makeArray(d(k.stack)).sort(function(h,g){return(parseInt(d(h).css("zIndex"),10)||
0)-(parseInt(d(g).css("zIndex"),10)||0)});k.length&&(g=parseInt(d(k[0]).css("zIndex"),10)||0,d(k).each(function(h){d(this).css("zIndex",g+h)}),this.css("zIndex",g+k.length))}});d.ui.plugin.add("draggable","zIndex",{start:function(g,k){var h=d(k.helper),q=d(this).data("ui-draggable").options;h.css("zIndex")&&(q._zIndex=h.css("zIndex"));h.css("zIndex",q.zIndex)},stop:function(g,k){var h=d(this).data("ui-draggable").options;h._zIndex&&d(k.helper).css("zIndex",h._zIndex)}})})(jQuery);
(function(d){d.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var g=this.options,k=g.accept;this.isover=!1;this.isout=!0;this.accept=d.isFunction(k)?k:function(d){return d.is(k)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};d.ui.ddmanager.droppables[g.scope]=
d.ui.ddmanager.droppables[g.scope]||[];d.ui.ddmanager.droppables[g.scope].push(this);g.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var g=0,k=d.ui.ddmanager.droppables[this.options.scope];k.length>g;g++)k[g]===this&&k.splice(g,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(g,k){"accept"===g&&(this.accept=d.isFunction(k)?k:function(d){return d.is(k)});d.Widget.prototype._setOption.apply(this,arguments)},_activate:function(g){var k=
d.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);k&&this._trigger("activate",g,this.ui(k))},_deactivate:function(g){var k=d.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);k&&this._trigger("deactivate",g,this.ui(k))},_over:function(g){var k=d.ui.ddmanager.current;k&&(k.currentItem||k.element)[0]!==this.element[0]&&this.accept.call(this.element[0],k.currentItem||k.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),
this._trigger("over",g,this.ui(k)))},_out:function(g){var k=d.ui.ddmanager.current;k&&(k.currentItem||k.element)[0]!==this.element[0]&&this.accept.call(this.element[0],k.currentItem||k.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",g,this.ui(k)))},_drop:function(g,k){var h=k||d.ui.ddmanager.current,q=!1;return h&&(h.currentItem||h.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=
d.data(this,"ui-droppable");return e.options.greedy&&!e.options.disabled&&e.options.scope===h.options.scope&&e.accept.call(e.element[0],h.currentItem||h.element)&&d.ui.intersect(h,d.extend(e,{offset:e.element.offset()}),e.options.tolerance)?(q=!0,!1):void 0}),q?!1:this.accept.call(this.element[0],h.currentItem||h.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",g,this.ui(h)),
this.element):!1):!1},ui:function(d){return{draggable:d.currentItem||d.element,helper:d.helper,position:d.position,offset:d.positionAbs}}});d.ui.intersect=function(d,k,h){if(!k.offset)return!1;var q,e,b=(d.positionAbs||d.position.absolute).left,a=b+d.helperProportions.width,c=(d.positionAbs||d.position.absolute).top,f=c+d.helperProportions.height,m=k.offset.left,v=m+k.proportions.width,r=k.offset.top,n=r+k.proportions.height;switch(h){case "fit":return b>=m&&v>=a&&c>=r&&n>=f;case "intersect":return b+
d.helperProportions.width/2>m&&v>a-d.helperProportions.width/2&&c+d.helperProportions.height/2>r&&n>f-d.helperProportions.height/2;case "pointer":return q=(d.positionAbs||d.position.absolute).left+(d.clickOffset||d.offset.click).left,e=(d.positionAbs||d.position.absolute).top+(d.clickOffset||d.offset.click).top,e>r&&r+k.proportions.height>e&&q>m&&m+k.proportions.width>q;case "touch":return(c>=r&&n>=c||f>=r&&n>=f||r>c&&f>n)&&(b>=m&&v>=b||a>=m&&v>=a||m>b&&a>v);default:return!1}};d.ui.ddmanager={current:null,
droppables:{"default":[]},prepareOffsets:function(g,k){var h,q,e=d.ui.ddmanager.droppables[g.options.scope]||[],b=k?k.type:null,a=(g.currentItem||g.element).find(":data(ui-droppable)").addBack();h=0;a:for(;e.length>h;h++)if(!(e[h].options.disabled||g&&!e[h].accept.call(e[h].element[0],g.currentItem||g.element))){for(q=0;a.length>q;q++)if(a[q]===e[h].element[0]){e[h].proportions.height=0;continue a}e[h].visible="none"!==e[h].element.css("display");e[h].visible&&("mousedown"===b&&e[h]._activate.call(e[h],
k),e[h].offset=e[h].element.offset(),e[h].proportions={width:e[h].element[0].offsetWidth,height:e[h].element[0].offsetHeight})}},drop:function(g,k){var h=!1;return d.each((d.ui.ddmanager.droppables[g.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&d.ui.intersect(g,this,this.options.tolerance)&&(h=this._drop.call(this,k)||h),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],g.currentItem||g.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,
k)))}),h},dragStart:function(g,k){g.element.parentsUntil("body").bind("scroll.droppable",function(){g.options.refreshPositions||d.ui.ddmanager.prepareOffsets(g,k)})},drag:function(g,k){g.options.refreshPositions&&d.ui.ddmanager.prepareOffsets(g,k);d.each(d.ui.ddmanager.droppables[g.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var h,q,e,b=d.ui.intersect(g,this,this.options.tolerance);(b=!b&&this.isover?"isout":b&&!this.isover?"isover":null)&&(this.options.greedy&&
(q=this.options.scope,e=this.element.parents(":data(ui-droppable)").filter(function(){return d.data(this,"ui-droppable").options.scope===q}),e.length&&(h=d.data(e[0],"ui-droppable"),h.greedyChild="isover"===b)),h&&"isover"===b&&(h.isover=!1,h.isout=!0,h._out.call(h,k)),this[b]=!0,this["isout"===b?"isover":"isout"]=!1,this["isover"===b?"_over":"_out"].call(this,k),h&&"isout"===b&&(h.isout=!1,h.isover=!0,h._over.call(h,k)))}})},dragStop:function(g,k){g.element.parentsUntil("body").unbind("scroll.droppable");
g.options.refreshPositions||d.ui.ddmanager.prepareOffsets(g,k)}}})(jQuery);
(function(d){function g(d){return parseInt(d,10)||0}function k(d){return!isNaN(parseInt(d,10))}d.widget("ui.resizable",d.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var h,g,e,b,a,c=this,f=this.options;if(this.element.addClass("ui-resizable"),
d.extend(this,{_aspectRatio:!!f.aspectRatio,aspectRatio:f.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:f.helper||f.ghost||f.animate?f.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(d("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),
left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),
this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=f.handles||(d(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),
this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),h=this.handles.split(","),this.handles={},g=0;h.length>g;g++)e=d.trim(h[g]),a="ui-resizable-"+e,b=d("<div class='ui-resizable-handle "+a+"'></div>"),b.css({zIndex:f.zIndex}),"se"===e&&b.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[e]=".ui-resizable-"+e,this.element.append(b);this._renderAxis=function(a){var c,b,f,e;a=a||this.element;for(c in this.handles)this.handles[c].constructor===
String&&(this.handles[c]=d(this.handles[c],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(b=d(this.handles[c],this.element),e=/sw|ne|nw|se|n|s/.test(c)?b.outerHeight():b.outerWidth(),f=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join(""),a.css(f,e),this._proportionallyResize()),d(this.handles[c]).length};this._renderAxis(this.element);this._handles=d(".ui-resizable-handle",this.element).disableSelection();
this._handles.mouseover(function(){c.resizing||(this.className&&(b=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),c.axis=b&&b[1]?b[1]:"se")});f.autoHide&&(this._handles.hide(),d(this.element).addClass("ui-resizable-autohide").mouseenter(function(){f.disabled||(d(this).removeClass("ui-resizable-autohide"),c._handles.show())}).mouseleave(function(){f.disabled||c.resizing||(d(this).addClass("ui-resizable-autohide"),c._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();
var h,g=function(e){d(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(g(this.element),h=this.element,this.originalElement.css({position:h.css("position"),width:h.outerWidth(),height:h.outerHeight(),top:h.css("top"),left:h.css("left")}).insertAfter(h),h.remove()),this.originalElement.css("resize",this.originalResizeStyle),g(this.originalElement),
this},_mouseCapture:function(h){var g,e,b=!1;for(g in this.handles)e=d(this.handles[g])[0],(e===h.target||d.contains(e,h.target))&&(b=!0);return!this.options.disabled&&b},_mouseStart:function(h){var k,e,b,a=this.options,c=this.element.position(),f=this.element;return this.resizing=!0,/absolute/.test(f.css("position"))?f.css({position:"absolute",top:f.css("top"),left:f.css("left")}):f.is(".ui-draggable")&&f.css({position:"absolute",top:c.top,left:c.left}),this._renderProxy(),k=g(this.helper.css("left")),
e=g(this.helper.css("top")),a.containment&&(k+=d(a.containment).scrollLeft()||0,e+=d(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:k,top:e},this.size=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalSize=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalPosition={left:k,top:e},this.sizeDiff={width:f.outerWidth()-f.width(),height:f.outerHeight()-
f.height()},this.originalMousePosition={left:h.pageX,top:h.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,b=d(".ui-resizable-"+this.axis).css("cursor"),d("body").css("cursor","auto"===b?this.axis+"-resize":b),f.addClass("ui-resizable-resizing"),this._propagate("start",h),!0},_mouseDrag:function(h){var g,e=this.helper,b={},a=this.originalMousePosition,c=this.position.top,f=this.position.left,m=this.size.width,v=this.size.height,
r=h.pageX-a.left||0,a=h.pageY-a.top||0,n=this._change[this.axis];return n?(g=n.apply(this,[h,r,a]),this._updateVirtualBoundaries(h.shiftKey),(this._aspectRatio||h.shiftKey)&&(g=this._updateRatio(g,h)),g=this._respectSize(g,h),this._updateCache(g),this._propagate("resize",h),this.position.top!==c&&(b.top=this.position.top+"px"),this.position.left!==f&&(b.left=this.position.left+"px"),this.size.width!==m&&(b.width=this.size.width+"px"),this.size.height!==v&&(b.height=this.size.height+"px"),e.css(b),
!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),d.isEmptyObject(b)||this._trigger("resize",h,this.ui()),!1):!1},_mouseStop:function(h){this.resizing=!1;var g,e,b,a,c,f,m,v=this.options;return this._helper&&(g=this._proportionallyResizeElements,e=g.length&&/textarea/i.test(g[0].nodeName),b=e&&d.ui.hasScroll(g[0],"left")?0:this.sizeDiff.height,a=e?0:this.sizeDiff.width,c={width:this.helper.width()-a,height:this.helper.height()-b},f=parseInt(this.element.css("left"),
10)+(this.position.left-this.originalPosition.left)||null,m=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,v.animate||this.element.css(d.extend(c,{top:m,left:f})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!v.animate&&this._proportionallyResize()),d("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",h),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(d){var g,
e,b,a,c;c=this.options;c={minWidth:k(c.minWidth)?c.minWidth:0,maxWidth:k(c.maxWidth)?c.maxWidth:1/0,minHeight:k(c.minHeight)?c.minHeight:0,maxHeight:k(c.maxHeight)?c.maxHeight:1/0};(this._aspectRatio||d)&&(g=c.minHeight*this.aspectRatio,b=c.minWidth/this.aspectRatio,e=c.maxHeight*this.aspectRatio,a=c.maxWidth/this.aspectRatio,g>c.minWidth&&(c.minWidth=g),b>c.minHeight&&(c.minHeight=b),c.maxWidth>e&&(c.maxWidth=e),c.maxHeight>a&&(c.maxHeight=a));this._vBoundaries=c},_updateCache:function(d){this.offset=
this.helper.offset();k(d.left)&&(this.position.left=d.left);k(d.top)&&(this.position.top=d.top);k(d.height)&&(this.size.height=d.height);k(d.width)&&(this.size.width=d.width)},_updateRatio:function(d){var g=this.position,e=this.size,b=this.axis;return k(d.height)?d.width=d.height*this.aspectRatio:k(d.width)&&(d.height=d.width/this.aspectRatio),"sw"===b&&(d.left=g.left+(e.width-d.width),d.top=null),"nw"===b&&(d.top=g.top+(e.height-d.height),d.left=g.left+(e.width-d.width)),d},_respectSize:function(d){var g=
this._vBoundaries,e=this.axis,b=k(d.width)&&g.maxWidth&&g.maxWidth<d.width,a=k(d.height)&&g.maxHeight&&g.maxHeight<d.height,c=k(d.width)&&g.minWidth&&g.minWidth>d.width,f=k(d.height)&&g.minHeight&&g.minHeight>d.height,m=this.originalPosition.left+this.originalSize.width,v=this.position.top+this.size.height,r=/sw|nw|w/.test(e),e=/nw|ne|n/.test(e);return c&&(d.width=g.minWidth),f&&(d.height=g.minHeight),b&&(d.width=g.maxWidth),a&&(d.height=g.maxHeight),c&&r&&(d.left=m-g.minWidth),b&&r&&(d.left=m-g.maxWidth),
f&&e&&(d.top=v-g.minHeight),a&&e&&(d.top=v-g.maxHeight),d.width||d.height||d.left||!d.top?d.width||d.height||d.top||!d.left||(d.left=null):d.top=null,d},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var d,g,e,b,a,c=this.helper||this.element;for(d=0;this._proportionallyResizeElements.length>d;d++){if(a=this._proportionallyResizeElements[d],!this.borderDif)for(this.borderDif=[],e=[a.css("borderTopWidth"),a.css("borderRightWidth"),a.css("borderBottomWidth"),a.css("borderLeftWidth")],
b=[a.css("paddingTop"),a.css("paddingRight"),a.css("paddingBottom"),a.css("paddingLeft")],g=0;e.length>g;g++)this.borderDif[g]=(parseInt(e[g],10)||0)+(parseInt(b[g],10)||0);a.css({height:c.height()-this.borderDif[0]-this.borderDif[2]||0,width:c.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var h=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||d("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-
1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++h.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(d,g){return{width:this.originalSize.width+g}},w:function(d,g){return{left:this.originalPosition.left+g,width:this.originalSize.width-g}},n:function(d,g,e){return{top:this.originalPosition.top+e,height:this.originalSize.height-e}},s:function(d,g,e){return{height:this.originalSize.height+
e}},se:function(h,g,e){return d.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[h,g,e]))},sw:function(h,g,e){return d.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[h,g,e]))},ne:function(h,g,e){return d.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[h,g,e]))},nw:function(h,g,e){return d.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[h,g,e]))}},_propagate:function(h,g){d.ui.plugin.call(this,h,[g,this.ui()]);
"resize"!==h&&this._trigger(h,g,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});d.ui.plugin.add("resizable","animate",{stop:function(h){var g=d(this).data("ui-resizable"),e=g.options,b=g._proportionallyResizeElements,a=b.length&&/textarea/i.test(b[0].nodeName),c=a&&d.ui.hasScroll(b[0],"left")?0:g.sizeDiff.height,a=
{width:g.size.width-(a?0:g.sizeDiff.width),height:g.size.height-c},c=parseInt(g.element.css("left"),10)+(g.position.left-g.originalPosition.left)||null,f=parseInt(g.element.css("top"),10)+(g.position.top-g.originalPosition.top)||null;g.element.animate(d.extend(a,f&&c?{top:f,left:c}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var a={width:parseInt(g.element.css("width"),10),height:parseInt(g.element.css("height"),10),top:parseInt(g.element.css("top"),10),left:parseInt(g.element.css("left"),
10)};b&&b.length&&d(b[0]).css({width:a.width,height:a.height});g._updateCache(a);g._propagate("resize",h)}})}});d.ui.plugin.add("resizable","containment",{start:function(){var h,k,e,b,a,c,f,m=d(this).data("ui-resizable"),v=m.element,r=m.options.containment;(v=r instanceof d?r.get(0):/parent/.test(r)?v.parent().get(0):r)&&(m.containerElement=d(v),/document/.test(r)||r===document?(m.containerOffset={left:0,top:0},m.containerPosition={left:0,top:0},m.parentData={element:d(document),left:0,top:0,width:d(document).width(),
height:d(document).height()||document.body.parentNode.scrollHeight}):(h=d(v),k=[],d(["Top","Right","Left","Bottom"]).each(function(a,c){k[a]=g(h.css("padding"+c))}),m.containerOffset=h.offset(),m.containerPosition=h.position(),m.containerSize={height:h.innerHeight()-k[3],width:h.innerWidth()-k[1]},e=m.containerOffset,b=m.containerSize.height,a=m.containerSize.width,c=d.ui.hasScroll(v,"left")?v.scrollWidth:a,f=d.ui.hasScroll(v)?v.scrollHeight:b,m.parentData={element:v,left:e.left,top:e.top,width:c,
height:f}))},resize:function(h){var g,e,b,a,c=d(this).data("ui-resizable");g=c.options;e=c.containerOffset;b=c.position;h=c._aspectRatio||h.shiftKey;a={top:0,left:0};var f=c.containerElement;f[0]!==document&&/static/.test(f.css("position"))&&(a=e);b.left<(c._helper?e.left:0)&&(c.size.width+=c._helper?c.position.left-e.left:c.position.left-a.left,h&&(c.size.height=c.size.width/c.aspectRatio),c.position.left=g.helper?e.left:0);b.top<(c._helper?e.top:0)&&(c.size.height+=c._helper?c.position.top-e.top:
c.position.top,h&&(c.size.width=c.size.height*c.aspectRatio),c.position.top=c._helper?e.top:0);c.offset.left=c.parentData.left+c.position.left;c.offset.top=c.parentData.top+c.position.top;g=Math.abs(c.offset.left-a.left+c.sizeDiff.width);e=Math.abs((c._helper?c.offset.top-a.top:c.offset.top-e.top)+c.sizeDiff.height);b=c.containerElement.get(0)===c.element.parent().get(0);a=/relative|absolute/.test(c.containerElement.css("position"));b&&a&&(g-=c.parentData.left);g+c.size.width>=c.parentData.width&&
(c.size.width=c.parentData.width-g,h&&(c.size.height=c.size.width/c.aspectRatio));e+c.size.height>=c.parentData.height&&(c.size.height=c.parentData.height-e,h&&(c.size.width=c.size.height*c.aspectRatio))},stop:function(){var h=d(this).data("ui-resizable"),g=h.options,e=h.containerOffset,b=h.containerPosition,a=h.containerElement,c=d(h.helper),f=c.offset(),m=c.outerWidth()-h.sizeDiff.width,c=c.outerHeight()-h.sizeDiff.height;h._helper&&!g.animate&&/relative/.test(a.css("position"))&&d(this).css({left:f.left-
b.left-e.left,width:m,height:c});h._helper&&!g.animate&&/static/.test(a.css("position"))&&d(this).css({left:f.left-b.left-e.left,width:m,height:c})}});d.ui.plugin.add("resizable","alsoResize",{start:function(){var h=d(this).data("ui-resizable").options,g=function(e){d(e).each(function(){var b=d(this);b.data("ui-resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};"object"!=typeof h.alsoResize||h.alsoResize.parentNode?
g(h.alsoResize):h.alsoResize.length?(h.alsoResize=h.alsoResize[0],g(h.alsoResize)):d.each(h.alsoResize,function(e){g(e)})},resize:function(h,g){var e=d(this).data("ui-resizable"),b=e.options,a=e.originalSize,c=e.originalPosition,f={height:e.size.height-a.height||0,width:e.size.width-a.width||0,top:e.position.top-c.top||0,left:e.position.left-c.left||0},m=function(a,c){d(a).each(function(){var a=d(this),b=d(this).data("ui-resizable-alsoresize"),e={},l=c&&c.length?c:a.parents(g.originalElement[0]).length?
["width","height"]:["width","height","top","left"];d.each(l,function(a,c){var d=(b[c]||0)+(f[c]||0);d&&0<=d&&(e[c]=d||null)});a.css(e)})};"object"!=typeof b.alsoResize||b.alsoResize.nodeType?m(b.alsoResize):d.each(b.alsoResize,function(a,c){m(a,c)})},stop:function(){d(this).removeData("resizable-alsoresize")}});d.ui.plugin.add("resizable","ghost",{start:function(){var h=d(this).data("ui-resizable"),g=h.options,e=h.size;h.ghost=h.originalElement.clone();h.ghost.css({opacity:.25,display:"block",position:"relative",
height:e.height,width:e.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof g.ghost?g.ghost:"");h.ghost.appendTo(h.helper)},resize:function(){var h=d(this).data("ui-resizable");h.ghost&&h.ghost.css({position:"relative",height:h.size.height,width:h.size.width})},stop:function(){var h=d(this).data("ui-resizable");h.ghost&&h.helper&&h.helper.get(0).removeChild(h.ghost.get(0))}});d.ui.plugin.add("resizable","grid",{resize:function(){var h=d(this).data("ui-resizable"),
g=h.options,e=h.size,b=h.originalSize,a=h.originalPosition,c=h.axis,f="number"==typeof g.grid?[g.grid,g.grid]:g.grid,m=f[0]||1,v=f[1]||1,r=Math.round((e.width-b.width)/m)*m,e=Math.round((e.height-b.height)/v)*v,n=b.width+r,b=b.height+e,w=g.maxWidth&&n>g.maxWidth,p=g.maxHeight&&b>g.maxHeight,l=g.minWidth&&g.minWidth>n,x=g.minHeight&&g.minHeight>b;g.grid=f;l&&(n+=m);x&&(b+=v);w&&(n-=m);p&&(b-=v);/^(se|s|e)$/.test(c)?(h.size.width=n,h.size.height=b):/^(ne)$/.test(c)?(h.size.width=n,h.size.height=b,h.position.top=
a.top-e):/^(sw)$/.test(c)?(h.size.width=n,h.size.height=b,h.position.left=a.left-r):(h.size.width=n,h.size.height=b,h.position.top=a.top-e,h.position.left=a.left-r)}})})(jQuery);
(function(d){d.widget("ui.selectable",d.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var g,k=this;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){g=d(k.options.filter,k.element[0]);g.addClass("ui-selectee");g.each(function(){var h=d(this),g=h.offset();d.data(this,"selectable-item",{element:this,$element:h,
left:g.left,top:g.top,right:g.left+h.outerWidth(),bottom:g.top+h.outerHeight(),startselected:!1,selected:h.hasClass("ui-selected"),selecting:h.hasClass("ui-selecting"),unselecting:h.hasClass("ui-unselecting")})})};this.refresh();this.selectees=g.addClass("ui-selectee");this._mouseInit();this.helper=d("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");
this._mouseDestroy()},_mouseStart:function(g){var k=this,h=this.options;this.opos=[g.pageX,g.pageY];this.options.disabled||(this.selectees=d(h.filter,this.element[0]),this._trigger("start",g),d(h.appendTo).append(this.helper),this.helper.css({left:g.pageX,top:g.pageY,width:0,height:0}),h.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var h=d.data(this,"selectable-item");h.startselected=!0;g.metaKey||g.ctrlKey||(h.$element.removeClass("ui-selected"),h.selected=!1,
h.$element.addClass("ui-unselecting"),h.unselecting=!0,k._trigger("unselecting",g,{unselecting:h.element}))}),d(g.target).parents().addBack().each(function(){var h,e=d.data(this,"selectable-item");return e?(h=!g.metaKey&&!g.ctrlKey||!e.$element.hasClass("ui-selected"),e.$element.removeClass(h?"ui-unselecting":"ui-selected").addClass(h?"ui-selecting":"ui-unselecting"),e.unselecting=!h,e.selecting=h,e.selected=h,h?k._trigger("selecting",g,{selecting:e.element}):k._trigger("unselecting",g,{unselecting:e.element}),
!1):void 0}))},_mouseDrag:function(g){if(this.dragged=!0,!this.options.disabled){var k,h=this,q=this.options,e=this.opos[0],b=this.opos[1],a=g.pageX,c=g.pageY;return e>a&&(k=a,a=e,e=k),b>c&&(k=c,c=b,b=k),this.helper.css({left:e,top:b,width:a-e,height:c-b}),this.selectees.each(function(){var f=d.data(this,"selectable-item"),m=!1;f&&f.element!==h.element[0]&&("touch"===q.tolerance?m=!(f.left>a||e>f.right||f.top>c||b>f.bottom):"fit"===q.tolerance&&(m=f.left>e&&a>f.right&&f.top>b&&c>f.bottom),m?(f.selected&&
(f.$element.removeClass("ui-selected"),f.selected=!1),f.unselecting&&(f.$element.removeClass("ui-unselecting"),f.unselecting=!1),f.selecting||(f.$element.addClass("ui-selecting"),f.selecting=!0,h._trigger("selecting",g,{selecting:f.element}))):(f.selecting&&((g.metaKey||g.ctrlKey)&&f.startselected?(f.$element.removeClass("ui-selecting"),f.selecting=!1,f.$element.addClass("ui-selected"),f.selected=!0):(f.$element.removeClass("ui-selecting"),f.selecting=!1,f.startselected&&(f.$element.addClass("ui-unselecting"),
f.unselecting=!0),h._trigger("unselecting",g,{unselecting:f.element}))),f.selected&&(g.metaKey||g.ctrlKey||f.startselected||(f.$element.removeClass("ui-selected"),f.selected=!1,f.$element.addClass("ui-unselecting"),f.unselecting=!0,h._trigger("unselecting",g,{unselecting:f.element})))))}),!1}},_mouseStop:function(g){var k=this;return this.dragged=!1,d(".ui-unselecting",this.element[0]).each(function(){var h=d.data(this,"selectable-item");h.$element.removeClass("ui-unselecting");h.unselecting=!1;h.startselected=
!1;k._trigger("unselected",g,{unselected:h.element})}),d(".ui-selecting",this.element[0]).each(function(){var h=d.data(this,"selectable-item");h.$element.removeClass("ui-selecting").addClass("ui-selected");h.selecting=!1;h.selected=!0;h.startselected=!0;k._trigger("selected",g,{selected:h.element})}),this._trigger("stop",g),this.helper.remove(),!1}})})(jQuery);
(function(d){function g(d,g,e){return d>g&&g+e>d}function k(d){return/left|right/.test(d.css("float"))||/inline|table-cell/.test(d.css("display"))}d.widget("ui.sortable",d.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,
scope:"default",tolerance:"intersect",zIndex:1E3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var d=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?"x"===d.axis||k(this.items[0].item):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");
this._mouseDestroy();for(var d=this.items.length-1;0<=d;d--)this.items[d].item.removeData(this.widgetName+"-item");return this},_setOption:function(h,g){"disabled"===h?(this.options[h]=g,this.widget().toggleClass("ui-sortable-disabled",!!g)):d.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(h,g){var e=null,b=!1,a=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(h),d(h.target).parents().each(function(){return d.data(this,
a.widgetName+"-item")===a?(e=d(this),!1):void 0}),d.data(h.target,a.widgetName+"-item")===a&&(e=d(h.target)),e?!this.options.handle||g||(d(this.options.handle,e).find("*").addBack().each(function(){this===h.target&&(b=!0)}),b)?(this.currentItem=e,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(h,g,e){var b;g=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(h),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),
this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},d.extend(this.offset,{click:{left:h.pageX-this.offset.left,top:h.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(h),this.originalPageX=h.pageX,this.originalPageY=h.pageY,g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt),
this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),g.containment&&this._setContainment(),g.cursor&&"auto"!==g.cursor&&(b=this.document.find("body"),this.storedCursor=b.css("cursor"),b.css("cursor",g.cursor),this.storedStylesheet=d("<style>*{ cursor: "+g.cursor+" !important; }</style>").appendTo(b)),g.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),
this.helper.css("opacity",g.opacity)),g.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",g.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",h,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!e)for(e=this.containers.length-1;0<=e;e--)this.containers[e]._trigger("activate",h,this._uiHash(this));return d.ui.ddmanager&&
(d.ui.ddmanager.current=this),d.ui.ddmanager&&!g.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,h),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(h),!0},_mouseDrag:function(h){var g,e,b,a;g=this.options;var c=!1;this.position=this._generatePosition(h);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+
this.scrollParent[0].offsetHeight-h.pageY<g.scrollSensitivity?this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop+g.scrollSpeed:h.pageY-this.overflowOffset.top<g.scrollSensitivity&&(this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop-g.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-h.pageX<g.scrollSensitivity?this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft+g.scrollSpeed:h.pageX-this.overflowOffset.left<g.scrollSensitivity&&(this.scrollParent[0].scrollLeft=
c=this.scrollParent[0].scrollLeft-g.scrollSpeed)):(h.pageY-d(document).scrollTop()<g.scrollSensitivity?c=d(document).scrollTop(d(document).scrollTop()-g.scrollSpeed):d(window).height()-(h.pageY-d(document).scrollTop())<g.scrollSensitivity&&(c=d(document).scrollTop(d(document).scrollTop()+g.scrollSpeed)),h.pageX-d(document).scrollLeft()<g.scrollSensitivity?c=d(document).scrollLeft(d(document).scrollLeft()-g.scrollSpeed):d(window).width()-(h.pageX-d(document).scrollLeft())<g.scrollSensitivity&&(c=d(document).scrollLeft(d(document).scrollLeft()+
g.scrollSpeed))),!1!==c&&d.ui.ddmanager&&!g.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,h));this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(g=this.items.length-1;0<=g;g--)if(e=this.items[g],b=e.item[0],a=this._intersectsWithPointer(e),a&&e.instance===this.currentContainer&&b!==this.currentItem[0]&&
this.placeholder[1===a?"next":"prev"]()[0]!==b&&!d.contains(this.placeholder[0],b)&&("semi-dynamic"===this.options.type?!d.contains(this.element[0],b):!0)){if(this.direction=1===a?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(e))break;this._rearrange(h,e);this._trigger("change",h,this._uiHash());break}return this._contactContainers(h),d.ui.ddmanager&&d.ui.ddmanager.drag(this,h),this._trigger("sort",h,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(h,
g){if(h){if(d.ui.ddmanager&&!this.options.dropBehaviour&&d.ui.ddmanager.drop(this,h),this.options.revert){var e=this,b=this.placeholder.offset(),a=this.options.axis,c={};a&&"x"!==a||(c.left=b.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft));a&&"y"!==a||(c.top=b.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop));this.reverting=!0;d(this.helper).animate(c,parseInt(this.options.revert,
10)||500,function(){e._clear(h)})}else this._clear(h,g);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var h=this.containers.length-1;0<=h;h--)this.containers[h]._trigger("deactivate",null,this._uiHash(this)),this.containers[h].containerCache.over&&(this.containers[h]._trigger("out",null,this._uiHash(this)),this.containers[h].containerCache.over=
0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),d.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?d(this.domPosition.prev).after(this.currentItem):d(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(h){var g=this._getItemsAsjQuery(h&&h.connected),e=[];return h=
h||{},d(g).each(function(){var b=(d(h.item||this).attr(h.attribute||"id")||"").match(h.expression||/(.+)[\-=_](.+)/);b&&e.push((h.key||b[1]+"[]")+"="+(h.key&&h.expression?b[1]:b[2]))}),!e.length&&h.key&&e.push(h.key+"="),e.join("&")},toArray:function(h){var g=this._getItemsAsjQuery(h&&h.connected),e=[];return h=h||{},g.each(function(){e.push(d(h.item||this).attr(h.attribute||"id")||"")}),e},_intersectsWith:function(d){var g=this.positionAbs.left,e=g+this.helperProportions.width,b=this.positionAbs.top,
a=b+this.helperProportions.height,c=d.left,f=c+d.width,m=d.top,v=m+d.height,r=this.offset.click.top,n=this.offset.click.left,n="y"===this.options.axis||g+n>c&&f>g+n,r=("x"===this.options.axis||b+r>m&&v>b+r)&&n;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>d[this.floating?"width":"height"]?r:g+this.helperProportions.width/2>c&&f>e-this.helperProportions.width/2&&b+this.helperProportions.height/
2>m&&v>a-this.helperProportions.height/2},_intersectsWithPointer:function(d){var k="x"===this.options.axis||g(this.positionAbs.top+this.offset.click.top,d.top,d.height);d="y"===this.options.axis||g(this.positionAbs.left+this.offset.click.left,d.left,d.width);k=k&&d;d=this._getDragVerticalDirection();var e=this._getDragHorizontalDirection();return k?this.floating?e&&"right"===e||"down"===d?2:1:d&&("down"===d?2:1):!1},_intersectsWithSides:function(d){var k=g(this.positionAbs.top+this.offset.click.top,
d.top+d.height/2,d.height);d=g(this.positionAbs.left+this.offset.click.left,d.left+d.width/2,d.width);var e=this._getDragVerticalDirection(),b=this._getDragHorizontalDirection();return this.floating&&b?"right"===b&&d||"left"===b&&!d:e&&("down"===e&&k||"up"===e&&!k)},_getDragVerticalDirection:function(){var d=this.positionAbs.top-this.lastPositionAbs.top;return 0!==d&&(0<d?"down":"up")},_getDragHorizontalDirection:function(){var d=this.positionAbs.left-this.lastPositionAbs.left;return 0!==d&&(0<d?
"right":"left")},refresh:function(d){return this._refreshItems(d),this.refreshPositions(),this},_connectWith:function(){var d=this.options;return d.connectWith.constructor===String?[d.connectWith]:d.connectWith},_getItemsAsjQuery:function(h){var g,e,b,a=[],c=[],f=this._connectWith();if(f&&h)for(h=f.length-1;0<=h;h--)for(e=d(f[h]),g=e.length-1;0<=g;g--)(b=d.data(e[g],this.widgetFullName))&&b!==this&&!b.options.disabled&&c.push([d.isFunction(b.options.items)?b.options.items.call(b.element):d(b.options.items,
b.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),b]);c.push([d.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):d(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(h=c.length-1;0<=h;h--)c[h][0].each(function(){a.push(this)});return d(a)},_removeCurrentsFromItems:function(){var h=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=d.grep(this.items,
function(d){for(var e=0;h.length>e;e++)if(h[e]===d.item[0])return!1;return!0})},_refreshItems:function(h){this.items=[];this.containers=[this];var g,e,b,a,c,f=this.items,m=[[d.isFunction(this.options.items)?this.options.items.call(this.element[0],h,{item:this.currentItem}):d(this.options.items,this.element),this]];if((c=this._connectWith())&&this.ready)for(g=c.length-1;0<=g;g--)for(b=d(c[g]),e=b.length-1;0<=e;e--)(a=d.data(b[e],this.widgetFullName))&&a!==this&&!a.options.disabled&&(m.push([d.isFunction(a.options.items)?
a.options.items.call(a.element[0],h,{item:this.currentItem}):d(a.options.items,a.element),a]),this.containers.push(a));for(g=m.length-1;0<=g;g--)for(h=m[g][1],b=m[g][0],e=0,c=b.length;c>e;e++)a=d(b[e]),a.data(this.widgetName+"-item",h),f.push({item:a,instance:h,width:0,height:0,left:0,top:0})},refreshPositions:function(h){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var g,e,b,a;for(g=this.items.length-1;0<=g;g--)e=this.items[g],e.instance!==this.currentContainer&&this.currentContainer&&
e.item[0]!==this.currentItem[0]||(b=this.options.toleranceElement?d(this.options.toleranceElement,e.item):e.item,h||(e.width=b.outerWidth(),e.height=b.outerHeight()),a=b.offset(),e.left=a.left,e.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(g=this.containers.length-1;0<=g;g--)a=this.containers[g].element.offset(),this.containers[g].containerCache.left=a.left,this.containers[g].containerCache.top=a.top,this.containers[g].containerCache.width=
this.containers[g].element.outerWidth(),this.containers[g].containerCache.height=this.containers[g].element.outerHeight();return this},_createPlaceholder:function(h){h=h||this;var g,e=h.options;e.placeholder&&e.placeholder.constructor!==String||(g=e.placeholder,e.placeholder={element:function(){var b=h.currentItem[0].nodeName.toLowerCase(),a=d("<"+b+">",h.document[0]).addClass(g||h.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===b?h.currentItem.children().each(function(){d("<td>&#160;</td>",
h.document[0]).attr("colspan",d(this).attr("colspan")||1).appendTo(a)}):"img"===b&&a.attr("src",h.currentItem.attr("src")),g||a.css("visibility","hidden"),a},update:function(b,a){(!g||e.forcePlaceholderSize)&&(a.height()||a.height(h.currentItem.innerHeight()-parseInt(h.currentItem.css("paddingTop")||0,10)-parseInt(h.currentItem.css("paddingBottom")||0,10)),a.width()||a.width(h.currentItem.innerWidth()-parseInt(h.currentItem.css("paddingLeft")||0,10)-parseInt(h.currentItem.css("paddingRight")||0,10)))}});
h.placeholder=d(e.placeholder.element.call(h.element,h.currentItem));h.currentItem.after(h.placeholder);e.placeholder.update(h,h.placeholder)},_contactContainers:function(h){var q,e,b,a,c,f,m,v,r,n=e=null;for(q=this.containers.length-1;0<=q;q--)d.contains(this.currentItem[0],this.containers[q].element[0])||(this._intersectsWith(this.containers[q].containerCache)?e&&d.contains(this.containers[q].element[0],e.element[0])||(e=this.containers[q],n=q):this.containers[q].containerCache.over&&(this.containers[q]._trigger("out",
h,this._uiHash(this)),this.containers[q].containerCache.over=0));if(e)if(1===this.containers.length)this.containers[n].containerCache.over||(this.containers[n]._trigger("over",h,this._uiHash(this)),this.containers[n].containerCache.over=1);else{q=1E4;b=null;a=(r=e.floating||k(this.currentItem))?"left":"top";c=r?"width":"height";f=this.positionAbs[a]+this.offset.click[a];for(e=this.items.length-1;0<=e;e--)d.contains(this.containers[n].element[0],this.items[e].item[0])&&this.items[e].item[0]!==this.currentItem[0]&&
(!r||g(this.positionAbs.top+this.offset.click.top,this.items[e].top,this.items[e].height))&&(m=this.items[e].item.offset()[a],v=!1,Math.abs(m-f)>Math.abs(m+this.items[e][c]-f)&&(v=!0,m+=this.items[e][c]),q>Math.abs(m-f)&&(q=Math.abs(m-f),b=this.items[e],this.direction=v?"up":"down"));(b||this.options.dropOnEmpty)&&this.currentContainer!==this.containers[n]&&(b?this._rearrange(h,b,null,!0):this._rearrange(h,null,this.containers[n].element,!0),this._trigger("change",h,this._uiHash()),this.containers[n]._trigger("change",
h,this._uiHash(this)),this.currentContainer=this.containers[n],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[n]._trigger("over",h,this._uiHash(this)),this.containers[n].containerCache.over=1)}},_createHelper:function(h){var g=this.options;h=d.isFunction(g.helper)?d(g.helper.apply(this.element[0],[h,this.currentItem])):"clone"===g.helper?this.currentItem.clone():this.currentItem;return h.parents("body").length||d("parent"!==g.appendTo?g.appendTo:this.currentItem[0].parentNode)[0].appendChild(h[0]),
h[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!h[0].style.width||g.forceHelperSize)&&h.width(this.currentItem.width()),(!h[0].style.height||g.forceHelperSize)&&h.height(this.currentItem.height()),h},_adjustOffsetFromHelper:function(h){"string"==typeof h&&(h=h.split(" "));d.isArray(h)&&(h={left:+h[0],top:+h[1]||
0});"left"in h&&(this.offset.click.left=h.left+this.margins.left);"right"in h&&(this.offset.click.left=this.helperProportions.width-h.right+this.margins.left);"top"in h&&(this.offset.click.top=h.top+this.margins.top);"bottom"in h&&(this.offset.click.top=this.helperProportions.height-h.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var h=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&d.contains(this.scrollParent[0],
this.offsetParent[0])&&(h.left+=this.scrollParent.scrollLeft(),h.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&d.ui.ie)&&(h={top:0,left:0}),{top:h.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:h.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var d=this.currentItem.position();return{top:d.top-
(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:d.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var h,g,e,b=this.options;
"parent"===b.containment&&(b.containment=this.helper[0].parentNode);"document"!==b.containment&&"window"!==b.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,d("document"===b.containment?document:window).width()-this.helperProportions.width-this.margins.left,(d("document"===b.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);/^(document|window|parent)$/.test(b.containment)||
(h=d(b.containment)[0],g=d(b.containment).offset(),e="hidden"!==d(h).css("overflow"),this.containment=[g.left+(parseInt(d(h).css("borderLeftWidth"),10)||0)+(parseInt(d(h).css("paddingLeft"),10)||0)-this.margins.left,g.top+(parseInt(d(h).css("borderTopWidth"),10)||0)+(parseInt(d(h).css("paddingTop"),10)||0)-this.margins.top,g.left+(e?Math.max(h.scrollWidth,h.offsetWidth):h.offsetWidth)-(parseInt(d(h).css("borderLeftWidth"),10)||0)-(parseInt(d(h).css("paddingRight"),10)||0)-this.helperProportions.width-
this.margins.left,g.top+(e?Math.max(h.scrollHeight,h.offsetHeight):h.offsetHeight)-(parseInt(d(h).css("borderTopWidth"),10)||0)-(parseInt(d(h).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(g,k){k||(k=this.position);var e="absolute"===g?1:-1,b="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&d.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(b[0].tagName);return{top:k.top+
this.offset.relative.top*e+this.offset.parent.top*e-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:b.scrollTop())*e,left:k.left+this.offset.relative.left*e+this.offset.parent.left*e-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:b.scrollLeft())*e}},_generatePosition:function(g){var k,e,b=this.options,a=g.pageX,c=g.pageY,f="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&d.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,
m=/(html|body)/i.test(f[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(g.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),g.pageY-this.offset.click.top<this.containment[1]&&(c=this.containment[1]+this.offset.click.top),g.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+
this.offset.click.left),g.pageY-this.offset.click.top>this.containment[3]&&(c=this.containment[3]+this.offset.click.top)),b.grid&&(k=this.originalPageY+Math.round((c-this.originalPageY)/b.grid[1])*b.grid[1],c=this.containment?k-this.offset.click.top>=this.containment[1]&&k-this.offset.click.top<=this.containment[3]?k:k-this.offset.click.top>=this.containment[1]?k-b.grid[1]:k+b.grid[1]:k,e=this.originalPageX+Math.round((a-this.originalPageX)/b.grid[0])*b.grid[0],a=this.containment?e-this.offset.click.left>=
this.containment[0]&&e-this.offset.click.left<=this.containment[2]?e:e-this.offset.click.left>=this.containment[0]?e-b.grid[0]:e+b.grid[0]:e)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():m?0:f.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():m?0:f.scrollLeft())}},_rearrange:function(d,g,e,b){e?e[0].appendChild(this.placeholder[0]):
g.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?g.item[0]:g.item[0].nextSibling);var a=this.counter=this.counter?++this.counter:1;this._delay(function(){a===this.counter&&this.refreshPositions(!b)})},_clear:function(d,g){this.reverting=!1;var e,b=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(e in this._storedCSS)"auto"!==this._storedCSS[e]&&"static"!==
this._storedCSS[e]||(this._storedCSS[e]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!g&&b.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||g||b.push(function(a){this._trigger("update",a,this._uiHash())});this!==this.currentContainer&&(g||(b.push(function(a){this._trigger("remove",
a,this._uiHash())}),b.push(function(a){return function(c){a._trigger("receive",c,this._uiHash(this))}}.call(this,this.currentContainer)),b.push(function(a){return function(c){a._trigger("update",c,this._uiHash(this))}}.call(this,this.currentContainer))));for(e=this.containers.length-1;0<=e;e--)g||b.push(function(a){return function(c){a._trigger("deactivate",c,this._uiHash(this))}}.call(this,this.containers[e])),this.containers[e].containerCache.over&&(b.push(function(a){return function(c){a._trigger("out",
c,this._uiHash(this))}}.call(this,this.containers[e])),this.containers[e].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!g){this._trigger("beforeStop",d,this._uiHash());for(e=0;b.length>e;e++)b[e].call(this,
d);this._trigger("stop",d,this._uiHash())}return this.fromOutside=!1,!1}if(g||this._trigger("beforeStop",d,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!g){for(e=0;b.length>e;e++)b[e].call(this,d);this._trigger("stop",d,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===d.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(g){var k=g||this;
return{helper:k.helper,placeholder:k.placeholder||d([]),position:k.position,originalPosition:k.originalPosition,offset:k.positionAbs,item:k.currentItem,sender:g?g.element:null}}})})(jQuery);
(function(d){var g=0,k={},h={};k.height=k.paddingTop=k.paddingBottom=k.borderTopWidth=k.borderBottomWidth="hide";h.height=h.paddingTop=h.paddingBottom=h.borderTopWidth=h.borderBottomWidth="show";d.widget("ui.accordion",{version:"1.10.3",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var g=this.options;
this.prevShow=this.prevHide=d();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");g.collapsible||!1!==g.active&&null!=g.active||(g.active=0);this._processPanels();0>g.active&&(g.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():d(),content:this.active.length?this.active.next():d()}},_createIcons:function(){var g=this.options.icons;g&&(d("<span>").addClass("ui-accordion-header-icon ui-icon "+
g.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(g.header).addClass(g.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var d;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&
this.removeAttribute("id")});this._destroyIcons();d=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")});"content"!==this.options.heightStyle&&d.css("height","")},_setOption:function(d,e){return"active"===
d?(this._activate(e),void 0):("event"===d&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(d,e),"collapsible"!==d||e||!1!==this.options.active||this._activate(0),"icons"===d&&(this._destroyIcons(),e&&this._createIcons()),"disabled"===d&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e),void 0)},_keydown:function(g){if(!g.altKey&&!g.ctrlKey){var e=d.ui.keyCode,b=this.headers.length,a=this.headers.index(g.target),c=!1;switch(g.keyCode){case e.RIGHT:case e.DOWN:c=
this.headers[(a+1)%b];break;case e.LEFT:case e.UP:c=this.headers[(a-1+b)%b];break;case e.SPACE:case e.ENTER:this._eventHandler(g);break;case e.HOME:c=this.headers[0];break;case e.END:c=this.headers[b-1]}c&&(d(g.target).attr("tabIndex",-1),d(c).attr("tabIndex",0),c.focus(),g.preventDefault())}},_panelKeyDown:function(g){g.keyCode===d.ui.keyCode.UP&&g.ctrlKey&&d(g.currentTarget).prev().focus()},refresh:function(){var g=this.options;this._processPanels();!1===g.active&&!0===g.collapsible||!this.headers.length?
(g.active=!1,this.active=d()):!1===g.active?this._activate(0):this.active.length&&!d.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(g.active=!1,this.active=d()):this._activate(Math.max(0,g.active-1)):g.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},
_refresh:function(){var h,e=this.options,b=e.heightStyle,a=this.element.parent(),c=this.accordionId="ui-accordion-"+(this.element.attr("id")||++g);this.active=this._findActive(e.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(a){var b=d(this),e=b.attr("id"),g=b.next(),h=g.attr("id");e||(e=c+"-header-"+a,b.attr("id",e));h||(h=c+"-panel-"+
a,g.attr("id",h));b.attr("aria-controls",h);g.attr("aria-labelledby",e)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(e.event);"fill"===b?(h=a.height(),this.element.siblings(":visible").each(function(){var a=
d(this),c=a.css("position");"absolute"!==c&&"fixed"!==c&&(h-=a.outerHeight(!0))}),this.headers.each(function(){h-=d(this).outerHeight(!0)}),this.headers.next().each(function(){d(this).height(Math.max(0,h-d(this).innerHeight()+d(this).height()))}).css("overflow","auto")):"auto"===b&&(h=0,this.headers.next().each(function(){h=Math.max(h,d(this).css("height","").height())}).height(h))},_activate:function(g){g=this._findActive(g)[0];g!==this.active[0]&&(g=g||this.active[0],this._eventHandler({target:g,
currentTarget:g,preventDefault:d.noop}))},_findActive:function(g){return"number"==typeof g?this.headers.eq(g):d()},_setupEvents:function(g){var e={keydown:"_keydown"};g&&d.each(g.split(" "),function(b,a){e[a]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,e);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(g){var e=this.options,b=this.active,a=d(g.currentTarget),c=a[0]===
b[0],f=c&&e.collapsible,m=f?d():a.next(),h=b.next(),m={oldHeader:b,oldPanel:h,newHeader:f?d():a,newPanel:m};g.preventDefault();c&&!e.collapsible||!1===this._trigger("beforeActivate",g,m)||(e.active=f?!1:this.headers.index(a),this.active=c?d():a,this._toggle(m),b.removeClass("ui-accordion-header-active ui-state-active"),e.icons&&b.children(".ui-accordion-header-icon").removeClass(e.icons.activeHeader).addClass(e.icons.header),c||(a.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),
e.icons&&a.children(".ui-accordion-header-icon").removeClass(e.icons.header).addClass(e.icons.activeHeader),a.next().addClass("ui-accordion-content-active")))},_toggle:function(g){var e=g.newPanel,b=this.prevShow.length?this.prevShow:g.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=e;this.prevHide=b;this.options.animate?this._animate(e,b,g):(b.hide(),e.show(),this._toggleComplete(g));b.attr({"aria-expanded":"false","aria-hidden":"true"});b.prev().attr("aria-selected","false");
e.length&&b.length?b.prev().attr("tabIndex",-1):e.length&&this.headers.filter(function(){return 0===d(this).attr("tabIndex")}).attr("tabIndex",-1);e.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(d,e,b){var a,c,f,m=this,g=0,r=d.length&&(!e.length||d.index()<e.index()),n=this.options.animate||{},r=r&&n.down||n,w=function(){m._toggleComplete(b)};return"number"==typeof r&&(f=r),"string"==typeof r&&(c=r),c=c||r.easing||n.easing,
f=f||r.duration||n.duration,e.length?d.length?(a=d.show().outerHeight(),e.animate(k,{duration:f,easing:c,step:function(a,c){c.now=Math.round(a)}}),d.hide().animate(h,{duration:f,easing:c,complete:w,step:function(c,b){b.now=Math.round(c);"height"!==b.prop?g+=b.now:"content"!==m.options.heightStyle&&(b.now=Math.round(a-e.outerHeight()-g),g=0)}}),void 0):e.animate(k,f,c,w):d.animate(h,f,c,w)},_toggleComplete:function(d){var e=d.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");
e.length&&(e.parent()[0].className=e.parent()[0].className);this._trigger("activate",null,d)}})})(jQuery);
(function(d){var g=0;d.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var g,h,q,e=this.element[0].nodeName.toLowerCase(),b="textarea"===e,e="input"===e;this.isMultiLine=b?!0:e?!1:this.element.prop("isContentEditable");this.valueMethod=this.element[b||
e?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(a){if(this.element.prop("readOnly"))return g=!0,q=!0,h=!0,void 0;h=q=g=!1;var c=d.ui.keyCode;switch(a.keyCode){case c.PAGE_UP:g=!0;this._move("previousPage",a);break;case c.PAGE_DOWN:g=!0;this._move("nextPage",a);break;case c.UP:g=!0;this._keyEvent("previous",a);break;case c.DOWN:g=!0;this._keyEvent("next",a);break;case c.ENTER:case c.NUMPAD_ENTER:this.menu.active&&
(g=!0,a.preventDefault(),this.menu.select(a));break;case c.TAB:this.menu.active&&this.menu.select(a);break;case c.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(a),a.preventDefault());break;default:h=!0,this._searchTimeout(a)}},keypress:function(a){if(g)return g=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&a.preventDefault(),void 0;if(!h){var c=d.ui.keyCode;switch(a.keyCode){case c.PAGE_UP:this._move("previousPage",a);break;case c.PAGE_DOWN:this._move("nextPage",
a);break;case c.UP:this._keyEvent("previous",a);break;case c.DOWN:this._keyEvent("next",a)}}},input:function(a){return q?(q=!1,a.preventDefault(),void 0):(this._searchTimeout(a),void 0)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(a){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(a),this._change(a),void 0)}});this._initSource();this.menu=d("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");
this._on(this.menu.element,{mousedown:function(a){a.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur});var c=this.menu.element[0];d(a.target).closest(".ui-menu-item").length||this._delay(function(){var a=this;this.document.one("mousedown",function(b){b.target===a.element[0]||b.target===c||d.contains(c,b.target)||a.close()})})},menufocus:function(a,c){if(this.isNewMenu&&(this.isNewMenu=!1,a.originalEvent&&/^mouse/.test(a.originalEvent.type)))return this.menu.blur(),
this.document.one("mousemove",function(){d(a.target).trigger(a.originalEvent)}),void 0;var b=c.item.data("ui-autocomplete-item");!1!==this._trigger("focus",a,{item:b})?a.originalEvent&&/^key/.test(a.originalEvent.type)&&this._value(b.value):this.liveRegion.text(b.value)},menuselect:function(a,c){var b=c.item.data("ui-autocomplete-item"),e=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=e,this._delay(function(){this.previous=e;this.selectedItem=b}));
!1!==this._trigger("select",a,{item:b})&&this._value(b.value);this.term=this._value();this.close(a);this.selectedItem=b}});this.liveRegion=d("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},
_setOption:function(d,g){this._super(d,g);"source"===d&&this._initSource();"appendTo"===d&&this.menu.element.appendTo(this._appendTo());"disabled"===d&&g&&this.xhr&&this.xhr.abort()},_appendTo:function(){var g=this.options.appendTo;return g&&(g=g.jquery||g.nodeType?d(g):this.document.find(g).eq(0)),g||(g=this.element.closest(".ui-front")),g.length||(g=this.document[0].body),g},_initSource:function(){var g,h,q=this;d.isArray(this.options.source)?(g=this.options.source,this.source=function(e,b){b(d.ui.autocomplete.filter(g,
e.term))}):"string"==typeof this.options.source?(h=this.options.source,this.source=function(e,b){q.xhr&&q.xhr.abort();q.xhr=d.ajax({url:h,data:e,dataType:"json",success:function(a){b(a)},error:function(){b([])}})}):this.source=this.options.source},_searchTimeout:function(d){clearTimeout(this.searching);this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,d))},this.options.delay)},search:function(d,g){return d=null!=d?d:this._value(),this.term=this._value(),
d.length<this.options.minLength?this.close(g):!1!==this._trigger("search",g)?this._search(d):void 0},_search:function(d){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:d},this._response())},_response:function(){var d=this,h=++g;return function(q){h===g&&d.__response(q);d.pending--;d.pending||d.element.removeClass("ui-autocomplete-loading")}},__response:function(d){d&&(d=this._normalize(d));this._trigger("response",null,{content:d});!this.options.disabled&&
d&&d.length&&!this.cancelSearch?(this._suggest(d),this._trigger("open")):this._close()},close:function(d){this.cancelSearch=!0;this._close(d)},_close:function(d){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",d))},_change:function(d){this.previous!==this._value()&&this._trigger("change",d,{item:this.selectedItem})},_normalize:function(g){return g.length&&g[0].label&&g[0].value?g:d.map(g,function(g){return"string"==typeof g?{label:g,
value:g}:d.extend({label:g.label||g.value,value:g.value||g.label},g)})},_suggest:function(g){var h=this.menu.element.empty();this._renderMenu(h,g);this.isNewMenu=!0;this.menu.refresh();h.show();this._resizeMenu();h.position(d.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var d=this.menu.element;d.outerWidth(Math.max(d.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(g,h){var q=this;d.each(h,function(d,b){q._renderItemData(g,
b)})},_renderItemData:function(d,g){return this._renderItem(d,g).data("ui-autocomplete-item",g)},_renderItem:function(g,h){return d("<li>").append(d("<a>").text(h.label)).appendTo(g)},_move:function(d,g){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(d)||this.menu.isLastItem()&&/^next/.test(d)?(this._value(this.term),this.menu.blur(),void 0):(this.menu[d](g),void 0):(this.search(null,g),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,
arguments)},_keyEvent:function(d,g){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(d,g),g.preventDefault())}});d.extend(d.ui.autocomplete,{escapeRegex:function(d){return d.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(g,h){var q=RegExp(d.ui.autocomplete.escapeRegex(h),"i");return d.grep(g,function(d){return q.test(d.label||d.value||d)})}});d.widget("ui.autocomplete",d.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(d){return d+
(1<d?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(d){var g;this._superApply(arguments);this.options.disabled||this.cancelSearch||(g=d&&d.length?this.options.messages.results(d.length):this.options.messages.noResults,this.liveRegion.text(g))}})})(jQuery);
(function(d){var g,k,h,q,e=function(){var a=d(this);setTimeout(function(){a.find(":ui-button").button("refresh")},1)},b=function(a){var c=a.name,b=a.form,e=d([]);return c&&(c=c.replace(/'/g,"\\'"),e=b?d(b).find("[name='"+c+"']"):d("[name='"+c+"']",a.ownerDocument).filter(function(){return!this.form})),e};d.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+
this.eventNamespace).bind("reset"+this.eventNamespace,e);"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var a=this,c=this.options,f="checkbox"===this.type||"radio"===this.type,m=f?"":"ui-state-active";null===c.label&&(c.label="input"===this.type?this.buttonElement.val():this.buttonElement.html());this._hoverable(this.buttonElement);
this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter"+this.eventNamespace,function(){c.disabled||this===g&&d(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){c.disabled||d(this).removeClass(m)}).bind("click"+this.eventNamespace,function(a){c.disabled&&(a.preventDefault(),a.stopImmediatePropagation())});this.element.bind("focus"+this.eventNamespace,function(){a.buttonElement.addClass("ui-state-focus")}).bind("blur"+
this.eventNamespace,function(){a.buttonElement.removeClass("ui-state-focus")});f&&(this.element.bind("change"+this.eventNamespace,function(){q||a.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(a){c.disabled||(q=!1,k=a.pageX,h=a.pageY)}).bind("mouseup"+this.eventNamespace,function(a){c.disabled||(k!==a.pageX||h!==a.pageY)&&(q=!0)}));"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return c.disabled||q?!1:void 0}):"radio"===this.type?
this.buttonElement.bind("click"+this.eventNamespace,function(){if(c.disabled||q)return!1;d(this).addClass("ui-state-active");a.buttonElement.attr("aria-pressed","true");var f=a.element[0];b(f).not(f).map(function(){return d(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return c.disabled?!1:(d(this).addClass("ui-state-active"),g=this,a.document.one("mouseup",function(){g=null}),void 0)}).bind("mouseup"+
this.eventNamespace,function(){return c.disabled?!1:(d(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(a){return c.disabled?!1:((a.keyCode===d.ui.keyCode.SPACE||a.keyCode===d.ui.keyCode.ENTER)&&d(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){d(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(a){a.keyCode===d.ui.keyCode.SPACE&&d(this).click()}));
this._setOption("disabled",c.disabled);this._resetButton()},_determineButtonType:function(){var a,c,b;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button";"checkbox"===this.type||"radio"===this.type?(a=this.element.parents().last(),c="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(c),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(c),this.buttonElement.length||
(this.buttonElement=a.find(c))),this.element.addClass("ui-helper-hidden-accessible"),b=this.element.is(":checked"),b&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",b)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());
this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,c){return this._super(a,c),"disabled"===a?(c?this.element.prop("disabled",!0):this.element.prop("disabled",!1),void 0):(this._resetButton(),void 0)},refresh:function(){var a=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");a!==this.options.disabled&&this._setOption("disabled",a);"radio"===this.type?b(this.element[0]).each(function(){d(this).is(":checked")?d(this).button("widget").addClass("ui-state-active").attr("aria-pressed",
"true"):d(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var a=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),
c=d("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(a.empty()).text(),b=this.options.icons,e=b.primary&&b.secondary,g=[];b.primary||b.secondary?(this.options.text&&g.push("ui-button-text-icon"+(e?"s":b.primary?"-primary":"-secondary")),b.primary&&a.prepend("<span class='ui-button-icon-primary ui-icon "+b.primary+"'></span>"),b.secondary&&a.append("<span class='ui-button-icon-secondary ui-icon "+b.secondary+"'></span>"),this.options.text||(g.push(e?"ui-button-icons-only":
"ui-button-icon-only"),this.hasTitle||a.attr("title",d.trim(c)))):g.push("ui-button-text-only");a.addClass(g.join(" "))}});d.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,c){"disabled"===a&&this.buttons.button("option",a,c);this._super(a,c)},refresh:function(){var a=
"rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return d(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(a?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(a?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return d(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);
(function(d,g){function k(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";
this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",
firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,
onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};d.extend(this._defaults,this.regional[""]);this.dpDiv=h(d("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function h(b){return b.delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseout",function(){d(this).removeClass("ui-state-hover");
-1!==this.className.indexOf("ui-datepicker-prev")&&d(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&d(this).removeClass("ui-datepicker-next-hover")}).delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseover",function(){d.datepicker._isDisabledDatepicker(e.inline?b.parent()[0]:e.input[0])||(d(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),d(this).addClass("ui-state-hover"),
-1!==this.className.indexOf("ui-datepicker-prev")&&d(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&d(this).addClass("ui-datepicker-next-hover"))})}function q(b,a){d.extend(b,a);for(var c in a)null==a[c]&&(b[c]=a[c]);return b}d.extend(d.ui,{datepicker:{version:"1.10.3"}});var e;d.extend(k.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(b){return q(this._defaults,b||{}),this},_attachDatepicker:function(b,
a){var c,f,e;c=b.nodeName.toLowerCase();f="div"===c||"span"===c;b.id||(this.uuid+=1,b.id="dp"+this.uuid);e=this._newInst(d(b),f);e.settings=d.extend({},a||{});"input"===c?this._connectDatepicker(b,e):f&&this._inlineDatepicker(b,e)},_newInst:function(b,a){return{id:b[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:a,dpDiv:a?h(d("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):
this.dpDiv}},_connectDatepicker:function(b,a){var c=d(b);a.append=d([]);a.trigger=d([]);c.hasClass(this.markerClassName)||(this._attachments(c,a),c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(a),d.data(b,"datepicker",a),a.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,a){var c,f,e;c=this._get(a,"appendText");var g=this._get(a,"isRTL");a.append&&a.append.remove();c&&(a.append=d("<span class='"+this._appendClass+
"'>"+c+"</span>"),b[g?"before":"after"](a.append));b.unbind("focus",this._showDatepicker);a.trigger&&a.trigger.remove();c=this._get(a,"showOn");"focus"!==c&&"both"!==c||b.focus(this._showDatepicker);"button"!==c&&"both"!==c||(f=this._get(a,"buttonText"),e=this._get(a,"buttonImage"),a.trigger=d(this._get(a,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:e,alt:f,title:f}):d("<button type='button'></button>").addClass(this._triggerClass).html(e?d("<img/>").attr({src:e,alt:f,title:f}):
f)),b[g?"before":"after"](a.trigger),a.trigger.click(function(){return d.datepicker._datepickerShowing&&d.datepicker._lastInput===b[0]?d.datepicker._hideDatepicker():d.datepicker._datepickerShowing&&d.datepicker._lastInput!==b[0]?(d.datepicker._hideDatepicker(),d.datepicker._showDatepicker(b[0])):d.datepicker._showDatepicker(b[0]),!1}))},_autoSize:function(b){if(this._get(b,"autoSize")&&!b.inline){var a,c,f,d,e=new Date(2009,11,20),g=this._get(b,"dateFormat");g.match(/[DM]/)&&(a=function(a){for(d=
f=c=0;a.length>d;d++)a[d].length>c&&(c=a[d].length,f=d);return f},e.setMonth(a(this._get(b,g.match(/MM/)?"monthNames":"monthNamesShort"))),e.setDate(a(this._get(b,g.match(/DD/)?"dayNames":"dayNamesShort"))+20-e.getDay()));b.input.attr("size",this._formatDate(b,e).length)}},_inlineDatepicker:function(b,a){var c=d(b);c.hasClass(this.markerClassName)||(c.addClass(this.markerClassName).append(a.dpDiv),d.data(b,"datepicker",a),this._setDate(a,this._getDefaultDate(a),!0),this._updateDatepicker(a),this._updateAlternate(a),
a.settings.disabled&&this._disableDatepicker(b),a.dpDiv.css("display","block"))},_dialogDatepicker:function(b,a,c,f,e){var g,h,n,w,p;b=this._dialogInst;return b||(this.uuid+=1,g="dp"+this.uuid,this._dialogInput=d("<input type='text' id='"+g+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),d("body").append(this._dialogInput),b=this._dialogInst=this._newInst(this._dialogInput,!1),b.settings={},d.data(this._dialogInput[0],"datepicker",b)),q(b.settings,
f||{}),a=a&&a.constructor===Date?this._formatDate(b,a):a,this._dialogInput.val(a),this._pos=e?e.length?e:[e.pageX,e.pageY]:null,this._pos||(h=document.documentElement.clientWidth,n=document.documentElement.clientHeight,w=document.documentElement.scrollLeft||document.body.scrollLeft,p=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+w,n/2-150+p]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),b.settings.onSelect=c,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),
this._showDatepicker(this._dialogInput[0]),d.blockUI&&d.blockUI(this.dpDiv),d.data(this._dialogInput[0],"datepicker",b),this},_destroyDatepicker:function(b){var a,c=d(b),f=d.data(b,"datepicker");c.hasClass(this.markerClassName)&&(a=b.nodeName.toLowerCase(),d.removeData(b,"datepicker"),"input"===a?(f.append.remove(),f.trigger.remove(),c.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):
("div"===a||"span"===a)&&c.removeClass(this.markerClassName).empty())},_enableDatepicker:function(b){var a,c,f=d(b),e=d.data(b,"datepicker");f.hasClass(this.markerClassName)&&(a=b.nodeName.toLowerCase(),"input"===a?(b.disabled=!1,e.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===a||"span"===a)&&(c=f.children("."+this._inlineClass),c.children().removeClass("ui-state-disabled"),c.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!1)),this._disabledInputs=d.map(this._disabledInputs,function(a){return a===b?null:a}))},_disableDatepicker:function(b){var a,c,f=d(b),e=d.data(b,"datepicker");f.hasClass(this.markerClassName)&&(a=b.nodeName.toLowerCase(),"input"===a?(b.disabled=!0,e.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===a||"span"===a)&&(c=f.children("."+this._inlineClass),c.children().addClass("ui-state-disabled"),c.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!0)),this._disabledInputs=d.map(this._disabledInputs,function(a){return a===b?null:a}),this._disabledInputs[this._disabledInputs.length]=b)},_isDisabledDatepicker:function(b){if(!b)return!1;for(var a=0;this._disabledInputs.length>a;a++)if(this._disabledInputs[a]===b)return!0;return!1},_getInst:function(b){try{return d.data(b,"datepicker")}catch(a){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(b,a,c){var f,e,h,r,n=this._getInst(b);return 2===arguments.length&&"string"==
typeof a?"defaults"===a?d.extend({},d.datepicker._defaults):n?"all"===a?d.extend({},n.settings):this._get(n,a):null:(f=a||{},"string"==typeof a&&(f={},f[a]=c),n&&(this._curInst===n&&this._hideDatepicker(),e=this._getDateDatepicker(b,!0),h=this._getMinMaxDate(n,"min"),r=this._getMinMaxDate(n,"max"),q(n.settings,f),null!==h&&f.dateFormat!==g&&f.minDate===g&&(n.settings.minDate=this._formatDate(n,h)),null!==r&&f.dateFormat!==g&&f.maxDate===g&&(n.settings.maxDate=this._formatDate(n,r)),"disabled"in f&&
(f.disabled?this._disableDatepicker(b):this._enableDatepicker(b)),this._attachments(d(b),n),this._autoSize(n),this._setDate(n,e),this._updateAlternate(n),this._updateDatepicker(n)),g)},_changeDatepicker:function(b,a,c){this._optionDatepicker(b,a,c)},_refreshDatepicker:function(b){(b=this._getInst(b))&&this._updateDatepicker(b)},_setDateDatepicker:function(b,a){var c=this._getInst(b);c&&(this._setDate(c,a),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(b,a){var c=
this._getInst(b);return c&&!c.inline&&this._setDateFromField(c,a),c?this._getDate(c):null},_doKeyDown:function(b){var a,c,f,e=d.datepicker._getInst(b.target),g=!0,h=e.dpDiv.is(".ui-datepicker-rtl");if(e._keyEvent=!0,d.datepicker._datepickerShowing)switch(b.keyCode){case 9:d.datepicker._hideDatepicker();g=!1;break;case 13:return f=d("td."+d.datepicker._dayOverClass+":not(."+d.datepicker._currentClass+")",e.dpDiv),f[0]&&d.datepicker._selectDay(b.target,e.selectedMonth,e.selectedYear,f[0]),a=d.datepicker._get(e,
"onSelect"),a?(c=d.datepicker._formatDate(e),a.apply(e.input?e.input[0]:null,[c,e])):d.datepicker._hideDatepicker(),!1;case 27:d.datepicker._hideDatepicker();break;case 33:d.datepicker._adjustDate(b.target,b.ctrlKey?-d.datepicker._get(e,"stepBigMonths"):-d.datepicker._get(e,"stepMonths"),"M");break;case 34:d.datepicker._adjustDate(b.target,b.ctrlKey?+d.datepicker._get(e,"stepBigMonths"):+d.datepicker._get(e,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&d.datepicker._clearDate(b.target);
g=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&d.datepicker._gotoToday(b.target);g=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&d.datepicker._adjustDate(b.target,h?1:-1,"D");g=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&d.datepicker._adjustDate(b.target,b.ctrlKey?-d.datepicker._get(e,"stepBigMonths"):-d.datepicker._get(e,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&d.datepicker._adjustDate(b.target,-7,"D");g=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&
d.datepicker._adjustDate(b.target,h?-1:1,"D");g=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&d.datepicker._adjustDate(b.target,b.ctrlKey?+d.datepicker._get(e,"stepBigMonths"):+d.datepicker._get(e,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&d.datepicker._adjustDate(b.target,7,"D");g=b.ctrlKey||b.metaKey;break;default:g=!1}else 36===b.keyCode&&b.ctrlKey?d.datepicker._showDatepicker(this):g=!1;g&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(b){var a,c,f=d.datepicker._getInst(b.target);
return d.datepicker._get(f,"constrainInput")?(a=d.datepicker._possibleChars(d.datepicker._get(f,"dateFormat")),c=String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),b.ctrlKey||b.metaKey||" ">c||!a||-1<a.indexOf(c)):g},_doKeyUp:function(b){var a;b=d.datepicker._getInst(b.target);if(b.input.val()!==b.lastVal)try{(a=d.datepicker.parseDate(d.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,d.datepicker._getFormatConfig(b)))&&(d.datepicker._setDateFromField(b),d.datepicker._updateAlternate(b),
d.datepicker._updateDatepicker(b))}catch(c){}return!0},_showDatepicker:function(b){if(b=b.target||b,"input"!==b.nodeName.toLowerCase()&&(b=d("input",b.parentNode)[0]),!d.datepicker._isDisabledDatepicker(b)&&d.datepicker._lastInput!==b){var a,c,f,e,g,h;a=d.datepicker._getInst(b);d.datepicker._curInst&&d.datepicker._curInst!==a&&(d.datepicker._curInst.dpDiv.stop(!0,!0),a&&d.datepicker._datepickerShowing&&d.datepicker._hideDatepicker(d.datepicker._curInst.input[0]));c=(c=d.datepicker._get(a,"beforeShow"))?
c.apply(b,[b,a]):{};!1!==c&&(q(a.settings,c),a.lastVal=null,d.datepicker._lastInput=b,d.datepicker._setDateFromField(a),d.datepicker._inDialog&&(b.value=""),d.datepicker._pos||(d.datepicker._pos=d.datepicker._findPos(b),d.datepicker._pos[1]+=b.offsetHeight),f=!1,d(b).parents().each(function(){return f|="fixed"===d(this).css("position"),!f}),e={left:d.datepicker._pos[0],top:d.datepicker._pos[1]},d.datepicker._pos=null,a.dpDiv.empty(),a.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),
d.datepicker._updateDatepicker(a),e=d.datepicker._checkOffset(a,e,f),a.dpDiv.css({position:d.datepicker._inDialog&&d.blockUI?"static":f?"fixed":"absolute",display:"none",left:e.left+"px",top:e.top+"px"}),a.inline||(g=d.datepicker._get(a,"showAnim"),h=d.datepicker._get(a,"duration"),a.dpDiv.zIndex(d(b).zIndex()+1),d.datepicker._datepickerShowing=!0,d.effects&&d.effects.effect[g]?a.dpDiv.show(g,d.datepicker._get(a,"showOptions"),h):a.dpDiv[g||"show"](g?h:null),d.datepicker._shouldFocusInput(a)&&a.input.focus(),
d.datepicker._curInst=a))}},_updateDatepicker:function(b){this.maxRows=4;e=b;b.dpDiv.empty().append(this._generateHTML(b));this._attachHandlers(b);b.dpDiv.find("."+this._dayOverClass+" a").mouseover();var a,c=this._getNumberOfMonths(b),f=c[1];b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<f&&b.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",17*f+"em");b.dpDiv[(1!==c[0]||1!==c[1]?"add":"remove")+"Class"]("ui-datepicker-multi");b.dpDiv[(this._get(b,
"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");b===d.datepicker._curInst&&d.datepicker._datepickerShowing&&d.datepicker._shouldFocusInput(b)&&b.input.focus();b.yearshtml&&(a=b.yearshtml,setTimeout(function(){a===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml);a=b.yearshtml=null},0))},_shouldFocusInput:function(b){return b.input&&b.input.is(":visible")&&!b.input.is(":disabled")&&!b.input.is(":focus")},_checkOffset:function(b,a,c){var f=b.dpDiv.outerWidth(),
e=b.dpDiv.outerHeight(),g=b.input?b.input.outerWidth():0,h=b.input?b.input.outerHeight():0,n=document.documentElement.clientWidth+(c?0:d(document).scrollLeft()),w=document.documentElement.clientHeight+(c?0:d(document).scrollTop());return a.left-=this._get(b,"isRTL")?f-g:0,a.left-=c&&a.left===b.input.offset().left?d(document).scrollLeft():0,a.top-=c&&a.top===b.input.offset().top+h?d(document).scrollTop():0,a.left-=Math.min(a.left,a.left+f>n&&n>f?Math.abs(a.left+f-n):0),a.top-=Math.min(a.top,a.top+
e>w&&w>e?Math.abs(e+h):0),a},_findPos:function(b){for(var a,c=this._getInst(b),c=this._get(c,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||d.expr.filters.hidden(b));)b=b[c?"previousSibling":"nextSibling"];return a=d(b).offset(),[a.left,a.top]},_hideDatepicker:function(b){var a,c,f,e,g=this._curInst;!g||b&&g!==d.data(b,"datepicker")||this._datepickerShowing&&(a=this._get(g,"showAnim"),c=this._get(g,"duration"),f=function(){d.datepicker._tidyDialog(g)},d.effects&&(d.effects.effect[a]||d.effects[a])?
g.dpDiv.hide(a,d.datepicker._get(g,"showOptions"),c,f):g.dpDiv["slideDown"===a?"slideUp":"fadeIn"===a?"fadeOut":"hide"](a?c:null,f),a||f(),this._datepickerShowing=!1,e=this._get(g,"onClose"),e&&e.apply(g.input?g.input[0]:null,[g.input?g.input.val():"",g]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),d.blockUI&&(d.unblockUI(),d("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(b){b.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},
_checkExternalClick:function(b){if(d.datepicker._curInst){b=d(b.target);var a=d.datepicker._getInst(b[0]);(!(b[0].id===d.datepicker._mainDivId||0!==b.parents("#"+d.datepicker._mainDivId).length||b.hasClass(d.datepicker.markerClassName)||b.closest("."+d.datepicker._triggerClass).length||!d.datepicker._datepickerShowing||d.datepicker._inDialog&&d.blockUI)||b.hasClass(d.datepicker.markerClassName)&&d.datepicker._curInst!==a)&&d.datepicker._hideDatepicker()}},_adjustDate:function(b,a,c){b=d(b);var f=
this._getInst(b[0]);this._isDisabledDatepicker(b[0])||(this._adjustInstDate(f,a+("M"===c?this._get(f,"showCurrentAtPos"):0),c),this._updateDatepicker(f))},_gotoToday:function(b){var a;b=d(b);var c=this._getInst(b[0]);this._get(c,"gotoCurrent")&&c.currentDay?(c.selectedDay=c.currentDay,c.drawMonth=c.selectedMonth=c.currentMonth,c.drawYear=c.selectedYear=c.currentYear):(a=new Date,c.selectedDay=a.getDate(),c.drawMonth=c.selectedMonth=a.getMonth(),c.drawYear=c.selectedYear=a.getFullYear());this._notifyChange(c);
this._adjustDate(b)},_selectMonthYear:function(b,a,c){b=d(b);var f=this._getInst(b[0]);f["selected"+("M"===c?"Month":"Year")]=f["draw"+("M"===c?"Month":"Year")]=parseInt(a.options[a.selectedIndex].value,10);this._notifyChange(f);this._adjustDate(b)},_selectDay:function(b,a,c,f){var e,g=d(b);d(f).hasClass(this._unselectableClass)||this._isDisabledDatepicker(g[0])||(e=this._getInst(g[0]),e.selectedDay=e.currentDay=d("a",f).html(),e.selectedMonth=e.currentMonth=a,e.selectedYear=e.currentYear=c,this._selectDate(b,
this._formatDate(e,e.currentDay,e.currentMonth,e.currentYear)))},_clearDate:function(b){b=d(b);this._selectDate(b,"")},_selectDate:function(b,a){var c;c=d(b);var f=this._getInst(c[0]);a=null!=a?a:this._formatDate(f);f.input&&f.input.val(a);this._updateAlternate(f);(c=this._get(f,"onSelect"))?c.apply(f.input?f.input[0]:null,[a,f]):f.input&&f.input.trigger("change");f.inline?this._updateDatepicker(f):(this._hideDatepicker(),this._lastInput=f.input[0],"object"!=typeof f.input[0]&&f.input.focus(),this._lastInput=
null)},_updateAlternate:function(b){var a,c,f,e=this._get(b,"altField");e&&(a=this._get(b,"altFormat")||this._get(b,"dateFormat"),c=this._getDate(b),f=this.formatDate(a,c,this._getFormatConfig(b)),d(e).each(function(){d(this).val(f)}))},noWeekends:function(b){b=b.getDay();return[0<b&&6>b,""]},iso8601Week:function(b){var a;b=new Date(b.getTime());return b.setDate(b.getDate()+4-(b.getDay()||7)),a=b.getTime(),b.setMonth(0),b.setDate(1),Math.floor(Math.round((a-b)/864E5)/7)+1},parseDate:function(b,a,
c){if(null==b||null==a)throw"Invalid arguments";if(a="object"==typeof a?""+a:a+"",""===a)return null;var f,e,h,r,n=0,w=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff,w="string"!=typeof w?w:(new Date).getFullYear()%100+parseInt(w,10),p=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,l=(c?c.dayNames:null)||this._defaults.dayNames,x=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort;c=(c?c.monthNames:null)||this._defaults.monthNames;var k=-1,z=-1,A=-1,u=-1,y=!1,q=function(a){a=
b.length>f+1&&b.charAt(f+1)===a;return a&&f++,a},D=function(c){var b=q(c);c=RegExp("^\\d{1,"+("@"===c?14:"!"===c?20:"y"===c&&b?4:"o"===c?3:2)+"}");c=a.substring(n).match(c);if(!c)throw"Missing number at position "+n;return n+=c[0].length,parseInt(c[0],10)},B=function(c,b,f){var e=-1;c=d.map(q(c)?f:b,function(a,c){return[[c,a]]}).sort(function(a,c){return-(a[1].length-c[1].length)});if(d.each(c,function(c,b){var f=b[1];return a.substr(n,f.length).toLowerCase()===f.toLowerCase()?(e=b[0],n+=f.length,
!1):g}),-1!==e)return e+1;throw"Unknown name at position "+n;},G=function(){if(a.charAt(n)!==b.charAt(f))throw"Unexpected literal at position "+n;n++};for(f=0;b.length>f;f++)if(y)"'"!==b.charAt(f)||q("'")?G():y=!1;else switch(b.charAt(f)){case "d":A=D("d");break;case "D":B("D",p,l);break;case "o":u=D("o");break;case "m":z=D("m");break;case "M":z=B("M",x,c);break;case "y":k=D("y");break;case "@":r=new Date(D("@"));k=r.getFullYear();z=r.getMonth()+1;A=r.getDate();break;case "!":r=new Date((D("!")-this._ticksTo1970)/
1E4);k=r.getFullYear();z=r.getMonth()+1;A=r.getDate();break;case "'":q("'")?G():y=!0;break;default:G()}if(a.length>n&&(h=a.substr(n),!/^\s+/.test(h)))throw"Extra/unparsed characters found in date: "+h;if(-1===k?k=(new Date).getFullYear():100>k&&(k+=(new Date).getFullYear()-(new Date).getFullYear()%100+(w>=k?0:-100)),-1<u)for(z=1,A=u;!(e=this._getDaysInMonth(k,z-1),e>=A);)z++,A-=e;if(r=this._daylightSavingAdjust(new Date(k,z-1,A)),r.getFullYear()!==k||r.getMonth()+1!==z||r.getDate()!==A)throw"Invalid date";
return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(b,a,c){if(!a)return"";var f,e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,d=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort;
c=(c?c.monthNames:null)||this._defaults.monthNames;var h=function(a){a=b.length>f+1&&b.charAt(f+1)===a;return a&&f++,a},w=function(a,c,b){c=""+c;if(h(a))for(;b>c.length;)c="0"+c;return c},p=function(a,c,b,f){return h(a)?f[c]:b[c]},l="",x=!1;if(a)for(f=0;b.length>f;f++)if(x)"'"!==b.charAt(f)||h("'")?l+=b.charAt(f):x=!1;else switch(b.charAt(f)){case "d":l+=w("d",a.getDate(),2);break;case "D":l+=p("D",a.getDay(),e,d);break;case "o":l+=w("o",Math.round(((new Date(a.getFullYear(),a.getMonth(),a.getDate())).getTime()-
(new Date(a.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":l+=w("m",a.getMonth()+1,2);break;case "M":l+=p("M",a.getMonth(),g,c);break;case "y":l+=h("y")?a.getFullYear():(10>a.getYear()%100?"0":"")+a.getYear()%100;break;case "@":l+=a.getTime();break;case "!":l+=1E4*a.getTime()+this._ticksTo1970;break;case "'":h("'")?l+="'":x=!0;break;default:l+=b.charAt(f)}return l},_possibleChars:function(b){var a,c="",f=!1,e=function(c){c=b.length>a+1&&b.charAt(a+1)===c;return c&&a++,c};for(a=0;b.length>
a;a++)if(f)"'"!==b.charAt(a)||e("'")?c+=b.charAt(a):f=!1;else switch(b.charAt(a)){case "d":case "m":case "y":case "@":c+="0123456789";break;case "D":case "M":return null;case "'":e("'")?c+="'":f=!0;break;default:c+=b.charAt(a)}return c},_get:function(b,a){return b.settings[a]!==g?b.settings[a]:this._defaults[a]},_setDateFromField:function(b,a){if(b.input.val()!==b.lastVal){var c=this._get(b,"dateFormat"),f=b.lastVal=b.input?b.input.val():null,e=this._getDefaultDate(b),d=e,g=this._getFormatConfig(b);
try{d=this.parseDate(c,f,g)||e}catch(h){f=a?"":f}b.selectedDay=d.getDate();b.drawMonth=b.selectedMonth=d.getMonth();b.drawYear=b.selectedYear=d.getFullYear();b.currentDay=f?d.getDate():0;b.currentMonth=f?d.getMonth():0;b.currentYear=f?d.getFullYear():0;this._adjustInstDate(b)}},_getDefaultDate:function(b){return this._restrictMinMax(b,this._determineDate(b,this._get(b,"defaultDate"),new Date))},_determineDate:function(b,a,c){var f=function(a){var c=new Date;return c.setDate(c.getDate()+a),c},e=function(a){try{return d.datepicker.parseDate(d.datepicker._get(b,
"dateFormat"),a,d.datepicker._getFormatConfig(b))}catch(c){}for(var f=(a.toLowerCase().match(/^c/)?d.datepicker._getDate(b):null)||new Date,e=f.getFullYear(),g=f.getMonth(),f=f.getDate(),m=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=m.exec(a);l;){switch(l[2]||"d"){case "d":case "D":f+=parseInt(l[1],10);break;case "w":case "W":f+=7*parseInt(l[1],10);break;case "m":case "M":g+=parseInt(l[1],10);f=Math.min(f,d.datepicker._getDaysInMonth(e,g));break;case "y":case "Y":e+=parseInt(l[1],10),f=Math.min(f,d.datepicker._getDaysInMonth(e,
g))}l=m.exec(a)}return new Date(e,g,f)};a=null==a||""===a?c:"string"==typeof a?e(a):"number"==typeof a?isNaN(a)?c:f(a):new Date(a.getTime());return a=a&&"Invalid Date"==""+a?c:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(b){return b?(b.setHours(12<b.getHours()?b.getHours()+2:0),b):null},_setDate:function(b,a,c){var f=!a,e=b.selectedMonth,d=b.selectedYear;a=this._restrictMinMax(b,this._determineDate(b,a,new Date));
b.selectedDay=b.currentDay=a.getDate();b.drawMonth=b.selectedMonth=b.currentMonth=a.getMonth();b.drawYear=b.selectedYear=b.currentYear=a.getFullYear();e===b.selectedMonth&&d===b.selectedYear||c||this._notifyChange(b);this._adjustInstDate(b);b.input&&b.input.val(f?"":this._formatDate(b))},_getDate:function(b){return!b.currentYear||b.input&&""===b.input.val()?null:this._daylightSavingAdjust(new Date(b.currentYear,b.currentMonth,b.currentDay))},_attachHandlers:function(b){var a=this._get(b,"stepMonths"),
c="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){d(this).bind(this.getAttribute("data-event"),{prev:function(){d.datepicker._adjustDate(c,-a,"M")},next:function(){d.datepicker._adjustDate(c,+a,"M")},hide:function(){d.datepicker._hideDatepicker()},today:function(){d.datepicker._gotoToday(c)},selectDay:function(){return d.datepicker._selectDay(c,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return d.datepicker._selectMonthYear(c,
this,"M"),!1},selectYear:function(){return d.datepicker._selectMonthYear(c,this,"Y"),!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(b){var a,c,f,e,d,g,h,w,p,l,x,k,z,A,u,y,q,D,B,G,F,I,O,N,R,P,K,S=new Date,S=this._daylightSavingAdjust(new Date(S.getFullYear(),S.getMonth(),S.getDate())),M=this._get(b,"isRTL");g=this._get(b,"showButtonPanel");f=this._get(b,"hideIfNoPrevNext");d=this._get(b,"navigationAsDateFormat");var C=this._getNumberOfMonths(b),H=this._get(b,"showCurrentAtPos");
e=this._get(b,"stepMonths");var T=1!==C[0]||1!==C[1],V=this._daylightSavingAdjust(b.currentDay?new Date(b.currentYear,b.currentMonth,b.currentDay):new Date(9999,9,9)),W=this._getMinMaxDate(b,"min"),Y=this._getMinMaxDate(b,"max"),H=b.drawMonth-H,U=b.drawYear;if(0>H&&(H+=12,U--),Y)for(a=this._daylightSavingAdjust(new Date(Y.getFullYear(),Y.getMonth()-C[0]*C[1]+1,Y.getDate())),a=W&&W>a?W:a;this._daylightSavingAdjust(new Date(U,H,1))>a;)H--,0>H&&(H=11,U--);b.drawMonth=H;b.drawYear=U;a=this._get(b,"prevText");
a=d?this.formatDate(a,this._daylightSavingAdjust(new Date(U,H-e,1)),this._getFormatConfig(b)):a;a=this._canAdjustMonth(b,-1,U,H)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(M?"e":"w")+"'>"+a+"</span></a>":f?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(M?"e":"w")+"'>"+a+"</span></a>";c=this._get(b,"nextText");c=d?this.formatDate(c,
this._daylightSavingAdjust(new Date(U,H+e,1)),this._getFormatConfig(b)):c;f=this._canAdjustMonth(b,1,U,H)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(M?"w":"e")+"'>"+c+"</span></a>":f?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(M?"w":"e")+"'>"+c+"</span></a>";e=this._get(b,"currentText");c=this._get(b,"gotoCurrent")&&
b.currentDay?V:S;e=d?this.formatDate(e,c,this._getFormatConfig(b)):e;d=b.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(b,"closeText")+"</button>";g=g?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(M?d:"")+(this._isInRange(b,c)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+
e+"</button>":"")+(M?"":d)+"</div>":"";d=parseInt(this._get(b,"firstDay"),10);d=isNaN(d)?0:d;e=this._get(b,"showWeek");c=this._get(b,"dayNames");h=this._get(b,"dayNamesMin");w=this._get(b,"monthNames");p=this._get(b,"monthNamesShort");l=this._get(b,"beforeShowDay");x=this._get(b,"showOtherMonths");k=this._get(b,"selectOtherMonths");z=this._getDefaultDate(b);A="";for(y=0;C[0]>y;y++){q="";this.maxRows=4;for(D=0;C[1]>D;D++){if(B=this._daylightSavingAdjust(new Date(U,H,b.selectedDay)),u=" ui-corner-all",
G="",T){if(G+="<div class='ui-datepicker-group",1<C[1])switch(D){case 0:G+=" ui-datepicker-group-first";u=" ui-corner-"+(M?"right":"left");break;case C[1]-1:G+=" ui-datepicker-group-last";u=" ui-corner-"+(M?"left":"right");break;default:G+=" ui-datepicker-group-middle",u=""}G+="'>"}G+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+u+"'>"+(/all|left/.test(u)&&0===y?M?f:a:"")+(/all|right/.test(u)&&0===y?M?a:f:"")+this._generateMonthYearHeader(b,H,U,W,Y,0<y||0<D,w,p)+"</div><table class='ui-datepicker-calendar'><thead><tr>";
F=e?"<th class='ui-datepicker-week-col'>"+this._get(b,"weekHeader")+"</th>":"";for(u=0;7>u;u++)I=(u+d)%7,F+="<th"+(5<=(u+d+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+c[I]+"'>"+h[I]+"</span></th>";G+=F+"</tr></thead><tbody>";F=this._getDaysInMonth(U,H);U===b.selectedYear&&H===b.selectedMonth&&(b.selectedDay=Math.min(b.selectedDay,F));u=(this._getFirstDayOfMonth(U,H)-d+7)%7;F=Math.ceil((u+F)/7);this.maxRows=F=T?this.maxRows>F?this.maxRows:F:F;I=this._daylightSavingAdjust(new Date(U,
H,1-u));for(O=0;F>O;O++){G+="<tr>";N=e?"<td class='ui-datepicker-week-col'>"+this._get(b,"calculateWeek")(I)+"</td>":"";for(u=0;7>u;u++)R=l?l.apply(b.input?b.input[0]:null,[I]):[!0,""],K=(P=I.getMonth()!==H)&&!k||!R[0]||W&&W>I||Y&&I>Y,N+="<td class='"+(5<=(u+d+6)%7?" ui-datepicker-week-end":"")+(P?" ui-datepicker-other-month":"")+(I.getTime()===B.getTime()&&H===b.selectedMonth&&b._keyEvent||z.getTime()===I.getTime()&&z.getTime()===B.getTime()?" "+this._dayOverClass:"")+(K?" "+this._unselectableClass+
" ui-state-disabled":"")+(P&&!x?"":" "+R[1]+(I.getTime()===V.getTime()?" "+this._currentClass:"")+(I.getTime()===S.getTime()?" ui-datepicker-today":""))+"'"+(P&&!x||!R[2]?"":" title='"+R[2].replace(/'/g,"&#39;")+"'")+(K?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(P&&!x?"&#xa0;":K?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===S.getTime()?" ui-state-highlight":"")+(I.getTime()===
V.getTime()?" ui-state-active":"")+(P?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);G+=N+"</tr>"}H++;11<H&&(H=0,U++);G+="</tbody></table>"+(T?"</div>"+(0<C[0]&&D===C[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");q+=G}A+=q}return A+=g,b._keyEvent=!1,A},_generateMonthYearHeader:function(b,a,c,f,e,d,g,h){var w,p,l,x=this._get(b,"changeMonth"),k=this._get(b,"changeYear"),z=this._get(b,"showMonthAfterYear"),
A="<div class='ui-datepicker-title'>",u="";if(d||!x)u+="<span class='ui-datepicker-month'>"+g[a]+"</span>";else{g=f&&f.getFullYear()===c;w=e&&e.getFullYear()===c;u+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(p=0;12>p;p++)(!g||p>=f.getMonth())&&(!w||e.getMonth()>=p)&&(u+="<option value='"+p+"'"+(p===a?" selected='selected'":"")+">"+h[p]+"</option>");u+="</select>"}if(z||(A+=u+(!d&&x&&k?"":"&#xa0;")),!b.yearshtml)if(b.yearshtml="",d||!k)A+="<span class='ui-datepicker-year'>"+
c+"</span>";else{h=this._get(b,"yearRange").split(":");l=(new Date).getFullYear();g=function(a){a=a.match(/c[+\-].*/)?c+parseInt(a.substring(1),10):a.match(/[+\-].*/)?l+parseInt(a,10):parseInt(a,10);return isNaN(a)?l:a};a=g(h[0]);h=Math.max(a,g(h[1]||""));a=f?Math.max(a,f.getFullYear()):a;h=e?Math.min(h,e.getFullYear()):h;for(b.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";h>=a;a++)b.yearshtml+="<option value='"+a+"'"+(a===c?" selected='selected'":
"")+">"+a+"</option>";b.yearshtml+="</select>";A+=b.yearshtml;b.yearshtml=null}return A+=this._get(b,"yearSuffix"),z&&(A+=(!d&&x&&k?"":"&#xa0;")+u),A+="</div>"},_adjustInstDate:function(b,a,c){var f=b.drawYear+("Y"===c?a:0),e=b.drawMonth+("M"===c?a:0);a=Math.min(b.selectedDay,this._getDaysInMonth(f,e))+("D"===c?a:0);f=this._restrictMinMax(b,this._daylightSavingAdjust(new Date(f,e,a)));b.selectedDay=f.getDate();b.drawMonth=b.selectedMonth=f.getMonth();b.drawYear=b.selectedYear=f.getFullYear();"M"!==
c&&"Y"!==c||this._notifyChange(b)},_restrictMinMax:function(b,a){var c=this._getMinMaxDate(b,"min"),f=this._getMinMaxDate(b,"max"),c=c&&c>a?c:a;return f&&c>f?f:c},_notifyChange:function(b){var a=this._get(b,"onChangeMonthYear");a&&a.apply(b.input?b.input[0]:null,[b.selectedYear,b.selectedMonth+1,b])},_getNumberOfMonths:function(b){b=this._get(b,"numberOfMonths");return null==b?[1,1]:"number"==typeof b?[1,b]:b},_getMinMaxDate:function(b,a){return this._determineDate(b,this._get(b,a+"Date"),null)},
_getDaysInMonth:function(b,a){return 32-this._daylightSavingAdjust(new Date(b,a,32)).getDate()},_getFirstDayOfMonth:function(b,a){return(new Date(b,a,1)).getDay()},_canAdjustMonth:function(b,a,c,f){var e=this._getNumberOfMonths(b);c=this._daylightSavingAdjust(new Date(c,f+(0>a?a:e[0]*e[1]),1));return 0>a&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth())),this._isInRange(b,c)},_isInRange:function(b,a){var c,f,e=this._getMinMaxDate(b,"min"),d=this._getMinMaxDate(b,"max"),g=null,h=null,w=
this._get(b,"yearRange");return w&&(c=w.split(":"),f=(new Date).getFullYear(),g=parseInt(c[0],10),h=parseInt(c[1],10),c[0].match(/[+\-].*/)&&(g+=f),c[1].match(/[+\-].*/)&&(h+=f)),(!e||a.getTime()>=e.getTime())&&(!d||a.getTime()<=d.getTime())&&(!g||a.getFullYear()>=g)&&(!h||h>=a.getFullYear())},_getFormatConfig:function(b){var a=this._get(b,"shortYearCutoff");return a="string"!=typeof a?a:(new Date).getFullYear()%100+parseInt(a,10),{shortYearCutoff:a,dayNamesShort:this._get(b,"dayNamesShort"),dayNames:this._get(b,
"dayNames"),monthNamesShort:this._get(b,"monthNamesShort"),monthNames:this._get(b,"monthNames")}},_formatDate:function(b,a,c,f){a||(b.currentDay=b.selectedDay,b.currentMonth=b.selectedMonth,b.currentYear=b.selectedYear);a=a?"object"==typeof a?a:this._daylightSavingAdjust(new Date(f,c,a)):this._daylightSavingAdjust(new Date(b.currentYear,b.currentMonth,b.currentDay));return this.formatDate(this._get(b,"dateFormat"),a,this._getFormatConfig(b))}});d.fn.datepicker=function(b){if(!this.length)return this;
d.datepicker.initialized||(d(document).mousedown(d.datepicker._checkExternalClick),d.datepicker.initialized=!0);0===d("#"+d.datepicker._mainDivId).length&&d("body").append(d.datepicker.dpDiv);var a=Array.prototype.slice.call(arguments,1);return"string"!=typeof b||"isDisabled"!==b&&"getDate"!==b&&"widget"!==b?"option"===b&&2===arguments.length&&"string"==typeof arguments[1]?d.datepicker["_"+b+"Datepicker"].apply(d.datepicker,[this[0]].concat(a)):this.each(function(){"string"==typeof b?d.datepicker["_"+
b+"Datepicker"].apply(d.datepicker,[this].concat(a)):d.datepicker._attachDatepicker(this,b)}):d.datepicker["_"+b+"Datepicker"].apply(d.datepicker,[this[0]].concat(a))};d.datepicker=new k;d.datepicker.initialized=!1;d.datepicker.uuid=(new Date).getTime();d.datepicker.version="1.10.3"})(jQuery);
(function(d){var g={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},k={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};d.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(g){var k=d(this).css(g).offset().top;
0>k&&d(this).css("top",g.top-k)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};
this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();this.options.draggable&&d.fn.draggable&&this._makeDraggable();this.options.resizable&&d.fn.resizable&&this._makeResizable();this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var g=
this.options.appendTo;return g&&(g.jquery||g.nodeType)?d(g):this.document.find(g||"body").eq(0)},_destroy:function(){var d,g=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(!0,!0).remove();this.originalTitle&&this.element.attr("title",this.originalTitle);d=g.parent.children().eq(g.index);d.length&&d[0]!==this.element[0]?d.before(this.element):g.parent.append(this.element)},
widget:function(){return this.uiDialog},disable:d.noop,enable:d.noop,close:function(g){var k=this;this._isOpen&&!1!==this._trigger("beforeClose",g)&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||d(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){k._trigger("close",g)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(d,g){var e=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;
return e&&!g&&this._trigger("focus",d),e},open:function(){var g=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=d(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){g._focusTabbable();g._trigger("focus")}),this._trigger("open"),void 0)},_focusTabbable:function(){var d=this.element.find("[autofocus]");d.length||(d=this.element.find(":tabbable"));
d.length||(d=this.uiDialogButtonPane.find(":tabbable"));d.length||(d=this.uiDialogTitlebarClose.filter(":tabbable"));d.length||(d=this.uiDialog);d.eq(0).focus()},_keepFocus:function(g){function k(){var e=this.document[0].activeElement;this.uiDialog[0]===e||d.contains(this.uiDialog[0],e)||this._focusTabbable()}g.preventDefault();k.call(this);this._delay(k)},_createWrapper:function(){this.uiDialog=d("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,
role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(g){if(this.options.closeOnEscape&&!g.isDefaultPrevented()&&g.keyCode&&g.keyCode===d.ui.keyCode.ESCAPE)return g.preventDefault(),this.close(g),void 0;if(g.keyCode===d.ui.keyCode.TAB){var k=this.uiDialog.find(":tabbable"),e=k.filter(":first"),k=k.filter(":last");g.target!==k[0]&&g.target!==this.uiDialog[0]||g.shiftKey?g.target!==e[0]&&g.target!==this.uiDialog[0]||!g.shiftKey||(k.focus(1),g.preventDefault()):(e.focus(1),
g.preventDefault())}},mousedown:function(d){this._moveToTop(d)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var g;this.uiDialogTitlebar=d("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(g){d(g.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}});
this.uiDialogTitlebarClose=d("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(d){d.preventDefault();this.close(d)}});g=d("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(g);this.uiDialog.attr({"aria-labelledby":g.attr("id")})},_title:function(d){this.options.title||d.html("&#160;");
d.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=d("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=d("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var g=this,k=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),d.isEmptyObject(k)||d.isArray(k)&&!k.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):
(d.each(k,function(e,b){var a,c;b=d.isFunction(b)?{click:b,text:e}:b;b=d.extend({type:"button"},b);a=b.click;b.click=function(){a.apply(g.element[0],arguments)};c={icons:b.icons,text:b.showText};delete b.icons;delete b.showText;d("<button></button>",b).button(c).appendTo(g.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function g(b){return{position:b.position,offset:b.offset}}var k=this,e=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",
handle:".ui-dialog-titlebar",containment:"document",start:function(b,a){d(this).addClass("ui-dialog-dragging");k._blockFrames();k._trigger("dragStart",b,g(a))},drag:function(b,a){k._trigger("drag",b,g(a))},stop:function(b,a){e.position=[a.position.left-k.document.scrollLeft(),a.position.top-k.document.scrollTop()];d(this).removeClass("ui-dialog-dragging");k._unblockFrames();k._trigger("dragStop",b,g(a))}})},_makeResizable:function(){function g(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,
position:a.position,size:a.size}}var k=this,e=this.options,b=e.resizable,a=this.uiDialog.css("position"),b="string"==typeof b?b:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:this._minHeight(),handles:b,start:function(a,b){d(this).addClass("ui-dialog-resizing");k._blockFrames();k._trigger("resizeStart",a,g(b))},resize:function(a,b){k._trigger("resize",
a,g(b))},stop:function(a,b){e.height=d(this).height();e.width=d(this).width();d(this).removeClass("ui-dialog-resizing");k._unblockFrames();k._trigger("resizeStop",a,g(b))}}).css("position",a)},_minHeight:function(){var d=this.options;return"auto"===d.height?d.minHeight:Math.min(d.minHeight,d.height)},_position:function(){var d=this.uiDialog.is(":visible");d||this.uiDialog.show();this.uiDialog.position(this.options.position);d||this.uiDialog.hide()},_setOptions:function(h){var q=this,e=!1,b={};d.each(h,
function(a,c){q._setOption(a,c);a in g&&(e=!0);a in k&&(b[a]=c)});e&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",b)},_setOption:function(d,g){var e,b,a=this.uiDialog;"dialogClass"===d&&a.removeClass(this.options.dialogClass).addClass(g);"disabled"!==d&&(this._super(d,g),"appendTo"===d&&this.uiDialog.appendTo(this._appendTo()),"buttons"===d&&this._createButtons(),"closeText"===d&&this.uiDialogTitlebarClose.button({label:""+g}),"draggable"===
d&&(e=a.is(":data(ui-draggable)"),e&&!g&&a.draggable("destroy"),!e&&g&&this._makeDraggable()),"position"===d&&this._position(),"resizable"===d&&(b=a.is(":data(ui-resizable)"),b&&!g&&a.resizable("destroy"),b&&"string"==typeof g&&a.resizable("option","handles",g),b||!1===g||this._makeResizable()),"title"===d&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var d,g,e,b=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});b.minWidth>
b.width&&(b.width=b.minWidth);d=this.uiDialog.css({height:"auto",width:b.width}).outerHeight();g=Math.max(0,b.minHeight-d);e="number"==typeof b.maxHeight?Math.max(0,b.maxHeight-d):"none";"auto"===b.height?this.element.css({minHeight:g,maxHeight:e,height:"auto"}):this.element.height(Math.max(0,b.height-d));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var g=
d(this);return d("<div>").css({position:"absolute",width:g.outerWidth(),height:g.outerHeight()}).appendTo(g.parent()).offset(g.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(g){return d(g.target).closest(".ui-dialog").length?!0:!!d(g.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var g=this,k=this.widgetFullName;d.ui.dialog.overlayInstances||this._delay(function(){d.ui.dialog.overlayInstances&&
this.document.bind("focusin.dialog",function(e){g._allowInteraction(e)||(e.preventDefault(),d(".ui-dialog:visible:last .ui-dialog-content").data(k)._focusTabbable())})});this.overlay=d("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});d.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(d.ui.dialog.overlayInstances--,d.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),
this.overlay.remove(),this.overlay=null)}});d.ui.dialog.overlayInstances=0;!1!==d.uiBackCompat&&d.widget("ui.dialog",d.ui.dialog,{_position:function(){var g,k=this.options.position,e=[],b=[0,0];k?(("string"==typeof k||"object"==typeof k&&"0"in k)&&(e=k.split?k.split(" "):[k[0],k[1]],1===e.length&&(e[1]=e[0]),d.each(["left","top"],function(a,c){+e[a]===e[a]&&(b[a]=e[a],e[a]=c)}),k={my:e[0]+(0>b[0]?b[0]:"+"+b[0])+" "+e[1]+(0>b[1]?b[1]:"+"+b[1]),at:e.join(" ")}),k=d.extend({},d.ui.dialog.prototype.options.position,
k)):k=d.ui.dialog.prototype.options.position;(g=this.uiDialog.is(":visible"))||this.uiDialog.show();this.uiDialog.position(k);g||this.uiDialog.hide()}})})(jQuery);
(function(d){d.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+
this.eventNamespace,d.proxy(function(d){this.options.disabled&&d.preventDefault()},this));this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item > a":function(d){d.preventDefault()},"click .ui-state-disabled > a":function(d){d.preventDefault()},"click .ui-menu-item:has(a)":function(g){var k=d(g.target).closest(".ui-menu-item");!this.mouseHandled&&k.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(g),k.has(".ui-menu").length?
this.expand(g):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(g){var k=d(g.currentTarget);k.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(g,k)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(d,k){var h=this.active||this.element.children(".ui-menu-item").eq(0);k||this.focus(d,h)},blur:function(g){this._delay(function(){d.contains(this.element[0],
this.document[0].activeElement)||this.collapseAll(g)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(g){d(g.target).closest(".ui-menu").length||this.collapseAll(g);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var g=d(this);g.data("ui-menu-submenu-carat")&&g.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(g){function k(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$&")}var h,q,e,b,a=!0;switch(g.keyCode){case d.ui.keyCode.PAGE_UP:this.previousPage(g);break;case d.ui.keyCode.PAGE_DOWN:this.nextPage(g);break;case d.ui.keyCode.HOME:this._move("first","first",g);break;case d.ui.keyCode.END:this._move("last","last",g);break;case d.ui.keyCode.UP:this.previous(g);break;case d.ui.keyCode.DOWN:this.next(g);break;case d.ui.keyCode.LEFT:this.collapse(g);break;case d.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(g);break;case d.ui.keyCode.ENTER:case d.ui.keyCode.SPACE:this._activate(g);
break;case d.ui.keyCode.ESCAPE:this.collapse(g);break;default:a=!1,h=this.previousFilter||"",q=String.fromCharCode(g.keyCode),e=!1,clearTimeout(this.filterTimer),q===h?e=!0:q=h+q,b=RegExp("^"+k(q),"i"),h=this.activeMenu.children(".ui-menu-item").filter(function(){return b.test(d(this).children("a").text())}),h=e&&-1!==h.index(this.active.next())?this.active.nextAll(".ui-menu-item"):h,h.length||(q=String.fromCharCode(g.keyCode),b=RegExp("^"+k(q),"i"),h=this.activeMenu.children(".ui-menu-item").filter(function(){return b.test(d(this).children("a").text())})),
h.length?(this.focus(g,h),1<h.length?(this.previousFilter=q,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter):delete this.previousFilter}a&&g.preventDefault()},_activate:function(d){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(d):this.select(d))},refresh:function(){var g,k=this.options.icons.submenu;g=this.element.find(this.options.menus);g.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,
"aria-hidden":"true","aria-expanded":"false"}).each(function(){var g=d(this),q=g.prev("a"),e=d("<span>").addClass("ui-menu-icon ui-icon "+k).data("ui-menu-submenu-carat",!0);q.attr("aria-haspopup","true").prepend(e);g.attr("aria-labelledby",q.attr("id"))});g=g.add(this.element);g.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});g.children(":not(.ui-menu-item)").each(function(){var g=
d(this);/[^\-\u2014\u2013\s]/.test(g.text())||g.addClass("ui-widget-content ui-menu-divider")});g.children(".ui-state-disabled").attr("aria-disabled","true");this.active&&!d.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(d,k){"icons"===d&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(k.submenu);this._super(d,k)},focus:function(d,k){var h;this.blur(d,d&&
"focus"===d.type);this._scrollIntoView(k);this.active=k.first();h=this.active.children("a").addClass("ui-state-focus");this.options.role&&this.element.attr("aria-activedescendant",h.attr("id"));this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");d&&"keydown"===d.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);h=k.children(".ui-menu");h.length&&/^mouse/.test(d.type)&&this._startOpening(h);this.activeMenu=k.parent();this._trigger("focus",
d,{item:k})},_scrollIntoView:function(g){var k,h,q,e,b,a;this._hasScroll()&&(k=parseFloat(d.css(this.activeMenu[0],"borderTopWidth"))||0,h=parseFloat(d.css(this.activeMenu[0],"paddingTop"))||0,q=g.offset().top-this.activeMenu.offset().top-k-h,e=this.activeMenu.scrollTop(),b=this.activeMenu.height(),a=g.height(),0>q?this.activeMenu.scrollTop(e+q):q+a>b&&this.activeMenu.scrollTop(e+q-b+a))},blur:function(d,k){k||clearTimeout(this.timer);this.active&&(this.active.children("a").removeClass("ui-state-focus"),
this.active=null,this._trigger("blur",d,{item:this.active}))},_startOpening:function(d){clearTimeout(this.timer);"true"===d.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(d)},this.delay))},_open:function(g){var k=d.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(g.parents(".ui-menu")).hide().attr("aria-hidden","true");g.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(k)},collapseAll:function(g,
k){clearTimeout(this.timer);this.timer=this._delay(function(){var h=k?this.element:d(g&&g.target).closest(this.element.find(".ui-menu"));h.length||(h=this.element);this._close(h);this.blur(g);this.activeMenu=h},this.delay)},_close:function(d){d||(d=this.active?this.active.parent():this.element);d.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(d){var k=this.active&&this.active.parent().closest(".ui-menu-item",
this.element);k&&k.length&&(this._close(),this.focus(d,k))},expand:function(d){var k=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();k&&k.length&&(this._open(k.parent()),this._delay(function(){this.focus(d,k)}))},next:function(d){this._move("next","first",d)},previous:function(d){this._move("prev","last",d)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},
_move:function(d,k,h){var q;this.active&&(q="first"===d||"last"===d?this.active["first"===d?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[d+"All"](".ui-menu-item").eq(0));q&&q.length&&this.active||(q=this.activeMenu.children(".ui-menu-item")[k]());this.focus(h,q)},nextPage:function(g){var k,h,q;return this.active?(this.isLastItem()||(this._hasScroll()?(h=this.active.offset().top,q=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return k=d(this),0>k.offset().top-
h-q}),this.focus(g,k)):this.focus(g,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),void 0):(this.next(g),void 0)},previousPage:function(g){var k,h,q;return this.active?(this.isFirstItem()||(this._hasScroll()?(h=this.active.offset().top,q=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return k=d(this),0<k.offset().top-h+q}),this.focus(g,k)):this.focus(g,this.activeMenu.children(".ui-menu-item").first())),void 0):(this.next(g),void 0)},_hasScroll:function(){return this.element.outerHeight()<
this.element.prop("scrollHeight")},select:function(g){this.active=this.active||d(g.target).closest(".ui-menu-item");var k={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(g,!0);this._trigger("select",g,k)}})})(jQuery);
(function(d,g){d.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=d("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
this.valueDiv.remove()},value:function(d){return d===g?this.options.value:(this.options.value=this._constrainedValue(d),this._refreshValue(),g)},_constrainedValue:function(d){return d===g&&(d=this.options.value),this.indeterminate=!1===d,"number"!=typeof d&&(d=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,d))},_setOptions:function(d){var g=d.value;delete d.value;this._super(d);this.options.value=this._constrainedValue(g);this._refreshValue()},_setOption:function(d,g){"max"===
d&&(g=Math.max(this.min,g));this._super(d,g)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var g=this.options.value,h=this._percentage();this.valueDiv.toggle(this.indeterminate||g>this.min).toggleClass("ui-corner-right",g===this.options.max).width(h.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||
(this.overlayDiv=d("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":g}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null));this.oldValue!==g&&(this.oldValue=g,this._trigger("change"));g===this.options.max&&this._trigger("complete")}})})(jQuery);
(function(d){d.widget("ui.slider",d.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();
this._setOption("disabled",this.options.disabled);this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var g,k;g=this.options;var h=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),q=[];k=g.values&&g.values.length||1;h.length>k&&(h.slice(k).remove(),h=h.slice(0,k));for(g=h.length;k>g;g++)q.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");
this.handles=h.add(d(q.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(e){d(this).data("ui-slider-handle-index",e)})},_createRange:function(){var g=this.options,k="";g.range?(!0===g.range&&(g.values?g.values.length&&2!==g.values.length?g.values=[g.values[0],g.values[0]]:d.isArray(g.values)&&(g.values=g.values.slice(0)):g.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",
bottom:""}):(this.range=d("<div></div>").appendTo(this.element),k="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(k+("min"===g.range||"max"===g.range?" ui-slider-range-"+g.range:""))):this.range=d([])},_setupEvents:function(){var d=this.handles.add(this.range).filter("a");this._off(d);this._on(d,this._handleEvents);this._hoverable(d);this._focusable(d)},_destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");
this._mouseDestroy()},_mouseCapture:function(g){var k,h,q,e,b,a,c,f,m=this,v=this.options;return v.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),k={x:g.pageX,y:g.pageY},h=this._normValueFromMouse(k),q=this._valueMax()-this._valueMin()+1,this.handles.each(function(a){var c=Math.abs(h-m.values(a));(q>c||q===c&&(a===m._lastChangedValue||m.values(a)===v.min))&&(q=c,e=d(this),b=a)}),a=this._start(g,b),!1===a?!1:
(this._mouseSliding=!0,this._handleIndex=b,e.addClass("ui-state-active").focus(),c=e.offset(),f=!d(g.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=f?{left:0,top:0}:{left:g.pageX-c.left-e.width()/2,top:g.pageY-c.top-e.height()/2-(parseInt(e.css("borderTopWidth"),10)||0)-(parseInt(e.css("borderBottomWidth"),10)||0)+(parseInt(e.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(g,b,h),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(d){var k=
this._normValueFromMouse({x:d.pageX,y:d.pageY});return this._slide(d,this._handleIndex,k),!1},_mouseStop:function(d){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(d,this._handleIndex),this._change(d,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(d){var k,h,q,e,b;return"horizontal"===
this.orientation?(k=this.elementSize.width,h=d.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(k=this.elementSize.height,h=d.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),q=h/k,1<q&&(q=1),0>q&&(q=0),"vertical"===this.orientation&&(q=1-q),e=this._valueMax()-this._valueMin(),b=this._valueMin()+q*e,this._trimAlignValue(b)},_start:function(d,k){var h={handle:this.handles[k],value:this.value()};return this.options.values&&this.options.values.length&&(h.value=
this.values(k),h.values=this.values()),this._trigger("start",d,h)},_slide:function(d,k,h){var q,e,b;this.options.values&&this.options.values.length?(q=this.values(k?0:1),2===this.options.values.length&&!0===this.options.range&&(0===k&&h>q||1===k&&q>h)&&(h=q),h!==this.values(k)&&(e=this.values(),e[k]=h,b=this._trigger("slide",d,{handle:this.handles[k],value:h,values:e}),this.values(k?0:1),!1!==b&&this.values(k,h,!0))):h!==this.value()&&(b=this._trigger("slide",d,{handle:this.handles[k],value:h}),!1!==
b&&this.value(h))},_stop:function(d,k){var h={handle:this.handles[k],value:this.value()};this.options.values&&this.options.values.length&&(h.value=this.values(k),h.values=this.values());this._trigger("stop",d,h)},_change:function(d,k){if(!this._keySliding&&!this._mouseSliding){var h={handle:this.handles[k],value:this.value()};this.options.values&&this.options.values.length&&(h.value=this.values(k),h.values=this.values());this._lastChangedValue=k;this._trigger("change",d,h)}},value:function(d){return arguments.length?
(this.options.value=this._trimAlignValue(d),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(g,k){var h,q,e;if(1<arguments.length)return this.options.values[g]=this._trimAlignValue(k),this._refreshValue(),this._change(null,g),void 0;if(!arguments.length)return this._values();if(!d.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(g):this.value();h=this.options.values;q=arguments[0];for(e=0;h.length>e;e+=1)h[e]=this._trimAlignValue(q[e]),
this._change(null,e);this._refreshValue()},_setOption:function(g,k){var h,q=0;switch("range"===g&&!0===this.options.range&&("min"===k?(this.options.value=this._values(0),this.options.values=null):"max"===k&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),d.isArray(this.options.values)&&(q=this.options.values.length),d.Widget.prototype._setOption.apply(this,arguments),g){case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+
this.orientation);this._refreshValue();break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(h=0;q>h;h+=1)this._change(null,h);this._animateOff=!1;break;case "min":case "max":this._animateOff=!0;this._refreshValue();this._animateOff=!1;break;case "range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){return this._trimAlignValue(this.options.value)},_values:function(d){var k,
h;if(arguments.length)return k=this.options.values[d],this._trimAlignValue(k);if(this.options.values&&this.options.values.length){k=this.options.values.slice();for(h=0;k.length>h;h+=1)k[h]=this._trimAlignValue(k[h]);return k}return[]},_trimAlignValue:function(d){if(this._valueMin()>=d)return this._valueMin();if(d>=this._valueMax())return this._valueMax();var k=0<this.options.step?this.options.step:1,h=(d-this._valueMin())%k;d-=h;return 2*Math.abs(h)>=k&&(d+=0<h?k:-k),parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},
_valueMax:function(){return this.options.max},_refreshValue:function(){var g,k,h,q,e,b=this.options.range,a=this.options,c=this,f=this._animateOff?!1:a.animate,m={};this.options.values&&this.options.values.length?this.handles.each(function(b){k=100*((c.values(b)-c._valueMin())/(c._valueMax()-c._valueMin()));m["horizontal"===c.orientation?"left":"bottom"]=k+"%";d(this).stop(1,1)[f?"animate":"css"](m,a.animate);!0===c.options.range&&("horizontal"===c.orientation?(0===b&&c.range.stop(1,1)[f?"animate":
"css"]({left:k+"%"},a.animate),1===b&&c.range[f?"animate":"css"]({width:k-g+"%"},{queue:!1,duration:a.animate})):(0===b&&c.range.stop(1,1)[f?"animate":"css"]({bottom:k+"%"},a.animate),1===b&&c.range[f?"animate":"css"]({height:k-g+"%"},{queue:!1,duration:a.animate})));g=k}):(h=this.value(),q=this._valueMin(),e=this._valueMax(),k=e!==q?(h-q)/(e-q)*100:0,m["horizontal"===this.orientation?"left":"bottom"]=k+"%",this.handle.stop(1,1)[f?"animate":"css"](m,a.animate),"min"===b&&"horizontal"===this.orientation&&
this.range.stop(1,1)[f?"animate":"css"]({width:k+"%"},a.animate),"max"===b&&"horizontal"===this.orientation&&this.range[f?"animate":"css"]({width:100-k+"%"},{queue:!1,duration:a.animate}),"min"===b&&"vertical"===this.orientation&&this.range.stop(1,1)[f?"animate":"css"]({height:k+"%"},a.animate),"max"===b&&"vertical"===this.orientation&&this.range[f?"animate":"css"]({height:100-k+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(g){var k,h,q,e=d(g.target).data("ui-slider-handle-index");
switch(g.keyCode){case d.ui.keyCode.HOME:case d.ui.keyCode.END:case d.ui.keyCode.PAGE_UP:case d.ui.keyCode.PAGE_DOWN:case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:if(g.preventDefault(),!this._keySliding&&(this._keySliding=!0,d(g.target).addClass("ui-state-active"),k=this._start(g,e),!1===k))return}switch(q=this.options.step,k=h=this.options.values&&this.options.values.length?this.values(e):this.value(),g.keyCode){case d.ui.keyCode.HOME:h=this._valueMin();
break;case d.ui.keyCode.END:h=this._valueMax();break;case d.ui.keyCode.PAGE_UP:h=this._trimAlignValue(k+(this._valueMax()-this._valueMin())/5);break;case d.ui.keyCode.PAGE_DOWN:h=this._trimAlignValue(k-(this._valueMax()-this._valueMin())/5);break;case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:if(k===this._valueMax())return;h=this._trimAlignValue(k+q);break;case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:if(k===this._valueMin())return;h=this._trimAlignValue(k-q)}this._slide(g,e,h)},click:function(d){d.preventDefault()},
keyup:function(g){var k=d(g.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(g,k),this._change(g,k),d(g.target).removeClass("ui-state-active"))}}})})(jQuery);
(function(d){function g(d){return function(){var g=this.element.val();d.apply(this,arguments);this._refresh();g!==this.element.val()&&this._trigger("change")}}d.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);
this._setOption("min",this.options.min);this._setOption("step",this.options.step);this._value(this.element.val(),!0);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var g={},h=this.element;return d.each(["min","max","step"],function(d,e){var b=h.attr(e);void 0!==b&&b.length&&(g[e]=b)}),g},_events:{keydown:function(d){this._start(d)&&this._keydown(d)&&d.preventDefault()},keyup:"_stop",
focus:function(){this.previous=this.element.val()},blur:function(d){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",d),void 0)},mousewheel:function(d,g){if(g){if(!this.spinning&&!this._start(d))return!1;this._spin((0<g?1:-1)*this.options.step,d);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(d)},100);d.preventDefault()}},"mousedown .ui-spinner-button":function(g){function h(){this.element[0]===
this.document[0].activeElement||(this.element.focus(),this.previous=q,this._delay(function(){this.previous=q}))}var q;q=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();g.preventDefault();h.call(this);this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;h.call(this)});!1!==this._start(g)&&this._repeat(null,d(g.currentTarget).hasClass("ui-spinner-up")?1:-1,g)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(g){return d(g.currentTarget).hasClass("ui-state-active")?
!1===this._start(g)?!1:(this._repeat(null,d(g.currentTarget).hasClass("ui-spinner-up")?1:-1,g),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var d=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=d.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");this.buttons.height()>Math.ceil(.5*d.height())&&
0<d.height()&&d.height(d.height());this.options.disabled&&this.disable()},_keydown:function(g){var h=this.options,q=d.ui.keyCode;switch(g.keyCode){case q.UP:return this._repeat(null,1,g),!0;case q.DOWN:return this._repeat(null,-1,g),!0;case q.PAGE_UP:return this._repeat(null,h.page,g),!0;case q.PAGE_DOWN:return this._repeat(null,-h.page,g),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+
this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(d){return this.spinning||!1!==this._trigger("start",d)?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(d,g,q){d=d||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,g,q)},d);this._spin(g*this.options.step,q)},_spin:function(d,g){var q=this.value()||0;this.counter||
(this.counter=1);q=this._adjustValue(q+d*this._increment(this.counter));this.spinning&&!1===this._trigger("spin",g,{value:q})||(this._value(q),this.counter++)},_increment:function(g){var h=this.options.incremental;return h?d.isFunction(h)?h(g):Math.floor(g*g*g/5E4-g*g/500+17*g/200+1):1},_precision:function(){var d=this._precisionOf(this.options.step);return null!==this.options.min&&(d=Math.max(d,this._precisionOf(this.options.min))),d},_precisionOf:function(d){d=""+d;var g=d.indexOf(".");return-1===
g?0:d.length-g-1},_adjustValue:function(d){var g,q,e=this.options;return g=null!==e.min?e.min:0,q=d-g,q=Math.round(q/e.step)*e.step,d=g+q,d=parseFloat(d.toFixed(this._precision())),null!==e.max&&d>e.max?e.max:null!==e.min&&e.min>d?e.min:d},_stop:function(d){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",d))},_setOption:function(d,g){if("culture"===d||"numberFormat"===d){var q=this._parse(this.element.val());return this.options[d]=
g,this.element.val(this._format(q)),void 0}"max"!==d&&"min"!==d&&"step"!==d||"string"!=typeof g||(g=this._parse(g));"icons"===d&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(g.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(g.down));this._super(d,g);"disabled"===d&&(g?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:g(function(d){this._super(d);
this._value(this.element.val())}),_parse:function(d){return"string"==typeof d&&""!==d&&(d=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(d,10,this.options.culture):+d),""===d||isNaN(d)?null:d},_format:function(d){return""===d?"":window.Globalize&&this.options.numberFormat?Globalize.format(d,this.options.numberFormat,this.options.culture):d},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},
_value:function(d,g){var q;""!==d&&(q=this._parse(d),null!==q&&(g||(q=this._adjustValue(q)),d=this._format(q)));this.element.val(d);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:g(function(d){this._stepUp(d)}),_stepUp:function(d){this._start()&&(this._spin((d||1)*this.options.step),
this._stop())},stepDown:g(function(d){this._stepDown(d)}),_stepDown:function(d){this._start()&&(this._spin((d||1)*-this.options.step),this._stop())},pageUp:g(function(d){this._stepUp((d||1)*this.options.page)}),pageDown:g(function(d){this._stepDown((d||1)*this.options.page)}),value:function(d){return arguments.length?(g(this._value).call(this,d),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})})(jQuery);
(function(d,g){function k(d){return 1<d.hash.length&&decodeURIComponent(d.href.replace(q,""))===decodeURIComponent(location.href.replace(q,""))}var h=0,q=/#.*$/;d.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var e=this,b=this.options;this.running=!1;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",
b.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(a){d(this).is(".ui-state-disabled")&&a.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){d(this).closest("li").is(".ui-state-disabled")&&this.blur()});this._processTabs();b.active=this._initialActive();d.isArray(b.disabled)&&(b.disabled=d.unique(b.disabled.concat(d.map(this.tabs.filter(".ui-state-disabled"),function(a){return e.tabs.index(a)}))).sort());this.active=!1!==this.options.active&&
this.anchors.length?this._findActive(b.active):d();this._refresh();this.active.length&&this.load(b.active)},_initialActive:function(){var e=this.options.active,b=this.options.collapsible,a=location.hash.substring(1);return null===e&&(a&&this.tabs.each(function(c,b){return d(b).attr("aria-controls")===a?(e=c,!1):g}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),!1!==e&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=b?!1:0)),!b&&!1===
e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):d()}},_tabKeydown:function(e){var b=d(this.document[0].activeElement).closest("li"),a=this.tabs.index(b),c=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case d.ui.keyCode.RIGHT:case d.ui.keyCode.DOWN:a++;break;case d.ui.keyCode.UP:case d.ui.keyCode.LEFT:c=!1;a--;break;case d.ui.keyCode.END:a=this.anchors.length-1;break;case d.ui.keyCode.HOME:a=0;break;
case d.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),this._activate(a),g;case d.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),this._activate(a===this.options.active?!1:a),g;default:return}e.preventDefault();clearTimeout(this.activating);a=this._focusNextTab(a,c);e.ctrlKey||(b.attr("aria-selected","false"),this.tabs.eq(a).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",a)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||
e.ctrlKey&&e.keyCode===d.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===d.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===d.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):g},_findNextTab:function(e,b){for(var a=this.tabs.length-1;-1!==d.inArray((e>a&&(e=0),0>e&&(e=a),e),this.options.disabled);)e=b?e+1:e-1;return e},_focusNextTab:function(d,
b){return d=this._findNextTab(d,b),this.tabs.eq(d).focus(),d},_setOption:function(d,b){return"active"===d?(this._activate(b),g):"disabled"===d?(this._setupDisabled(b),g):(this._super(d,b),"collapsible"===d&&(this.element.toggleClass("ui-tabs-collapsible",b),b||!1!==this.options.active||this._activate(0)),"event"===d&&this._setupEvents(b),"heightStyle"===d&&this._setupHeightStyle(b),g)},_tabId:function(d){return d.attr("aria-controls")||"ui-tabs-"+ ++h},_sanitizeSelector:function(d){return d?d.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,
"\\$&"):""},refresh:function(){var e=this.options,b=this.tablist.children(":has(a[href])");e.disabled=d.map(b.filter(".ui-state-disabled"),function(a){return b.index(a)});this._processTabs();!1!==e.active&&this.anchors.length?this.active.length&&!d.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=d()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=d());this._refresh()},
_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true",
"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return d("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=
d();this.anchors.each(function(b,a){var c,f,g,h=d(a).uniqueId().attr("id"),r=d(a).closest("li"),n=r.attr("aria-controls");k(a)?(c=a.hash,f=e.element.find(e._sanitizeSelector(c))):(g=e._tabId(r),c="#"+g,f=e.element.find(c),f.length||(f=e._createPanel(g),f.insertAfter(e.panels[b-1]||e.tablist)),f.attr("aria-live","polite"));f.length&&(e.panels=e.panels.add(f));n&&r.data("ui-tabs-aria-controls",n);r.attr({"aria-controls":c.substring(1),"aria-labelledby":h});f.attr("aria-labelledby",h)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role",
"tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(e){return d("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){d.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var b,a=0;b=this.tabs[a];a++)!0===e||-1!==d.inArray(a,e)?d(b).addClass("ui-state-disabled").attr("aria-disabled","true"):d(b).removeClass("ui-state-disabled").removeAttr("aria-disabled");
this.options.disabled=e},_setupEvents:function(e){var b={click:function(a){a.preventDefault()}};e&&d.each(e.split(" "),function(a,c){b[c]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,b);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(e){var b,a=this.element.parent();"fill"===e?(b=a.height(),b-=this.element.outerHeight()-this.element.height(),
this.element.siblings(":visible").each(function(){var a=d(this),f=a.css("position");"absolute"!==f&&"fixed"!==f&&(b-=a.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){b-=d(this).outerHeight(!0)}),this.panels.each(function(){d(this).height(Math.max(0,b-d(this).innerHeight()+d(this).height()))}).css("overflow","auto")):"auto"===e&&(b=0,this.panels.each(function(){b=Math.max(b,d(this).height("").height())}).height(b))},_eventHandler:function(e){var b=this.options,a=this.active,
c=d(e.currentTarget).closest("li"),f=c[0]===a[0],g=f&&b.collapsible,h=g?d():this._getPanelForTab(c),r=a.length?this._getPanelForTab(a):d(),a={oldTab:a,oldPanel:r,newTab:g?d():c,newPanel:h};e.preventDefault();c.hasClass("ui-state-disabled")||c.hasClass("ui-tabs-loading")||this.running||f&&!b.collapsible||!1===this._trigger("beforeActivate",e,a)||(b.active=g?!1:this.tabs.index(c),this.active=f?d():c,this.xhr&&this.xhr.abort(),r.length||h.length||d.error("jQuery UI Tabs: Mismatching fragment identifier."),
h.length&&this.load(this.tabs.index(c),e),this._toggle(e,a))},_toggle:function(e,b){function a(){f.running=!1;f._trigger("activate",e,b)}function c(){b.newTab.closest("li").addClass("ui-tabs-active ui-state-active");g.length&&f.options.show?f._show(g,f.options.show,a):(g.show(),a())}var f=this,g=b.newPanel,h=b.oldPanel;this.running=!0;h.length&&this.options.hide?this._hide(h,this.options.hide,function(){b.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");c()}):(b.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),
h.hide(),c());h.attr({"aria-expanded":"false","aria-hidden":"true"});b.oldTab.attr("aria-selected","false");g.length&&h.length?b.oldTab.attr("tabIndex",-1):g.length&&this.tabs.filter(function(){return 0===d(this).attr("tabIndex")}).attr("tabIndex",-1);g.attr({"aria-expanded":"true","aria-hidden":"false"});b.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(e){var b;e=this._findActive(e);e[0]!==this.active[0]&&(e.length||(e=this.active),b=e.find(".ui-tabs-anchor")[0],this._eventHandler({target:b,
currentTarget:b,preventDefault:d.noop}))},_findActive:function(e){return!1===e?d():this.tabs.eq(e)},_getIndex:function(d){return"string"==typeof d&&(d=this.anchors.index(this.anchors.filter("[href$='"+d+"']"))),d},_destroy:function(){this.xhr&&this.xhr.abort();this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();
this.tabs.add(this.panels).each(function(){d.data(this,"ui-tabs-destroy")?d(this).remove():d(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")});this.tabs.each(function(){var e=d(this),b=e.data("ui-tabs-aria-controls");
b?e.attr("aria-controls",b).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var b=this.options.disabled;!1!==b&&(e===g?b=!1:(e=this._getIndex(e),b=d.isArray(b)?d.map(b,function(a){return a!==e?a:null}):d.map(this.tabs,function(a,c){return c!==e?c:null})),this._setupDisabled(b))},disable:function(e){var b=this.options.disabled;if(!0!==b){if(e===g)b=!0;else{if(e=this._getIndex(e),
-1!==d.inArray(e,b))return;b=d.isArray(b)?d.merge([e],b).sort():[e]}this._setupDisabled(b)}},load:function(e,b){e=this._getIndex(e);var a=this,c=this.tabs.eq(e),f=c.find(".ui-tabs-anchor"),g=this._getPanelForTab(c),h={tab:c,panel:g};k(f[0])||(this.xhr=d.ajax(this._ajaxSettings(f,b,h)),this.xhr&&"canceled"!==this.xhr.statusText&&(c.addClass("ui-tabs-loading"),g.attr("aria-busy","true"),this.xhr.success(function(c){setTimeout(function(){g.html(c);a._trigger("load",b,h)},1)}).complete(function(b,f){setTimeout(function(){"abort"===
f&&a.panels.stop(!1,!0);c.removeClass("ui-tabs-loading");g.removeAttr("aria-busy");b===a.xhr&&delete a.xhr},1)})))},_ajaxSettings:function(e,b,a){var c=this;return{url:e.attr("href"),beforeSend:function(f,e){return c._trigger("beforeLoad",b,d.extend({jqXHR:f,ajaxSettings:e},a))}}},_getPanelForTab:function(e){e=d(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+e))}})})(jQuery);
(function(d){function g(g,e){var b=(g.attr("aria-describedby")||"").split(/\s+/);b.push(e);g.data("ui-tooltip-id",e).attr("aria-describedby",d.trim(b.join(" ")))}function k(g){var e=g.data("ui-tooltip-id"),b=(g.attr("aria-describedby")||"").split(/\s+/),e=d.inArray(e,b);-1!==e&&b.splice(e,1);g.removeData("ui-tooltip-id");(b=d.trim(b.join(" ")))?g.attr("aria-describedby",b):g.removeAttr("aria-describedby")}var h=0;d.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var g=d(this).attr("title")||
"";return d("<a>").text(g).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.options.disabled&&this._disable()},_setOption:function(g,e){var b=this;return"disabled"===g?(this[e?"_disable":"_enable"](),this.options[g]=e,void 0):(this._super(g,e),"content"===g&&d.each(this.tooltips,
function(a,c){b._updateContent(c)}),void 0)},_disable:function(){var g=this;d.each(this.tooltips,function(e,b){var a=d.Event("blur");a.target=a.currentTarget=b[0];g.close(a,!0)});this.element.find(this.options.items).addBack().each(function(){var e=d(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var g=d(this);g.data("ui-tooltip-title")&&g.attr("title",g.data("ui-tooltip-title"))})},
open:function(g){var e=this,b=d(g?g.target:this.element).closest(this.options.items);b.length&&!b.data("ui-tooltip-id")&&(b.attr("title")&&b.data("ui-tooltip-title",b.attr("title")),b.data("ui-tooltip-open",!0),g&&"mouseover"===g.type&&b.parents().each(function(){var a,c=d(this);c.data("ui-tooltip-open")&&(a=d.Event("blur"),a.target=a.currentTarget=this,e.close(a,!0));c.attr("title")&&(c.uniqueId(),e.parents[this.id]={element:this,title:c.attr("title")},c.attr("title",""))}),this._updateContent(b,
g))},_updateContent:function(d,e){var b,a=this.options.content,c=this,f=e?e.type:null;return"string"==typeof a?this._open(e,d,a):(b=a.call(d[0],function(a){d.data("ui-tooltip-open")&&c._delay(function(){e&&(e.type=f);this._open(e,d,a)})}),b&&this._open(e,d,b),void 0)},_open:function(h,e,b){function a(a){m.of=a;c.is(":hidden")||c.position(m)}var c,f,m=d.extend({},this.options.position);if(b){if(c=this._find(e),c.length)return c.find(".ui-tooltip-content").html(b),void 0;e.is("[title]")&&(h&&"mouseover"===
h.type?e.attr("title",""):e.removeAttr("title"));c=this._tooltip(e);g(e,c.attr("id"));c.find(".ui-tooltip-content").html(b);this.options.track&&h&&/^mouse/.test(h.type)?(this._on(this.document,{mousemove:a}),a(h)):c.position(d.extend({of:e},this.options.position));c.hide();this._show(c,this.options.show);this.options.show&&this.options.show.delay&&(f=this.delayedShow=setInterval(function(){c.is(":visible")&&(a(m.of),clearInterval(f))},d.fx.interval));this._trigger("open",h,{tooltip:c});b={keyup:function(a){a.keyCode===
d.ui.keyCode.ESCAPE&&(a=d.Event(a),a.currentTarget=e[0],this.close(a,!0))},remove:function(){this._removeTooltip(c)}};h&&"mouseover"!==h.type||(b.mouseleave="close");h&&"focusin"!==h.type||(b.focusout="close");this._on(!0,e,b)}},close:function(g){var e=this,b=d(g?g.currentTarget:this.element),a=this._find(b);this.closing||(clearInterval(this.delayedShow),b.data("ui-tooltip-title")&&b.attr("title",b.data("ui-tooltip-title")),k(b),a.stop(!0),this._hide(a,this.options.hide,function(){e._removeTooltip(d(this))}),
b.removeData("ui-tooltip-open"),this._off(b,"mouseleave focusout keyup"),b[0]!==this.element[0]&&this._off(b,"remove"),this._off(this.document,"mousemove"),g&&"mouseleave"===g.type&&d.each(this.parents,function(a,b){d(b.element).attr("title",b.title);delete e.parents[a]}),this.closing=!0,this._trigger("close",g,{tooltip:a}),this.closing=!1)},_tooltip:function(g){var e="ui-tooltip-"+h++,b=d("<div>").attr({id:e,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||
""));return d("<div>").addClass("ui-tooltip-content").appendTo(b),b.appendTo(this.document[0].body),this.tooltips[e]=g,b},_find:function(g){return(g=g.data("ui-tooltip-id"))?d("#"+g):d()},_removeTooltip:function(d){d.remove();delete this.tooltips[d.attr("id")]},_destroy:function(){var g=this;d.each(this.tooltips,function(e,b){var a=d.Event("blur");a.target=a.currentTarget=b[0];g.close(a,!0);d("#"+e).remove();b.data("ui-tooltip-title")&&(b.attr("title",b.data("ui-tooltip-title")),b.removeData("ui-tooltip-title"))})}})})(jQuery);
(function(d,g){d.effects={effect:{}};(function(d,g){function q(a,c,b){var f=r[c.type]||{};return null==a?b||!c.def?null:c.def:(a=f.floor?~~a:parseFloat(a),isNaN(a)?c.def:f.mod?(a+f.mod)%f.mod:0>a?0:a>f.max?f.max:a)}function e(c){var b=m(),e=b._rgba=[];return c=c.toLowerCase(),p(f,function(a,f){var d,m=f.re.exec(c),m=m&&f.parse(m),p=f.space||"rgba";return m?(d=b[p](m),b[v[p].cache]=d[v[p].cache],e=b._rgba=d._rgba,!1):g}),e.length?("0,0,0,0"===e.join()&&d.extend(e,a.transparent),b):a[c]}function b(a,
c,b){return b=(b+1)%1,1>6*b?a+6*(c-a)*b:1>2*b?c:2>3*b?a+6*(c-a)*(2/3-b):a}var a,c=/^([\-+])=\s*(\d+\.?\d*)/,f=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],
16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],m=d.Color=function(a,c,b,f){return new d.Color.fn.parse(a,c,b,f)},v={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,
type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},r={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},n=m.support={},w=d("<p>")[0],p=d.each;w.style.cssText="background-color:rgba(1,1,1,.5)";n.rgba=-1<w.style.backgroundColor.indexOf("rgba");p(v,function(a,c){c.cache="_"+a;c.props.alpha={idx:3,type:"percent",def:1}});m.fn=d.extend(m.prototype,{parse:function(c,b,f,r){if(c===g)return this._rgba=[null,null,
null,null],this;(c.jquery||c.nodeType)&&(c=d(c).css(b),b=g);var n=this,w=d.type(c),y=this._rgba=[];return b!==g&&(c=[c,b,f,r],w="array"),"string"===w?this.parse(e(c)||a._default):"array"===w?(p(v.rgba.props,function(a,b){y[b.idx]=q(c[b.idx],b)}),this):"object"===w?(c instanceof m?p(v,function(a,b){c[b.cache]&&(n[b.cache]=c[b.cache].slice())}):p(v,function(a,b){var f=b.cache;p(b.props,function(a,d){if(!n[f]&&b.to){if("alpha"===a||null==c[a])return;n[f]=b.to(n._rgba)}n[f][d.idx]=q(c[a],d,!0)});n[f]&&
0>d.inArray(null,n[f].slice(0,3))&&(n[f][3]=1,b.from&&(n._rgba=b.from(n[f])))}),this):g},is:function(a){var c=m(a),b=!0,f=this;return p(v,function(a,d){var e,l=c[d.cache];return l&&(e=f[d.cache]||d.to&&d.to(f._rgba)||[],p(d.props,function(a,c){return null!=l[c.idx]?b=l[c.idx]===e[c.idx]:g})),b}),b},_space:function(){var a=[],c=this;return p(v,function(b,f){c[f.cache]&&a.push(b)}),a.pop()},transition:function(a,c){var b=m(a),f=b._space(),d=v[f],e=0===this.alpha()?m("transparent"):this,g=e[d.cache]||
d.to(e._rgba),h=g.slice();return b=b[d.cache],p(d.props,function(a,f){var d=f.idx,e=g[d],l=b[d],m=r[f.type]||{};null!==l&&(null===e?h[d]=l:(m.mod&&(l-e>m.mod/2?e+=m.mod:e-l>m.mod/2&&(e-=m.mod)),h[d]=q((l-e)*c+e,f)))}),this[f](h)},blend:function(a){if(1===this._rgba[3])return this;var c=this._rgba.slice(),b=c.pop(),f=m(a)._rgba;return m(d.map(c,function(a,c){return(1-b)*f[c]+b*a}))},toRgbaString:function(){var a="rgba(",c=d.map(this._rgba,function(a,c){return null==a?2<c?1:0:a});return 1===c[3]&&(c.pop(),
a="rgb("),a+c.join()+")"},toHslaString:function(){var a="hsla(",c=d.map(this.hsla(),function(a,c){return null==a&&(a=2<c?1:0),c&&3>c&&(a=Math.round(100*a)+"%"),a});return 1===c[3]&&(c.pop(),a="hsl("),a+c.join()+")"},toHexString:function(a){var c=this._rgba.slice(),b=c.pop();return a&&c.push(~~(255*b)),"#"+d.map(c,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});m.fn.parse.prototype=m.fn;v.hsla.to=
function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var c,b,f=a[0]/255,d=a[1]/255,e=a[2]/255;a=a[3];var g=Math.max(f,d,e),m=Math.min(f,d,e),h=g-m,p=g+m,r=.5*p;return c=m===g?0:f===g?60*(d-e)/h+360:d===g?60*(e-f)/h+120:60*(f-d)/h+240,b=0===h?0:.5>=r?h/p:h/(2-p),[Math.round(c)%360,b,r,null==a?1:a]};v.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var c=a[0]/360,f=a[1],d=a[2];a=a[3];f=.5>=d?d*(1+f):d+f-d*f;d=2*d-f;return[Math.round(255*
b(d,f,c+1/3)),Math.round(255*b(d,f,c)),Math.round(255*b(d,f,c-1/3)),a]};p(v,function(a,b){var f=b.props,e=b.cache,r=b.to,n=b.from;m.fn[a]=function(a){if(r&&!this[e]&&(this[e]=r(this._rgba)),a===g)return this[e].slice();var c,b=d.type(a),l="array"===b||"object"===b?a:arguments,v=this[e].slice();return p(f,function(a,c){var f=l["object"===b?a:c.idx];null==f&&(f=v[c.idx]);v[c.idx]=q(f,c)}),n?(c=m(n(v)),c[e]=v,c):m(v)};p(f,function(b,f){m.fn[b]||(m.fn[b]=function(e){var g,m=d.type(e),h="alpha"===b?this._hsla?
"hsla":"rgba":a,p=this[h](),r=p[f.idx];return"undefined"===m?r:("function"===m&&(e=e.call(this,r),m=d.type(e)),null==e&&f.empty?this:("string"===m&&(g=c.exec(e),g&&(e=r+parseFloat(g[2])*("+"===g[1]?1:-1))),p[f.idx]=e,this[h](p)))})})});m.hook=function(a){a=a.split(" ");p(a,function(a,c){d.cssHooks[c]={set:function(a,b){var f,g="";if("transparent"!==b&&("string"!==d.type(b)||(f=e(b)))){if(b=m(f||b),!n.rgba&&1!==b._rgba[3]){for(f="backgroundColor"===c?a.parentNode:a;(""===g||"transparent"===g)&&f&&
f.style;)try{g=d.css(f,"backgroundColor"),f=f.parentNode}catch(l){}b=b.blend(g&&"transparent"!==g?g:"_default")}b=b.toRgbaString()}try{a.style[c]=b}catch(l){}}};d.fx.step[c]=function(a){a.colorInit||(a.start=m(a.elem,c),a.end=m(a.end),a.colorInit=!0);d.cssHooks[c].set(a.elem,a.start.transition(a.end,a.pos))}})};m.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");d.cssHooks.borderColor=
{expand:function(a){var c={};return p(["Top","Right","Bottom","Left"],function(b,f){c["border"+f+"Color"]=a}),c}};a=d.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);(function(){function k(e){var b,a=e.ownerDocument.defaultView?
e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,c={};if(a&&a.length&&a[0]&&a[a[0]])for(e=a.length;e--;)b=a[e],"string"==typeof a[b]&&(c[d.camelCase(b)]=a[b]);else for(b in a)"string"==typeof a[b]&&(c[b]=a[b]);return c}var h=["add","remove","toggle"],q={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};d.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,b){d.fx.step[b]=function(a){("none"!==
a.end&&!a.setAttr||1===a.pos&&!a.setAttr)&&(jQuery.style(a.elem,b,a.end),a.setAttr=!0)}});d.fn.addBack||(d.fn.addBack=function(d){return this.add(null==d?this.prevObject:this.prevObject.filter(d))});d.effects.animateClass=function(e,b,a,c){var f=d.speed(b,a,c);return this.queue(function(){var a,c=d(this),b=c.attr("class")||"",g=f.children?c.find("*").addBack():c,g=g.map(function(){return{el:d(this),start:k(this)}});a=function(){d.each(h,function(a,b){e[b]&&c[b+"Class"](e[b])})};a();g=g.map(function(){this.end=
k(this.el[0]);var a=this.start,c=this.end,b,f,e={};for(b in c)f=c[b],a[b]!==f&&(q[b]||(d.fx.step[b]||!isNaN(parseFloat(f)))&&(e[b]=f));return this.diff=e,this});c.attr("class",b);g=g.map(function(){var a=this,c=d.Deferred(),b=d.extend({},f,{queue:!1,complete:function(){c.resolve(a)}});return this.el.animate(this.diff,b),c.promise()});d.when.apply(d,g.get()).done(function(){a();d.each(arguments,function(){var a=this.el;d.each(this.diff,function(c){a.css(c,"")})});f.complete.call(c[0])})})};d.fn.extend({addClass:function(e){return function(b,
a,c,f){return a?d.effects.animateClass.call(this,{add:b},a,c,f):e.apply(this,arguments)}}(d.fn.addClass),removeClass:function(e){return function(b,a,c,f){return 1<arguments.length?d.effects.animateClass.call(this,{remove:b},a,c,f):e.apply(this,arguments)}}(d.fn.removeClass),toggleClass:function(e){return function(b,a,c,f,m){return"boolean"==typeof a||a===g?c?d.effects.animateClass.call(this,a?{add:b}:{remove:b},c,f,m):e.apply(this,arguments):d.effects.animateClass.call(this,{toggle:b},a,c,f)}}(d.fn.toggleClass),
switchClass:function(e,b,a,c,f){return d.effects.animateClass.call(this,{add:b,remove:e},a,c,f)}})})();(function(){function k(g,e,b,a){return d.isPlainObject(g)&&(e=g,g=g.effect),g={effect:g},null==e&&(e={}),d.isFunction(e)&&(a=e,b=null,e={}),("number"==typeof e||d.fx.speeds[e])&&(a=b,b=e,e={}),d.isFunction(b)&&(a=b,b=null),e&&d.extend(g,e),b=b||e.duration,g.duration=d.fx.off?0:"number"==typeof b?b:b in d.fx.speeds?d.fx.speeds[b]:d.fx.speeds._default,g.complete=a||e.complete,g}function h(g){return!g||
"number"==typeof g||d.fx.speeds[g]?!0:"string"!=typeof g||d.effects.effect[g]?d.isFunction(g)?!0:"object"!=typeof g||g.effect?!1:!0:!0}d.extend(d.effects,{version:"1.10.3",save:function(d,e){for(var b=0;e.length>b;b++)null!==e[b]&&d.data("ui-effects-"+e[b],d[0].style[e[b]])},restore:function(d,e){var b,a;for(a=0;e.length>a;a++)null!==e[a]&&(b=d.data("ui-effects-"+e[a]),b===g&&(b=""),d.css(e[a],b))},setMode:function(d,e){return"toggle"===e&&(e=d.is(":hidden")?"show":"hide"),e},getBaseline:function(d,
e){var b,a;switch(d[0]){case "top":b=0;break;case "middle":b=.5;break;case "bottom":b=1;break;default:b=d[0]/e.height}switch(d[1]){case "left":a=0;break;case "center":a=.5;break;case "right":a=1;break;default:a=d[1]/e.width}return{x:a,y:b}},createWrapper:function(g){if(g.parent().is(".ui-effects-wrapper"))return g.parent();var e={width:g.outerWidth(!0),height:g.outerHeight(!0),"float":g.css("float")},b=d("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",
margin:0,padding:0}),a={width:g.width(),height:g.height()},c=document.activeElement;try{c.id}catch(f){c=document.body}return g.wrap(b),(g[0]===c||d.contains(g[0],c))&&d(c).focus(),b=g.parent(),"static"===g.css("position")?(b.css({position:"relative"}),g.css({position:"relative"})):(d.extend(e,{position:g.css("position"),zIndex:g.css("z-index")}),d.each(["top","left","bottom","right"],function(a,c){e[c]=g.css(c);isNaN(parseInt(e[c],10))&&(e[c]="auto")}),g.css({position:"relative",top:0,left:0,right:"auto",
bottom:"auto"})),g.css(a),b.css(e).show()},removeWrapper:function(g){var e=document.activeElement;return g.parent().is(".ui-effects-wrapper")&&(g.parent().replaceWith(g),(g[0]===e||d.contains(g[0],e))&&d(e).focus()),g},setTransition:function(g,e,b,a){return a=a||{},d.each(e,function(c,f){var d=g.cssUnit(f);0<d[0]&&(a[f]=d[0]*b+d[1])}),a}});d.fn.extend({effect:function(){function g(a){function b(){d.isFunction(r)&&r.call(h[0]);d.isFunction(a)&&a()}var h=d(this),r=e.complete,n=e.mode;(h.is(":hidden")?
"hide"===n:"show"===n)?(h[n](),b()):c.call(h[0],e,b)}var e=k.apply(this,arguments),b=e.mode,a=e.queue,c=d.effects.effect[e.effect];return d.fx.off||!c?b?this[b](e.duration,e.complete):this.each(function(){e.complete&&e.complete.call(this)}):!1===a?this.each(g):this.queue(a||"fx",g)},show:function(d){return function(e){if(h(e))return d.apply(this,arguments);var b=k.apply(this,arguments);return b.mode="show",this.effect.call(this,b)}}(d.fn.show),hide:function(d){return function(e){if(h(e))return d.apply(this,
arguments);var b=k.apply(this,arguments);return b.mode="hide",this.effect.call(this,b)}}(d.fn.hide),toggle:function(d){return function(e){if(h(e)||"boolean"==typeof e)return d.apply(this,arguments);var b=k.apply(this,arguments);return b.mode="toggle",this.effect.call(this,b)}}(d.fn.toggle),cssUnit:function(g){var e=this.css(g),b=[];return d.each(["em","px","%","pt"],function(a,c){0<e.indexOf(c)&&(b=[parseFloat(e),c])}),b}})})();(function(){var g={};d.each(["Quad","Cubic","Quart","Quint","Expo"],function(d,
q){g[q]=function(e){return Math.pow(e,d+2)}});d.extend(g,{Sine:function(d){return 1-Math.cos(d*Math.PI/2)},Circ:function(d){return 1-Math.sqrt(1-d*d)},Elastic:function(d){return 0===d||1===d?d:-Math.pow(2,8*(d-1))*Math.sin((80*(d-1)-7.5)*Math.PI/15)},Back:function(d){return d*d*(3*d-2)},Bounce:function(d){for(var g,e=4;((g=Math.pow(2,--e))-1)/11>d;);return 1/Math.pow(4,3-e)-7.5625*Math.pow((3*g-2)/22-d,2)}});d.each(g,function(g,k){d.easing["easeIn"+g]=k;d.easing["easeOut"+g]=function(d){return 1-
k(1-d)};d.easing["easeInOut"+g]=function(d){return.5>d?k(2*d)/2:1-k(-2*d+2)/2}})})()})(jQuery);
(function(d){var g=/up|down|vertical/,k=/up|left|vertical|horizontal/;d.effects.effect.blind=function(h,q){var e,b,a,c=d(this),f="position top bottom left right height width".split(" "),m=d.effects.setMode(c,h.mode||"hide");e=h.direction||"up";var v=g.test(e),r=v?"height":"width",n=v?"top":"left",w=k.test(e),p={},l="show"===m;c.parent().is(".ui-effects-wrapper")?d.effects.save(c.parent(),f):d.effects.save(c,f);c.show();e=d.effects.createWrapper(c).css({overflow:"hidden"});b=e[r]();a=parseFloat(e.css(n))||
0;p[r]=l?b:0;w||(c.css(v?"bottom":"right",0).css(v?"top":"left","auto").css({position:"absolute"}),p[n]=l?a:b+a);l&&(e.css(r,0),w||e.css(n,a+b));e.animate(p,{duration:h.duration,easing:h.easing,queue:!1,complete:function(){"hide"===m&&c.hide();d.effects.restore(c,f);d.effects.removeWrapper(c);q()}})}})(jQuery);
(function(d){d.effects.effect.bounce=function(g,k){var h,q,e,b=d(this),a="position top bottom left right height width".split(" "),c=d.effects.setMode(b,g.mode||"effect"),f="hide"===c;h="show"===c;var m=g.direction||"up",c=g.distance,v=g.times||5,r=2*v+(h||f?1:0),n=g.duration/r,w=g.easing,p="up"===m||"down"===m?"top":"left",m="up"===m||"left"===m,l=b.queue(),x=l.length;(h||f)&&a.push("opacity");d.effects.save(b,a);b.show();d.effects.createWrapper(b);c||(c=b["top"===p?"outerHeight":"outerWidth"]()/
3);h&&(e={opacity:1},e[p]=0,b.css("opacity",0).css(p,m?2*-c:2*c).animate(e,n,w));f&&(c/=Math.pow(2,v-1));e={};for(h=e[p]=0;v>h;h++)q={},q[p]=(m?"-=":"+=")+c,b.animate(q,n,w).animate(e,n,w),c=f?2*c:c/2;f&&(q={opacity:0},q[p]=(m?"-=":"+=")+c,b.animate(q,n,w));b.queue(function(){f&&b.hide();d.effects.restore(b,a);d.effects.removeWrapper(b);k()});1<x&&l.splice.apply(l,[1,0].concat(l.splice(x,r+1)));b.dequeue()}})(jQuery);
(function(d){d.effects.effect.clip=function(g,k){var h,q,e=d(this),b="position top bottom left right height width".split(" "),a="show"===d.effects.setMode(e,g.mode||"hide"),c="vertical"===(g.direction||"vertical"),f=c?"height":"width",c=c?"top":"left",m={};d.effects.save(e,b);e.show();h=d.effects.createWrapper(e).css({overflow:"hidden"});h="IMG"===e[0].tagName?h:e;q=h[f]();a&&(h.css(f,0),h.css(c,q/2));m[f]=a?q:0;m[c]=a?0:q/2;h.animate(m,{queue:!1,duration:g.duration,easing:g.easing,complete:function(){a||
e.hide();d.effects.restore(e,b);d.effects.removeWrapper(e);k()}})}})(jQuery);
(function(d){d.effects.effect.drop=function(g,k){var h,q=d(this),e="position top bottom left right opacity height width".split(" "),b=d.effects.setMode(q,g.mode||"hide"),a="show"===b;h=g.direction||"left";var c="up"===h||"down"===h?"top":"left",f="up"===h||"left"===h?"pos":"neg",m={opacity:a?1:0};d.effects.save(q,e);q.show();d.effects.createWrapper(q);h=g.distance||q["top"===c?"outerHeight":"outerWidth"](!0)/2;a&&q.css("opacity",0).css(c,"pos"===f?-h:h);m[c]=(a?"pos"===f?"+=":"-=":"pos"===f?"-=":
"+=")+h;q.animate(m,{queue:!1,duration:g.duration,easing:g.easing,complete:function(){"hide"===b&&q.hide();d.effects.restore(q,e);d.effects.removeWrapper(q);k()}})}})(jQuery);
(function(d){d.effects.effect.explode=function(g,k){function h(){x.push(this);x.length===m*v&&(r.css({visibility:"visible"}),d(x).remove(),n||r.hide(),k())}var q,e,b,a,c,f,m=g.pieces?Math.round(Math.sqrt(g.pieces)):3,v=m,r=d(this),n="show"===d.effects.setMode(r,g.mode||"hide"),w=r.show().css("visibility","hidden").offset(),p=Math.ceil(r.outerWidth()/v),l=Math.ceil(r.outerHeight()/m),x=[];for(q=0;m>q;q++)for(a=w.top+q*l,f=q-(m-1)/2,e=0;v>e;e++)b=w.left+e*p,c=e-(v-1)/2,r.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",
visibility:"visible",left:-e*p,top:-q*l}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:p,height:l,left:b+(n?c*p:0),top:a+(n?f*l:0),opacity:n?0:1}).animate({left:b+(n?0:c*p),top:a+(n?0:f*l),opacity:n?1:0},g.duration||500,g.easing,h)}})(jQuery);(function(d){d.effects.effect.fade=function(g,k){var h=d(this),q=d.effects.setMode(h,g.mode||"toggle");h.animate({opacity:q},{queue:!1,duration:g.duration,easing:g.easing,complete:k})}})(jQuery);
(function(d){d.effects.effect.fold=function(g,k){var h,q,e=d(this),b="position top bottom left right height width".split(" ");h=d.effects.setMode(e,g.mode||"hide");var a="show"===h,c="hide"===h,f=g.size||15,m=/([0-9]+)%/.exec(f),v=!!g.horizFirst,r=(q=a!==v)?["width","height"]:["height","width"],n=g.duration/2,w={},p={};d.effects.save(e,b);e.show();h=d.effects.createWrapper(e).css({overflow:"hidden"});q=q?[h.width(),h.height()]:[h.height(),h.width()];m&&(f=parseInt(m[1],10)/100*q[c?0:1]);a&&h.css(v?
{height:0,width:f}:{height:f,width:0});w[r[0]]=a?q[0]:f;p[r[1]]=a?q[1]:0;h.animate(w,n,g.easing).animate(p,n,g.easing,function(){c&&e.hide();d.effects.restore(e,b);d.effects.removeWrapper(e);k()})}})(jQuery);
(function(d){d.effects.effect.highlight=function(g,k){var h=d(this),q=["backgroundImage","backgroundColor","opacity"],e=d.effects.setMode(h,g.mode||"show"),b={backgroundColor:h.css("backgroundColor")};"hide"===e&&(b.opacity=0);d.effects.save(h,q);h.show().css({backgroundImage:"none",backgroundColor:g.color||"#ffff99"}).animate(b,{queue:!1,duration:g.duration,easing:g.easing,complete:function(){"hide"===e&&h.hide();d.effects.restore(h,q);k()}})}})(jQuery);
(function(d){d.effects.effect.pulsate=function(g,k){var h,q=d(this),e=d.effects.setMode(q,g.mode||"show");h="show"===e;var b="hide"===e,e=2*(g.times||5)+(h||"hide"===e?1:0),a=g.duration/e,c=0,f=q.queue(),m=f.length;(h||!q.is(":visible"))&&(q.css("opacity",0).show(),c=1);for(h=1;e>h;h++)q.animate({opacity:c},a,g.easing),c=1-c;q.animate({opacity:c},a,g.easing);q.queue(function(){b&&q.hide();k()});1<m&&f.splice.apply(f,[1,0].concat(f.splice(m,e+1)));q.dequeue()}})(jQuery);
(function(d){d.effects.effect.puff=function(g,k){var h=d(this),q=d.effects.setMode(h,g.mode||"hide"),e="hide"===q,b=parseInt(g.percent,10)||150,a=b/100,c={height:h.height(),width:h.width(),outerHeight:h.outerHeight(),outerWidth:h.outerWidth()};d.extend(g,{effect:"scale",queue:!1,fade:!0,mode:q,complete:k,percent:e?b:100,from:e?c:{height:c.height*a,width:c.width*a,outerHeight:c.outerHeight*a,outerWidth:c.outerWidth*a}});h.effect(g)};d.effects.effect.scale=function(g,k){var h=d(this),q=d.extend(!0,
{},g),e=d.effects.setMode(h,g.mode||"effect"),b=parseInt(g.percent,10)||(0===parseInt(g.percent,10)?0:"hide"===e?0:100),a=g.direction||"both",c=g.origin,f={height:h.height(),width:h.width(),outerHeight:h.outerHeight(),outerWidth:h.outerWidth()},m="horizontal"!==a?b/100:1,b="vertical"!==a?b/100:1;q.effect="size";q.queue=!1;q.complete=k;"effect"!==e&&(q.origin=c||["middle","center"],q.restore=!0);q.from=g.from||("show"===e?{height:0,width:0,outerHeight:0,outerWidth:0}:f);q.to={height:f.height*m,width:f.width*
b,outerHeight:f.outerHeight*m,outerWidth:f.outerWidth*b};q.fade&&("show"===e&&(q.from.opacity=0,q.to.opacity=1),"hide"===e&&(q.from.opacity=1,q.to.opacity=0));h.effect(q)};d.effects.effect.size=function(g,k){var h,q,e,b,a,c,f=d(this),m="position top bottom left right width height overflow opacity".split(" ");a="position top bottom left right overflow opacity".split(" ");var v=["width","height","overflow"],r=["fontSize"],n=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],w=["borderLeftWidth",
"borderRightWidth","paddingLeft","paddingRight"],p=d.effects.setMode(f,g.mode||"effect"),l=g.restore||"effect"!==p,x=g.scale||"both",E=g.origin||["middle","center"],z=f.css("position"),A=l?m:a,u={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&f.show();a={height:f.height(),width:f.width(),outerHeight:f.outerHeight(),outerWidth:f.outerWidth()};"toggle"===g.mode&&"show"===p?(f.from=g.to||u,f.to=g.from||a):(f.from=g.from||("show"===p?u:a),f.to=g.to||("hide"===p?u:a));e=f.from.height/a.height;
b=f.from.width/a.width;h=f.to.height/a.height;q=f.to.width/a.width;("box"===x||"both"===x)&&(e!==h&&(A=A.concat(n),f.from=d.effects.setTransition(f,n,e,f.from),f.to=d.effects.setTransition(f,n,h,f.to)),b!==q&&(A=A.concat(w),f.from=d.effects.setTransition(f,w,b,f.from),f.to=d.effects.setTransition(f,w,q,f.to)));("content"===x||"both"===x)&&e!==h&&(A=A.concat(r).concat(v),f.from=d.effects.setTransition(f,r,e,f.from),f.to=d.effects.setTransition(f,r,h,f.to));d.effects.save(f,A);f.show();d.effects.createWrapper(f);
f.css("overflow","hidden").css(f.from);E&&(c=d.effects.getBaseline(E,a),f.from.top=(a.outerHeight-f.outerHeight())*c.y,f.from.left=(a.outerWidth-f.outerWidth())*c.x,f.to.top=(a.outerHeight-f.to.outerHeight)*c.y,f.to.left=(a.outerWidth-f.to.outerWidth)*c.x);f.css(f.from);"content"!==x&&"both"!==x||(n=n.concat(["marginTop","marginBottom"]).concat(r),w=w.concat(["marginLeft","marginRight"]),v=m.concat(n).concat(w),f.find("*[width]").each(function(){var a=d(this),c=a.height(),f=a.width(),m=a.outerHeight(),
p=a.outerWidth();l&&d.effects.save(a,v);a.from={height:c*e,width:f*b,outerHeight:m*e,outerWidth:p*b};a.to={height:c*h,width:f*q,outerHeight:c*h,outerWidth:f*q};e!==h&&(a.from=d.effects.setTransition(a,n,e,a.from),a.to=d.effects.setTransition(a,n,h,a.to));b!==q&&(a.from=d.effects.setTransition(a,w,b,a.from),a.to=d.effects.setTransition(a,w,q,a.to));a.css(a.from);a.animate(a.to,g.duration,g.easing,function(){l&&d.effects.restore(a,v)})}));f.animate(f.to,{queue:!1,duration:g.duration,easing:g.easing,
complete:function(){0===f.to.opacity&&f.css("opacity",f.from.opacity);"hide"===p&&f.hide();d.effects.restore(f,A);l||("static"===z?f.css({position:"relative",top:f.to.top,left:f.to.left}):d.each(["top","left"],function(a,c){f.css(c,function(c,b){var d=parseInt(b,10),e=a?f.to.left:f.to.top;return"auto"===b?e+"px":d+e+"px"})}));d.effects.removeWrapper(f);k()}})}})(jQuery);
(function(d){d.effects.effect.shake=function(g,k){var h,q=d(this),e="position top bottom left right height width".split(" "),b=d.effects.setMode(q,g.mode||"effect"),a=g.direction||"left";h=g.distance||20;var c=g.times||3,f=2*c+1,m=Math.round(g.duration/f),v="up"===a||"down"===a?"top":"left",r="up"===a||"left"===a,a={},n={},w={},p=q.queue(),l=p.length;d.effects.save(q,e);q.show();d.effects.createWrapper(q);a[v]=(r?"-=":"+=")+h;n[v]=(r?"+=":"-=")+2*h;w[v]=(r?"-=":"+=")+2*h;q.animate(a,m,g.easing);for(h=
1;c>h;h++)q.animate(n,m,g.easing).animate(w,m,g.easing);q.animate(n,m,g.easing).animate(a,m/2,g.easing).queue(function(){"hide"===b&&q.hide();d.effects.restore(q,e);d.effects.removeWrapper(q);k()});1<l&&p.splice.apply(p,[1,0].concat(p.splice(l,f+1)));q.dequeue()}})(jQuery);
(function(d){d.effects.effect.slide=function(g,k){var h,q=d(this),e="position top bottom left right width height".split(" "),b=d.effects.setMode(q,g.mode||"show"),a="show"===b;h=g.direction||"left";var c="up"===h||"down"===h?"top":"left",f="up"===h||"left"===h,m={};d.effects.save(q,e);q.show();h=g.distance||q["top"===c?"outerHeight":"outerWidth"](!0);d.effects.createWrapper(q).css({overflow:"hidden"});a&&q.css(c,f?isNaN(h)?"-"+h:-h:h);m[c]=(a?f?"+=":"-=":f?"-=":"+=")+h;q.animate(m,{queue:!1,duration:g.duration,
easing:g.easing,complete:function(){"hide"===b&&q.hide();d.effects.restore(q,e);d.effects.removeWrapper(q);k()}})}})(jQuery);
(function(d){d.effects.effect.transfer=function(g,k){var h=d(this),q=d(g.to),e="fixed"===q.css("position"),b=d("body"),a=e?b.scrollTop():0,b=e?b.scrollLeft():0,c=q.offset(),q={top:c.top-a,left:c.left-b,height:q.innerHeight(),width:q.innerWidth()},c=h.offset(),f=d("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(g.className).css({top:c.top-a,left:c.left-b,height:h.innerHeight(),width:h.innerWidth(),position:e?"fixed":"absolute"}).animate(q,g.duration,g.easing,function(){f.remove();
k()})}})(jQuery);
(function(d){d.ui.timepicker=d.ui.timepicker||{};if(!d.ui.timepicker.version){d.extend(d.ui,{timepicker:{version:"1.2"}});var g=function(){this.regional=[];this.regional[""]={currentText:"Now",closeText:"Done",amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"HH:mm",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",timezoneText:"Time Zone",isRTL:!1};this._defaults={showButtonPanel:!0,timeOnly:!1,showHour:!0,
showMinute:!0,showSecond:!1,showMillisec:!1,showTimezone:!1,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,hour:0,minute:0,second:0,millisec:0,timezone:null,useLocalTimezone:!1,defaultTimezone:"+0000",hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,minDateTime:null,maxDateTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,altTimeFormat:null,altSeparator:null,
altTimeSuffix:null,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:!0,timezoneIso8601:!1,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null,controlType:"slider",defaultValue:null,parse:"strict"};d.extend(this._defaults,this.regional[""])};d.extend(g.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,timezone_select:null,hour:0,minute:0,second:0,millisec:0,timezone:null,defaultTimezone:"+0000",
hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec"],control:null,setDefaults:function(a){k(this._defaults,a||{});return this},_newInst:function(a,c){var b=new g,e={},h={},r,n;for(r in this._defaults)if(this._defaults.hasOwnProperty(r)){var w=a.attr("time:"+
r);if(w)try{e[r]=eval(w)}catch(p){e[r]=w}}r={beforeShow:function(c,e){if(d.isFunction(b._defaults.evnts.beforeShow))return b._defaults.evnts.beforeShow.call(a[0],c,e,b)},onChangeMonthYear:function(c,e,g){b._updateDateTime(g);d.isFunction(b._defaults.evnts.onChangeMonthYear)&&b._defaults.evnts.onChangeMonthYear.call(a[0],c,e,g,b)},onClose:function(c,e){!0===b.timeDefined&&""!==a.val()&&b._updateDateTime(e);d.isFunction(b._defaults.evnts.onClose)&&b._defaults.evnts.onClose.call(a[0],c,e,b)}};for(n in r)r.hasOwnProperty(n)&&
(h[n]=c[n]||null);b._defaults=d.extend({},this._defaults,e,c,r,{evnts:h,timepicker:b});b.amNames=d.map(b._defaults.amNames,function(a){return a.toUpperCase()});b.pmNames=d.map(b._defaults.pmNames,function(a){return a.toUpperCase()});"string"===typeof b._defaults.controlType?(void 0===d.fn[b._defaults.controlType]&&(b._defaults.controlType="select"),b.control=b._controls[b._defaults.controlType]):b.control=b._defaults.controlType;null===b._defaults.timezoneList&&(e="-1200 -1100 -1000 -0930 -0900 -0800 -0700 -0600 -0500 -0430 -0400 -0330 -0300 -0200 -0100 +0000 +0100 +0200 +0300 +0330 +0400 +0430 +0500 +0530 +0545 +0600 +0630 +0700 +0800 +0845 +0900 +0930 +1000 +1030 +1100 +1130 +1200 +1245 +1300 +1400".split(" "),
b._defaults.timezoneIso8601&&(e=d.map(e,function(a){return"+0000"==a?"Z":a.substring(0,3)+":"+a.substring(3)})),b._defaults.timezoneList=e);b.timezone=b._defaults.timezone;b.hour=b._defaults.hour<b._defaults.hourMin?b._defaults.hourMin:b._defaults.hour>b._defaults.hourMax?b._defaults.hourMax:b._defaults.hour;b.minute=b._defaults.minute<b._defaults.minuteMin?b._defaults.minuteMin:b._defaults.minute>b._defaults.minuteMax?b._defaults.minuteMax:b._defaults.minute;b.second=b._defaults.second<b._defaults.secondMin?
b._defaults.secondMin:b._defaults.second>b._defaults.secondMax?b._defaults.secondMax:b._defaults.second;b.millisec=b._defaults.millisec<b._defaults.millisecMin?b._defaults.millisecMin:b._defaults.millisec>b._defaults.millisecMax?b._defaults.millisecMax:b._defaults.millisec;b.ampm="";b.$input=a;c.altField&&(b.$altInput=d(c.altField).css({cursor:"pointer"}).focus(function(){a.trigger("focus")}));if(0===b._defaults.minDate||0===b._defaults.minDateTime)b._defaults.minDate=new Date;if(0===b._defaults.maxDate||
0===b._defaults.maxDateTime)b._defaults.maxDate=new Date;void 0!==b._defaults.minDate&&b._defaults.minDate instanceof Date&&(b._defaults.minDateTime=new Date(b._defaults.minDate.getTime()));void 0!==b._defaults.minDateTime&&b._defaults.minDateTime instanceof Date&&(b._defaults.minDate=new Date(b._defaults.minDateTime.getTime()));void 0!==b._defaults.maxDate&&b._defaults.maxDate instanceof Date&&(b._defaults.maxDateTime=new Date(b._defaults.maxDate.getTime()));void 0!==b._defaults.maxDateTime&&b._defaults.maxDateTime instanceof
Date&&(b._defaults.maxDate=new Date(b._defaults.maxDateTime.getTime()));b.$input.bind("focus",function(){b._onFocus()});return b},_addTimePicker:function(a){var c=this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val();this.timeDefined=this._parseTime(c);this._limitMinMaxDateTime(a,!1);this._injectTimePicker()},_parseTime:function(a,c){this.inst||(this.inst=d.datepicker._getInst(this.$input[0]));if(c||!this._defaults.timeOnly){var b=d.datepicker._get(this.inst,
"dateFormat");try{var g=e(b,this._defaults.timeFormat,a,d.datepicker._getFormatConfig(this.inst),this._defaults);if(!g.timeObj)return!1;d.extend(this,g.timeObj)}catch(h){return d.timepicker.log("Error parsing the date/time string: "+h+"\ndate/time string = "+a+"\ntimeFormat = "+this._defaults.timeFormat+"\ndateFormat = "+b),!1}}else{b=d.datepicker.parseTime(this._defaults.timeFormat,a,this._defaults);if(!b)return!1;d.extend(this,b)}return!0},_injectTimePicker:function(){var a=this.inst.dpDiv,c=this.inst.settings,
f=this,e="",g="",r={},n={},w=null;if(0===a.find("div.ui-timepicker-div").length&&c.showTimepicker){for(var w='<div class="ui-timepicker-div'+(c.isRTL?" ui-timepicker-rtl":"")+'"><dl><dt class="ui_tpicker_time_label"'+(c.showTime?"":' style="display:none;"')+">"+c.timeText+'</dt><dd class="ui_tpicker_time"'+(c.showTime?"":' style="display:none;"')+"></dd>",p=0,l=this.units.length;p<l;p++){e=this.units[p];g=e.substr(0,1).toUpperCase()+e.substr(1);r[e]=parseInt(c[e+"Max"]-(c[e+"Max"]-c[e+"Min"])%c["step"+
g],10);n[e]=0;w+='<dt class="ui_tpicker_'+e+'_label"'+(c["show"+g]?"":' style="display:none;"')+">"+c[e+"Text"]+'</dt><dd class="ui_tpicker_'+e+'"><div class="ui_tpicker_'+e+'_slider"'+(c["show"+g]?"":' style="display:none;"')+"></div>";if(c["show"+g]&&0<c[e+"Grid"]){w+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';if("hour"==e)for(g=c[e+"Min"];g<=r[e];g+=parseInt(c[e+"Grid"],10)){n[e]++;var x=d.datepicker.formatTime(h(c.pickerTimeFormat||c.timeFormat)?"hht":"HH",{hour:g},
c),w=w+('<td data-for="'+e+'">'+x+"</td>")}else for(g=c[e+"Min"];g<=r[e];g+=parseInt(c[e+"Grid"],10))n[e]++,w+='<td data-for="'+e+'">'+(10>g?"0":"")+g+"</td>";w+="</tr></table></div>"}w+="</dd>"}var w=w+('<dt class="ui_tpicker_timezone_label"'+(c.showTimezone?"":' style="display:none;"')+">"+c.timezoneText+"</dt>"),w=w+('<dd class="ui_tpicker_timezone" '+(c.showTimezone?"":' style="display:none;"')+"></dd>"),k=d(w+"</dl></div>");!0===c.timeOnly&&(k.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+
c.timeOnlyTitle+"</div></div>"),a.find(".ui-datepicker-header, .ui-datepicker-calendar").hide());p=0;for(l=f.units.length;p<l;p++)e=f.units[p],g=e.substr(0,1).toUpperCase()+e.substr(1),f[e+"_slider"]=f.control.create(f,k.find(".ui_tpicker_"+e+"_slider"),e,f[e],c[e+"Min"],r[e],c["step"+g]),c["show"+g]&&0<c[e+"Grid"]&&(w=100*n[e]*c[e+"Grid"]/(r[e]-c[e+"Min"]),k.find(".ui_tpicker_"+e+" table").css({width:w+"%",marginLeft:c.isRTL?"0":w/(-2*n[e])+"%",marginRight:c.isRTL?w/(-2*n[e])+"%":"0",borderCollapse:"collapse"}).find("td").click(function(a){var c=
d(this),b=c.html();a=parseInt(b.replace(/[^0-9]/g),10);b=b.replace(/[^apm]/ig);c=c.data("for");"hour"==c&&(-1!==b.indexOf("p")&&12>a?a+=12:-1!==b.indexOf("a")&&12===a&&(a=0));f.control.value(f,f[c+"_slider"],e,a);f._onTimeChange();f._onSelectHandler()}).css({cursor:"pointer",width:100/n[e]+"%",textAlign:"center",overflow:"hidden"}));this.timezone_select=k.find(".ui_tpicker_timezone").append("<select></select>").find("select");d.fn.append.apply(this.timezone_select,d.map(c.timezoneList,function(a,
c){return d("<option />").val("object"==typeof a?a.value:a).text("object"==typeof a?a.label:a)}));"undefined"!=typeof this.timezone&&null!==this.timezone&&""!==this.timezone?d.timepicker.timeZoneOffsetString(new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12))==this.timezone?b(f):this.timezone_select.val(this.timezone):"undefined"!=typeof this.hour&&null!==this.hour&&""!==this.hour?this.timezone_select.val(c.defaultTimezone):b(f);this.timezone_select.change(function(){f._defaults.useLocalTimezone=
!1;f._onTimeChange();f._onSelectHandler()});c=a.find(".ui-datepicker-buttonpane");c.length?c.before(k):a.append(k);this.$timeObj=k.find(".ui_tpicker_time");null!==this.inst&&(a=this.timeDefined,this._onTimeChange(),this.timeDefined=a);if(this._defaults.addSliderAccess){var z=this._defaults.sliderAccessArgs,A=this._defaults.isRTL;z.isRTL=A;setTimeout(function(){if(0===k.find(".ui-slider-access").length){k.find(".ui-slider:visible").sliderAccess(z);var a=k.find(".ui-slider-access:eq(0)").outerWidth(!0);
a&&k.find("table:visible").each(function(){var c=d(this),b=c.outerWidth(),f=c.css(A?"marginRight":"marginLeft").toString().replace("%",""),e=b-a,g={width:e,marginRight:0,marginLeft:0};g[A?"marginRight":"marginLeft"]=f*e/b+"%";c.css(g)})}},10)}}},_limitMinMaxDateTime:function(a,c){var b=this._defaults,e=new Date(a.selectedYear,a.selectedMonth,a.selectedDay);if(this._defaults.showTimepicker){if(null!==d.datepicker._get(a,"minDateTime")&&void 0!==d.datepicker._get(a,"minDateTime")&&e){var g=d.datepicker._get(a,
"minDateTime"),h=new Date(g.getFullYear(),g.getMonth(),g.getDate(),0,0,0,0);if(null===this.hourMinOriginal||null===this.minuteMinOriginal||null===this.secondMinOriginal||null===this.millisecMinOriginal)this.hourMinOriginal=b.hourMin,this.minuteMinOriginal=b.minuteMin,this.secondMinOriginal=b.secondMin,this.millisecMinOriginal=b.millisecMin;a.settings.timeOnly||h.getTime()==e.getTime()?(this._defaults.hourMin=g.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=
g.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=g.getSeconds(),this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=g.getMilliseconds()):(this.millisec<this._defaults.millisecMin&&(this.millisec=this._defaults.millisecMin),this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.minuteMin=
this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)}if(null!==d.datepicker._get(a,"maxDateTime")&&void 0!==d.datepicker._get(a,"maxDateTime")&&e){g=d.datepicker._get(a,"maxDateTime");h=new Date(g.getFullYear(),g.getMonth(),g.getDate(),
0,0,0,0);if(null===this.hourMaxOriginal||null===this.minuteMaxOriginal||null===this.secondMaxOriginal)this.hourMaxOriginal=b.hourMax,this.minuteMaxOriginal=b.minuteMax,this.secondMaxOriginal=b.secondMax,this.millisecMaxOriginal=b.millisecMax;a.settings.timeOnly||h.getTime()==e.getTime()?(this._defaults.hourMax=g.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=g.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,
this._defaults.secondMax=g.getSeconds(),this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=g.getMilliseconds()):(this.millisec>this._defaults.millisecMax&&(this.millisec=this._defaults.millisecMax),this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,
this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)}void 0!==c&&!0===c&&(b=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),e=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),g=parseInt(this._defaults.secondMax-
(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),h=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10),this.hour_slider&&(this.control.options(this,this.hour_slider,"hour",{min:this._defaults.hourMin,max:b}),this.control.value(this,this.hour_slider,"hour",this.hour-this.hour%this._defaults.stepHour)),this.minute_slider&&(this.control.options(this,this.minute_slider,"minute",{min:this._defaults.minuteMin,
max:e}),this.control.value(this,this.minute_slider,"minute",this.minute-this.minute%this._defaults.stepMinute)),this.second_slider&&(this.control.options(this,this.second_slider,"second",{min:this._defaults.secondMin,max:g}),this.control.value(this,this.second_slider,"second",this.second-this.second%this._defaults.stepSecond)),this.millisec_slider&&(this.control.options(this,this.millisec_slider,"millisec",{min:this._defaults.millisecMin,max:h}),this.control.value(this,this.millisec_slider,"millisec",
this.millisec-this.millisec%this._defaults.stepMillisec)))}},_onTimeChange:function(){var a=this.hour_slider?this.control.value(this,this.hour_slider,"hour"):!1,c=this.minute_slider?this.control.value(this,this.minute_slider,"minute"):!1,b=this.second_slider?this.control.value(this,this.second_slider,"second"):!1,e=this.millisec_slider?this.control.value(this,this.millisec_slider,"millisec"):!1,g=this.timezone_select?this.timezone_select.val():!1,r=this._defaults,n=r.pickerTimeFormat||r.timeFormat,
w=r.pickerTimeSuffix||r.timeSuffix;"object"==typeof a&&(a=!1);"object"==typeof c&&(c=!1);"object"==typeof b&&(b=!1);"object"==typeof e&&(e=!1);"object"==typeof g&&(g=!1);!1!==a&&(a=parseInt(a,10));!1!==c&&(c=parseInt(c,10));!1!==b&&(b=parseInt(b,10));!1!==e&&(e=parseInt(e,10));var p=r[12>a?"amNames":"pmNames"][0],l=a!=this.hour||c!=this.minute||b!=this.second||e!=this.millisec||0<this.ampm.length&&12>a!=(-1!==d.inArray(this.ampm.toUpperCase(),this.amNames))||null===this.timezone&&g!=this.defaultTimezone||
null!==this.timezone&&g!=this.timezone;l&&(!1!==a&&(this.hour=a),!1!==c&&(this.minute=c),!1!==b&&(this.second=b),!1!==e&&(this.millisec=e),!1!==g&&(this.timezone=g),this.inst||(this.inst=d.datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0));h(r.timeFormat)&&(this.ampm=p);this.formattedTime=d.datepicker.formatTime(r.timeFormat,this,r);this.$timeObj&&(n===r.timeFormat?this.$timeObj.text(this.formattedTime+w):this.$timeObj.text(d.datepicker.formatTime(n,this,r)+w));this.timeDefined=
!0;l&&this._updateDateTime()},_onSelectHandler:function(){var a=this._defaults.onSelect||this.inst.settings.onSelect,c=this.$input?this.$input[0]:null;a&&c&&a.apply(c,[this.formattedDateTime,this])},_updateDateTime:function(a){a=this.inst||a;var c=d.datepicker._daylightSavingAdjust(new Date(a.selectedYear,a.selectedMonth,a.selectedDay)),b=d.datepicker._get(a,"dateFormat"),e=d.datepicker._getFormatConfig(a),g=null!==c&&this.timeDefined,b=this.formattedDate=d.datepicker.formatDate(b,null===c?new Date:
c,e);""==a.lastVal&&(a.currentYear=a.selectedYear,a.currentMonth=a.selectedMonth,a.currentDay=a.selectedDay);!0===this._defaults.timeOnly?b=this.formattedTime:!0!==this._defaults.timeOnly&&(this._defaults.alwaysSetTime||g)&&(b+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix);this.formattedDateTime=b;this._defaults.showTimepicker?this.$altInput&&!0===this._defaults.altFieldTimeOnly?(this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate)):this.$altInput?(this.$input.val(b),
a="",g=this._defaults.altSeparator?this._defaults.altSeparator:this._defaults.separator,b=this._defaults.altTimeSuffix?this._defaults.altTimeSuffix:this._defaults.timeSuffix,(a=this._defaults.altFormat?d.datepicker.formatDate(this._defaults.altFormat,null===c?new Date:c,e):this.formattedDate)&&(a+=g),a=this._defaults.altTimeFormat?a+(d.datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+b):a+(this.formattedTime+b),this.$altInput.val(a)):this.$input.val(b):this.$input.val(this.formattedDate);
this.$input.trigger("change")},_onFocus:function(){if(!this.$input.val()&&this._defaults.defaultValue){this.$input.val(this._defaults.defaultValue);var a=d.datepicker._getInst(this.$input.get(0)),c=d.datepicker._get(a,"timepicker");if(c&&c._defaults.timeOnly&&a.input.val()!=a.lastVal)try{d.datepicker._updateDatepicker(a)}catch(b){d.timepicker.log(b)}}},_controls:{slider:{create:function(a,c,b,e,g,h,n){var w=a._defaults.isRTL;return c.prop("slide",null).slider({orientation:"horizontal",value:w?-1*
e:e,min:w?-1*h:g,max:w?-1*g:h,step:n,slide:function(c,e){a.control.value(a,d(this),b,w?-1*e.value:e.value);a._onTimeChange()},stop:function(c,b){a._onSelectHandler()}})},options:function(a,c,b,d,e){if(a._defaults.isRTL){if("string"==typeof d)return"min"==d||"max"==d?void 0!==e?c.slider(d,-1*e):Math.abs(c.slider(d)):c.slider(d);a=d.min;b=d.max;d.min=d.max=null;void 0!==a&&(d.max=-1*a);void 0!==b&&(d.min=-1*b);return c.slider(d)}return"string"==typeof d&&void 0!==e?c.slider(d,e):c.slider(d)},value:function(a,
c,b,d){return a._defaults.isRTL?void 0!==d?c.slider("value",-1*d):Math.abs(c.slider("value")):void 0!==d?c.slider("value",d):c.slider("value")}},select:{create:function(a,c,b,e,g,r,n){var w='<select class="ui-timepicker-select" data-unit="'+b+'" data-min="'+g+'" data-max="'+r+'" data-step="'+n+'">';for(a._defaults.timeFormat.indexOf("t");g<=r;g+=n)w+='<option value="'+g+'"'+(g==e?" selected":"")+">",w="hour"==b&&h(a._defaults.pickerTimeFormat||a._defaults.timeFormat)?w+d.datepicker.formatTime("hh TT",
{hour:g},a._defaults):"millisec"==b||10<=g?w+g:w+("0"+g.toString()),w+="</option>";w+="</select>";c.children("select").remove();d(w).appendTo(c).change(function(c){a._onTimeChange();a._onSelectHandler()});return c},options:function(a,c,b,d,e){b={};var g=c.children("select");if("string"==typeof d){if(void 0===e)return g.data(d);b[d]=e}else b=d;return a.control.create(a,c,g.data("unit"),g.val(),b.min||g.data("min"),b.max||g.data("max"),b.step||g.data("step"))},value:function(a,c,b,d){a=c.children("select");
return void 0!==d?a.val(d):a.val()}}}});d.fn.extend({timepicker:function(a){a=a||{};var c=Array.prototype.slice.call(arguments);"object"==typeof a&&(c[0]=d.extend(a,{timeOnly:!0}));return d(this).each(function(){d.fn.datetimepicker.apply(d(this),c)})},datetimepicker:function(a){a=a||{};var c=arguments;return"string"==typeof a?"getDate"==a?d.fn.datepicker.apply(d(this[0]),c):this.each(function(){var a=d(this);a.datepicker.apply(a,c)}):this.each(function(){var c=d(this);c.datepicker(d.timepicker._newInst(c,
a)._defaults)})}});d.datepicker.parseDateTime=function(a,c,b,d,g){a=e(a,c,b,d,g);a.timeObj&&(c=a.timeObj,a.date.setHours(c.hour,c.minute,c.second,c.millisec));return a.date};d.datepicker.parseTime=function(a,c,b){b=k(k({},d.timepicker._defaults),b||{});var e=function(a,c,b){var f=function(a,c){var b=[];a&&d.merge(b,a);c&&d.merge(b,c);b=d.map(b,function(a){return a.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")});return"("+b.join("|")+")?"},e="^"+a.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[lz]|'.*?')/g,
function(a){var c=a.length;switch(a.charAt(0).toLowerCase()){case "h":return 1===c?"(\\d?\\d)":"(\\d{"+c+"})";case "m":return 1===c?"(\\d?\\d)":"(\\d{"+c+"})";case "s":return 1===c?"(\\d?\\d)":"(\\d{"+c+"})";case "l":return"(\\d?\\d?\\d)";case "z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";case "t":return f(b.amNames,b.pmNames);default:return"("+a.replace(/\'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,function(a){return"\\"+a})+")?"}}).replace(/\s/g,"\\s?")+b.timeSuffix+"$";a=function(a){a=
a.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|t{1,2}|z|'.*?')/g);var c={h:-1,m:-1,s:-1,l:-1,t:-1,z:-1};if(a)for(var b=0;b<a.length;b++)-1==c[a[b].toString().charAt(0)]&&(c[a[b].toString().charAt(0)]=b+1);return c}(a);var g="",e=c.match(new RegExp(e,"i"));c={hour:0,minute:0,second:0,millisec:0};if(e){-1!==a.t&&(void 0===e[a.t]||0===e[a.t].length?(g="",c.ampm=""):(g=-1!==d.inArray(e[a.t].toUpperCase(),b.amNames)?"AM":"PM",c.ampm=b["AM"==g?"amNames":"pmNames"][0]));-1!==a.h&&(c.hour="AM"==g&&"12"==
e[a.h]?0:"PM"==g&&"12"!=e[a.h]?parseInt(e[a.h],10)+12:Number(e[a.h]));-1!==a.m&&(c.minute=Number(e[a.m]));-1!==a.s&&(c.second=Number(e[a.s]));-1!==a.l&&(c.millisec=Number(e[a.l]));if(-1!==a.z&&void 0!==e[a.z]){a=e[a.z].toUpperCase();switch(a.length){case 1:a=b.timezoneIso8601?"Z":"+0000";break;case 5:b.timezoneIso8601&&(a="0000"==a.substring(1)?"Z":a.substring(0,3)+":"+a.substring(3));break;case 6:b.timezoneIso8601?"00:00"==a.substring(1)&&(a="Z"):a="Z"==a||"00:00"==a.substring(1)?"+0000":a.replace(/:/,
"")}c.timezone=a}return c}return!1},g=function(a,c,b){try{var f=new Date("2012-01-01 "+c);if(isNaN(f.getTime())&&(f=new Date("2012-01-01T"+c),isNaN(f.getTime())&&(f=new Date("01/01/2012 "+c),isNaN(f.getTime()))))throw"Unable to parse time with native Date: "+c;return{hour:f.getHours(),minute:f.getMinutes(),second:f.getSeconds(),millisec:f.getMilliseconds(),timezone:d.timepicker.timeZoneOffsetString(f)}}catch(g){try{return e(a,c,b)}catch(h){d.timepicker.log("Unable to parse \ntimeString: "+c+"\ntimeFormat: "+
a)}}return!1};return"function"===typeof b.parse?b.parse(a,c,b):"loose"===b.parse?g(a,c,b):e(a,c,b)};d.datepicker.formatTime=function(a,c,b){b=b||{};b=d.extend({},d.timepicker._defaults,b);c=d.extend({hour:0,minute:0,second:0,millisec:0,timezone:"+0000"},c);var e=b.amNames[0],g=parseInt(c.hour,10);11<g&&(e=b.pmNames[0]);a=a.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[lz]|('.*?'|".*?"))/g,function(a){switch(a){case "HH":return("0"+g).slice(-2);case "H":return g;case "hh":return("0"+q(g)).slice(-2);case "h":return q(g);
case "mm":return("0"+c.minute).slice(-2);case "m":return c.minute;case "ss":return("0"+c.second).slice(-2);case "s":return c.second;case "l":return("00"+c.millisec).slice(-3);case "z":return null===c.timezone?b.defaultTimezone:c.timezone;case "T":return e.charAt(0).toUpperCase();case "TT":return e.toUpperCase();case "t":return e.charAt(0).toLowerCase();case "tt":return e.toLowerCase();default:return a.replace(/\'/g,"")||"'"}});return a=d.trim(a)};d.datepicker._base_selectDate=d.datepicker._selectDate;
d.datepicker._selectDate=function(a,c){var b=this._getInst(d(a)[0]),e=this._get(b,"timepicker");e?(e._limitMinMaxDateTime(b,!0),b.inline=b.stay_open=!0,this._base_selectDate(a,c),b.inline=b.stay_open=!1,this._notifyChange(b),this._updateDatepicker(b)):this._base_selectDate(a,c)};d.datepicker._base_updateDatepicker=d.datepicker._updateDatepicker;d.datepicker._updateDatepicker=function(a){var c=a.input[0];if(!d.datepicker._curInst||d.datepicker._curInst==a||!d.datepicker._datepickerShowing||d.datepicker._lastInput==
c)if("boolean"!==typeof a.stay_open||!1===a.stay_open)this._base_updateDatepicker(a),(c=this._get(a,"timepicker"))&&c._addTimePicker(a)};d.datepicker._base_doKeyPress=d.datepicker._doKeyPress;d.datepicker._doKeyPress=function(a){var c=d.datepicker._getInst(a.target),b=d.datepicker._get(c,"timepicker");if(b&&d.datepicker._get(c,"constrainInput")){var e=h(b._defaults.timeFormat),c=d.datepicker._possibleChars(d.datepicker._get(c,"dateFormat")),b=b._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,
e?"APM":"").replace(/Tt/g,e?"AaPpMm":"").replace(/tT/g,e?"AaPpMm":"").replace(/T/g,e?"AP":"").replace(/tt/g,e?"apm":"").replace(/t/g,e?"ap":"")+" "+b._defaults.separator+b._defaults.timeSuffix+(b._defaults.showTimezone?b._defaults.timezoneList.join(""):"")+b._defaults.amNames.join("")+b._defaults.pmNames.join("")+c,e=String.fromCharCode(void 0===a.charCode?a.keyCode:a.charCode);return a.ctrlKey||" ">e||!c||-1<b.indexOf(e)}return d.datepicker._base_doKeyPress(a)};d.datepicker._base_updateAlternate=
d.datepicker._updateAlternate;d.datepicker._updateAlternate=function(a){var c=this._get(a,"timepicker");if(c){var b=c._defaults.altField;if(b){var e=this._getDate(a);a=d.datepicker._getFormatConfig(a);var g,h=c._defaults.altSeparator?c._defaults.altSeparator:c._defaults.separator;g=c._defaults.altTimeSuffix?c._defaults.altTimeSuffix:c._defaults.timeSuffix;g=""+(d.datepicker.formatTime(null!==c._defaults.altTimeFormat?c._defaults.altTimeFormat:c._defaults.timeFormat,c,c._defaults)+g);c._defaults.timeOnly||
c._defaults.altFieldTimeOnly||null===e||(g=c._defaults.altFormat?d.datepicker.formatDate(c._defaults.altFormat,e,a)+h+g:c.formattedDate+h+g);d(b).val(g)}}else d.datepicker._base_updateAlternate(a)};d.datepicker._base_doKeyUp=d.datepicker._doKeyUp;d.datepicker._doKeyUp=function(a){var c=d.datepicker._getInst(a.target),b=d.datepicker._get(c,"timepicker");if(b&&b._defaults.timeOnly&&c.input.val()!=c.lastVal)try{d.datepicker._updateDatepicker(c)}catch(e){d.timepicker.log(e)}return d.datepicker._base_doKeyUp(a)};
d.datepicker._base_gotoToday=d.datepicker._gotoToday;d.datepicker._gotoToday=function(a){var c=this._getInst(d(a)[0]),f=c.dpDiv;this._base_gotoToday(a);a=this._get(c,"timepicker");b(a);this._setTime(c,new Date);d(".ui-datepicker-today",f).click()};d.datepicker._disableTimepickerDatepicker=function(a){var c=this._getInst(a);if(c){var b=this._get(c,"timepicker");d(a).datepicker("getDate");b&&(b._defaults.showTimepicker=!1,b._updateDateTime(c))}};d.datepicker._enableTimepickerDatepicker=function(a){var c=
this._getInst(a);if(c){var b=this._get(c,"timepicker");d(a).datepicker("getDate");b&&(b._defaults.showTimepicker=!0,b._addTimePicker(c),b._updateDateTime(c))}};d.datepicker._setTime=function(a,c){var b=this._get(a,"timepicker");if(b){var d=b._defaults;b.hour=c?c.getHours():d.hour;b.minute=c?c.getMinutes():d.minute;b.second=c?c.getSeconds():d.second;b.millisec=c?c.getMilliseconds():d.millisec;b._limitMinMaxDateTime(a,!0);b._onTimeChange();b._updateDateTime(a)}};d.datepicker._setTimeDatepicker=function(a,
c,b){if(a=this._getInst(a)){var d=this._get(a,"timepicker");d&&(this._setDateFromField(a),c&&("string"==typeof c?(d._parseTime(c,b),c=new Date,c.setHours(d.hour,d.minute,d.second,d.millisec)):c=new Date(c.getTime()),"Invalid Date"==c.toString()&&(c=void 0),this._setTime(a,c)))}};d.datepicker._base_setDateDatepicker=d.datepicker._setDateDatepicker;d.datepicker._setDateDatepicker=function(a,c){var b=this._getInst(a);if(b){var d=c instanceof Date?new Date(c.getTime()):c;this._updateDatepicker(b);this._base_setDateDatepicker.apply(this,
arguments);this._setTimeDatepicker(a,d,!0)}};d.datepicker._base_getDateDatepicker=d.datepicker._getDateDatepicker;d.datepicker._getDateDatepicker=function(a,c){var b=this._getInst(a);if(b){var e=this._get(b,"timepicker");return e?(void 0===b.lastVal&&this._setDateFromField(b,c),(b=this._getDate(b))&&e._parseTime(d(a).val(),e.timeOnly)&&b.setHours(e.hour,e.minute,e.second,e.millisec),b):this._base_getDateDatepicker(a,c)}};d.datepicker._base_parseDate=d.datepicker.parseDate;d.datepicker.parseDate=function(a,
c,b){var e;try{e=this._base_parseDate(a,c,b)}catch(g){e=this._base_parseDate(a,c.substring(0,c.length-(g.length-g.indexOf(":")-2)),b),d.timepicker.log("Error parsing the date string: "+g+"\ndate string = "+c+"\ndate format = "+a)}return e};d.datepicker._base_formatDate=d.datepicker._formatDate;d.datepicker._formatDate=function(a,c,b,d){return(c=this._get(a,"timepicker"))?(c._updateDateTime(a),c.$input.val()):this._base_formatDate(a)};d.datepicker._base_optionDatepicker=d.datepicker._optionDatepicker;
d.datepicker._optionDatepicker=function(a,c,b){var e=this._getInst(a),g;if(!e)return null;if(e=this._get(e,"timepicker")){var h=null,n=null,w=null,p=e._defaults.evnts,l={},x;if("string"==typeof c)if("minDate"===c||"minDateTime"===c)h=b;else if("maxDate"===c||"maxDateTime"===c)n=b;else if("onSelect"===c)w=b;else{if(p.hasOwnProperty(c)){if("undefined"===typeof b)return p[c];l[c]=b;g={}}}else if("object"==typeof c)for(x in c.minDate?h=c.minDate:c.minDateTime?h=c.minDateTime:c.maxDate?n=c.maxDate:c.maxDateTime&&
(n=c.maxDateTime),p)p.hasOwnProperty(x)&&c[x]&&(l[x]=c[x]);for(x in l)l.hasOwnProperty(x)&&(p[x]=l[x],g||(g=d.extend({},c)),delete g[x]);if(x=g)a:{x=g;for(var k in x)if(x.hasOwnProperty(x)){x=!1;break a}x=!0}if(x)return;h?(h=0===h?new Date:new Date(h),e._defaults.minDate=h,e._defaults.minDateTime=h):n?(n=0===n?new Date:new Date(n),e._defaults.maxDate=n,e._defaults.maxDateTime=n):w&&(e._defaults.onSelect=w)}return void 0===b?this._base_optionDatepicker.call(d.datepicker,a,c):this._base_optionDatepicker.call(d.datepicker,
a,g||c,b)};var k=function(a,c){d.extend(a,c);for(var b in c)if(null===c[b]||void 0===c[b])a[b]=c[b];return a},h=function(a){return-1!==a.indexOf("t")&&-1!==a.indexOf("h")},q=function(a){12<a&&(a-=12);0==a&&(a=12);return String(a)},e=function(a,c,b,e,g){var h;a:{try{var n=g&&g.separator?g.separator:d.timepicker._defaults.separator,w=(g&&g.timeFormat?g.timeFormat:d.timepicker._defaults.timeFormat).split(n).length,p=b.split(n),l=p.length;if(1<l){h=[p.splice(0,l-w).join(n),p.splice(0,w).join(n)];break a}}catch(x){if(d.timepicker.log("Could not split the date from the time. Please check the following datetimepicker options\nthrown error: "+
x+"\ndateTimeString"+b+"\ndateFormat = "+a+"\nseparator = "+g.separator+"\ntimeFormat = "+g.timeFormat),0<=x.indexOf(":")){h=b.length-(x.length-x.indexOf(":")-2);b.substring(h);h=[d.trim(b.substring(0,h)),d.trim(b.substring(h))];break a}else throw x;}h=[b,""]}a=d.datepicker._base_parseDate(a,h[0],e);if(""!==h[1]){c=d.datepicker.parseTime(c,h[1],g);if(null===c)throw"Wrong time format";return{date:a,timeObj:c}}return{date:a}},b=function(a,c){if(a&&a.timezone_select){a._defaults.useLocalTimezone=!0;
var b=d.timepicker.timeZoneOffsetString("undefined"!==typeof c?c:new Date);a._defaults.timezoneIso8601&&(b=b.substring(0,3)+":"+b.substring(3));a.timezone_select.val(b)}};d.timepicker=new g;d.timepicker.timeZoneOffsetString=function(a){a=-1*a.getTimezoneOffset();var c=a%60;return(0<=a?"+":"-")+("0"+((a-c)/60*101).toString()).slice(-2)+("0"+(101*c).toString()).slice(-2)};d.timepicker.timeRange=function(a,c,b){return d.timepicker.handleRange("timepicker",a,c,b)};d.timepicker.dateTimeRange=function(a,
c,b){d.timepicker.dateRange(a,c,b,"datetimepicker")};d.timepicker.dateRange=function(a,c,b,e){d.timepicker.handleRange(e||"datepicker",a,c,b)};d.timepicker.handleRange=function(a,c,b,e){function g(a,d,e){d.val()&&new Date(c.val())>new Date(b.val())&&d.val(e)}function h(c,b,f){d(c).val()&&(c=d(c)[a].call(d(c),"getDate"),c.getTime&&d(b)[a].call(d(b),"option",f,c))}d.fn[a].call(c,d.extend({onClose:function(a,c){g(this,b,a)},onSelect:function(a){h(this,b,"minDate")}},e,e.start));d.fn[a].call(b,d.extend({onClose:function(a,
b){g(this,c,a)},onSelect:function(a){h(this,c,"maxDate")}},e,e.end));"timepicker"!=a&&e.reformat&&d([c,b]).each(function(){var c=d(this)[a].call(d(this),"option","dateFormat"),b=new Date(d(this).val());d(this).val()&&b&&d(this).val(d.datepicker.formatDate(c,b))});g(c,b,c.val());h(c,b,"minDate");h(b,c,"maxDate");return d([c.get(0),b.get(0)])};d.timepicker.log=function(a){window.console&&console.log(a)};d.timepicker.version="1.2"}})(jQuery);
(function(d,g,k){function h(a){return a}function q(a){return decodeURIComponent(a.replace(e," "))}var e=/\+/g,b=d.cookie=function(a,c,f){if(c!==k){f=d.extend({},b.defaults,f);null===c&&(f.expires=-1);if("number"===typeof f.expires){var e=f.expires,v=f.expires=new Date;v.setDate(v.getDate()+e)}c=b.json?JSON.stringify(c):String(c);return g.cookie=[encodeURIComponent(a),"=",b.raw?c:encodeURIComponent(c),f.expires?"; expires="+f.expires.toUTCString():"",f.path?"; path="+f.path:"",f.domain?"; domain="+
f.domain:"",f.secure?"; secure":""].join("")}c=b.raw?h:q;f=g.cookie.split("; ");e=0;for(v=f.length;e<v;e++){var r=f[e].split("=");if(c(r.shift())===a)return a=c(r.join("=")),b.json?JSON.parse(a):a}return null};b.defaults={};d.removeCookie=function(a,c){return null!==d.cookie(a)?(d.cookie(a,null,c),!0):!1}})(jQuery,document);
(function(){var d,g,k,h,q={}.hasOwnProperty,e=function(b,a){function c(){this.constructor=b}for(var f in a)q.call(a,f)&&(b[f]=a[f]);return c.prototype=a.prototype,b.prototype=new c,b.__super__=a.prototype,b};h=function(){function b(){this.options_index=0;this.parsed=[]}return b.prototype.add_node=function(a){return"OPTGROUP"===a.nodeName.toUpperCase()?this.add_group(a):this.add_option(a)},b.prototype.add_group=function(a){var c,b,d,e,g,h;c=this.parsed.length;this.parsed.push({array_index:c,group:!0,
label:this.escapeExpression(a.label),title:a.title?a.title:void 0,children:0,disabled:a.disabled,classes:a.className});g=a.childNodes;h=[];d=0;for(e=g.length;e>d;d++)b=g[d],h.push(this.add_option(b,c,a.disabled));return h},b.prototype.add_option=function(a,c,b){return"OPTION"===a.nodeName.toUpperCase()?(""!==a.text?(null!=c&&(this.parsed[c].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:a.value,text:a.text,html:a.innerHTML,title:a.title?a.title:
void 0,selected:a.selected,disabled:!0===b?b:a.disabled,group_array_index:c,group_label:null!=c?this.parsed[c].label:null,classes:a.className,style:a.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},b.prototype.escapeExpression=function(a){var c,b;return null==a||!1===a?"":/[\&\<\>\"\'\`]/.test(a)?(c={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},b=/&(?!\w+;)|[\<\>\"\'\`]/g,a.replace(b,function(a){return c[a]||
"&amp;"})):a},b}();h.select_to_array=function(b){var a,c,f,d;a=new h;d=b.childNodes;c=0;for(f=d.length;f>c;c++)b=d[c],a.add_node(b);return a.parsed};g=function(){function b(a,c){this.form_field=a;this.options=null!=c?c:{};b.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return b.prototype.set_default_values=function(){var a=this;return this.click_test_action=
function(c){return a.test_active_click(c)},this.activate_action=function(c){return a.activate_field(c)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||
!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=
null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1},b.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||
this.options.placeholder_text||b.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||b.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||b.default_no_result_text},b.prototype.choice_label=function(a){return this.include_group_label_in_selected&&null!=a.group_label?"<b class='group-name'>"+a.group_label+"</b>"+a.html:a.html},b.prototype.mouse_enter=function(){return this.mouse_on_container=
!0},b.prototype.mouse_leave=function(){return this.mouse_on_container=!1},b.prototype.input_focus=function(){var a=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return a.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},b.prototype.input_blur=function(){var a=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return a.blur_test()},100))},b.prototype.results_option_build=function(a){var c,b,d,e,g;c=
"";g=this.results_data;d=0;for(e=g.length;e>d;d++)b=g[d],c+=b.group?this.result_add_group(b):this.result_add_option(b),null!=a&&a.first&&(b.selected&&this.is_multiple?this.choice_build(b):b.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(b)));return c},b.prototype.result_add_option=function(a){var c,b;return a.search_match?this.include_option_in_results(a)?(c=[],a.disabled||a.selected&&this.is_multiple||c.push("active-result"),!a.disabled||a.selected&&this.is_multiple||
c.push("disabled-result"),a.selected&&c.push("result-selected"),null!=a.group_array_index&&c.push("group-option"),""!==a.classes&&c.push(a.classes),b=document.createElement("li"),b.className=c.join(" "),b.style.cssText=a.style,b.setAttribute("data-option-array-index",a.array_index),b.innerHTML=a.search_text,a.title&&(b.title=a.title),this.outerHTML(b)):"":""},b.prototype.result_add_group=function(a){var c,b;return a.search_match||a.group_match?0<a.active_options?(c=[],c.push("group-result"),a.classes&&
c.push(a.classes),b=document.createElement("li"),b.className=c.join(" "),b.innerHTML=a.search_text,a.title&&(b.title=a.title),this.outerHTML(b)):"":""},b.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},b.prototype.reset_single_select_options=function(){var a,c,b,d,e;d=this.results_data;e=[];c=0;for(b=d.length;b>c;c++)a=d[c],a.selected?
e.push(a.selected=!1):e.push(void 0);return e},b.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},b.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},b.prototype.winnow_results=function(){var a,c,b,d,e,g,h,w,p,l,x;this.no_results_clear();b=0;e=this.get_search_text();a=e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");w=new RegExp(a,"i");c=this.get_search_regex(a);x=this.results_data;p=0;for(l=
x.length;l>p;p++)a=x[p],a.search_match=!1,d=null,this.include_option_in_results(a)&&(a.group&&(a.group_match=!1,a.active_options=0),null!=a.group_array_index&&this.results_data[a.group_array_index]&&(d=this.results_data[a.group_array_index],0===d.active_options&&d.search_match&&(b+=1),d.active_options+=1),a.search_text=a.group?a.label:a.html,(!a.group||this.group_search)&&(a.search_match=this.search_string_match(a.search_text,c),a.search_match&&!a.group&&(b+=1),a.search_match?(e.length&&(g=a.search_text.search(w),
h=a.search_text.substr(0,g+e.length)+"</em>"+a.search_text.substr(g+e.length),a.search_text=h.substr(0,g)+"<em>"+h.substr(g)),null!=d&&(d.group_match=!0)):null!=a.group_array_index&&this.results_data[a.group_array_index].search_match&&(a.search_match=!0)));return this.result_clear_highlight(),1>b&&e.length?(this.update_results_content(""),this.no_results(e)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},b.prototype.get_search_regex=function(a){var c;
return c=this.search_contains?"":"^",new RegExp(c+a,"i")},b.prototype.search_string_match=function(a,c){var b,d,e,g;if(c.test(a))return!0;if(this.enable_split_word_search&&(0<=a.indexOf(" ")||0===a.indexOf("["))&&(d=a.replace(/\[|\]/g,"").split(" "),d.length))for(e=0,g=d.length;g>e;e++)if(b=d[e],c.test(b))return!0},b.prototype.choices_count=function(){var a,c,b,d;if(null!=this.selected_option_count)return this.selected_option_count;this.selected_option_count=0;d=this.form_field.options;c=0;for(b=
d.length;b>c;c++)a=d[c],a.selected&&(this.selected_option_count+=1);return this.selected_option_count},b.prototype.choices_click=function(a){return a.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},b.prototype.keyup_checker=function(a){var c,b;switch(c=null!=(b=a.which)?b:a.keyCode,this.search_field_scale(),c){case 8:if(this.is_multiple&&1>this.backstroke_length&&0<this.choices_count())return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),
this.results_search();break;case 13:if(a.preventDefault(),this.results_showing)return this.result_select(a);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},b.prototype.clipboard_event_checker=function(){var a=this;return setTimeout(function(){return a.results_search()},50)},b.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+
"px"},b.prototype.include_option_in_results=function(a){return this.is_multiple&&!this.display_selected_options&&a.selected?!1:!this.display_disabled_options&&a.disabled?!1:a.empty?!1:!0},b.prototype.search_results_touchstart=function(a){return this.touch_started=!0,this.search_results_mouseover(a)},b.prototype.search_results_touchmove=function(a){return this.touch_started=!1,this.search_results_mouseout(a)},b.prototype.search_results_touchend=function(a){return this.touch_started?this.search_results_mouseup(a):
void 0},b.prototype.outerHTML=function(a){var c;return a.outerHTML?a.outerHTML:(c=document.createElement("div"),c.appendChild(a),c.innerHTML)},b.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?8<=document.documentMode:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0},b.default_multiple_text="Select Some Options",b.default_single_text="Select an Option",b.default_no_result_text=
"No results match",b}();d=jQuery;d.fn.extend({chosen:function(b){return g.browser_is_supported()?this.each(function(){var a,c;a=d(this);c=a.data("chosen");"destroy"===b&&c instanceof k?c.destroy():c instanceof k||a.data("chosen",new k(this,b))}):this}});k=function(b){function a(){return a.__super__.constructor.apply(this,arguments)}return e(a,b),a.prototype.setup=function(){return this.form_field_jq=d(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},
a.prototype.set_up_html=function(){var a,b;return a=["chosen-container"],a.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&a.push(this.form_field.className),this.is_rtl&&a.push("chosen-rtl"),b={"class":a.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(b.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=d("<div />",b),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+
this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),
this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),
this.results_build(),this.set_tab_index(),this.set_label_behavior()},a.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},a.prototype.register_observers=function(){var a=this;return this.container.bind("touchstart.chosen",function(b){return a.container_mousedown(b),b.preventDefault()}),this.container.bind("touchend.chosen",function(b){return a.container_mouseup(b),b.preventDefault()}),this.container.bind("mousedown.chosen",function(b){a.container_mousedown(b)}),
this.container.bind("mouseup.chosen",function(b){a.container_mouseup(b)}),this.container.bind("mouseenter.chosen",function(b){a.mouse_enter(b)}),this.container.bind("mouseleave.chosen",function(b){a.mouse_leave(b)}),this.search_results.bind("mouseup.chosen",function(b){a.search_results_mouseup(b)}),this.search_results.bind("mouseover.chosen",function(b){a.search_results_mouseover(b)}),this.search_results.bind("mouseout.chosen",function(b){a.search_results_mouseout(b)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",
function(b){a.search_results_mousewheel(b)}),this.search_results.bind("touchstart.chosen",function(b){a.search_results_touchstart(b)}),this.search_results.bind("touchmove.chosen",function(b){a.search_results_touchmove(b)}),this.search_results.bind("touchend.chosen",function(b){a.search_results_touchend(b)}),this.form_field_jq.bind("chosen:updated.chosen",function(b){a.results_update_field(b)}),this.form_field_jq.bind("chosen:activate.chosen",function(b){a.activate_field(b)}),this.form_field_jq.bind("chosen:open.chosen",
function(b){a.container_mousedown(b)}),this.form_field_jq.bind("chosen:close.chosen",function(b){a.input_blur(b)}),this.search_field.bind("blur.chosen",function(b){a.input_blur(b)}),this.search_field.bind("keyup.chosen",function(b){a.keyup_checker(b)}),this.search_field.bind("keydown.chosen",function(b){a.keydown_checker(b)}),this.search_field.bind("focus.chosen",function(b){a.input_focus(b)}),this.search_field.bind("cut.chosen",function(b){a.clipboard_event_checker(b)}),this.search_field.bind("paste.chosen",
function(b){a.clipboard_event_checker(b)}),this.is_multiple?this.search_choices.bind("click.chosen",function(b){a.choices_click(b)}):this.container.bind("click.chosen",function(a){a.preventDefault()})},a.prototype.destroy=function(){return d(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},
a.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},a.prototype.container_mousedown=function(a){return this.is_disabled||
(a&&"mousedown"===a.type&&!this.results_showing&&a.preventDefault(),null!=a&&d(a.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!a||d(a.target)[0]!==this.selected_item[0]&&!d(a.target).parents("a.chosen-single").length||(a.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),d(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},a.prototype.container_mouseup=function(a){return"ABBR"!==
a.target.nodeName||this.is_disabled?void 0:this.results_reset(a)},a.prototype.search_results_mousewheel=function(a){var b;return a.originalEvent&&(b=a.originalEvent.deltaY||-a.originalEvent.wheelDelta||a.originalEvent.detail),null!=b?(a.preventDefault(),"DOMMouseScroll"===a.type&&(b*=40),this.search_results.scrollTop(b+this.search_results.scrollTop())):void 0},a.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},a.prototype.close_field=
function(){return d(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},a.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},a.prototype.test_active_click=function(a){var b;
return b=d(a.target).closest(".chosen-container"),b.length&&this.container[0]===b[0]?this.active_field=!0:this.close_field()},a.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=h.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=
!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},a.prototype.result_do_highlight=function(a){var b,d,e,g,h;if(a.length){if(this.result_clear_highlight(),this.result_highlight=a,this.result_highlight.addClass("highlighted"),
e=parseInt(this.search_results.css("maxHeight"),10),h=this.search_results.scrollTop(),g=e+h,d=this.result_highlight.position().top+this.search_results.scrollTop(),b=d+this.result_highlight.outerHeight(),b>=g)return this.search_results.scrollTop(0<b-e?b-e:0);if(h>d)return this.search_results.scrollTop(d)}},a.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},a.prototype.results_show=function(){return this.is_multiple&&
this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},a.prototype.update_results_content=function(a){return this.search_results.html(a)},a.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),
this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},a.prototype.set_tab_index=function(){var a;return this.form_field.tabIndex?(a=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=a):void 0},a.prototype.set_label_behavior=function(){var a=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=
d("label[for='"+this.form_field.id+"']")),0<this.form_field_label.length?this.form_field_label.bind("click.chosen",function(b){return a.is_multiple?a.container_mousedown(b):a.activate_field()}):void 0},a.prototype.show_search_field_default=function(){return this.is_multiple&&1>this.choices_count()&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},a.prototype.search_results_mouseup=
function(a){var b;return b=d(a.target).hasClass("active-result")?d(a.target):d(a.target).parents(".active-result").first(),b.length?(this.result_highlight=b,this.result_select(a),this.search_field.focus()):void 0},a.prototype.search_results_mouseover=function(a){var b;return b=d(a.target).hasClass("active-result")?d(a.target):d(a.target).parents(".active-result").first(),b?this.result_do_highlight(b):void 0},a.prototype.search_results_mouseout=function(a){return d(a.target).hasClass("active-result")?
this.result_clear_highlight():void 0},a.prototype.choice_build=function(a){var b,e,g=this;return b=d("<li />",{"class":"search-choice"}).html("<span>"+this.choice_label(a)+"</span>"),a.disabled?b.addClass("search-choice-disabled"):(e=d("<a />",{"class":"search-choice-close","data-option-array-index":a.array_index}),e.bind("click.chosen",function(a){return g.choice_destroy_link_click(a)}),b.append(e)),this.search_container.before(b)},a.prototype.choice_destroy_link_click=function(a){return a.preventDefault(),
a.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(d(a.target))},a.prototype.choice_destroy=function(a){return this.result_deselect(a[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&0<this.choices_count()&&1>this.search_field.val().length&&this.results_hide(),a.parents("li").first().remove(),this.search_field_scale()):void 0},a.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=
!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},a.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},a.prototype.result_select=function(a){var b,d;return this.result_highlight?(b=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=
this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?b.removeClass("active-result"):this.reset_single_select_options(),b.addClass("result-selected"),d=this.results_data[b[0].getAttribute("data-option-array-index")],d.selected=!0,this.form_field.options[d.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(d):this.single_set_selected_text(this.choice_label(d)),(a.metaKey||a.ctrlKey)&&this.is_multiple||this.results_hide(),
this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[d.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,a.preventDefault(),this.search_field_scale())):void 0},a.prototype.single_set_selected_text=function(a){return null==a&&(a=this.default_text),a===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),
this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(a)},a.prototype.result_deselect=function(a){var b;return b=this.results_data[a],this.form_field.options[b.options_index].disabled?!1:(b.selected=!1,this.form_field.options[b.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[b.options_index].value}),this.search_field_scale(),
!0)},a.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},a.prototype.get_search_text=function(){return d("<div/>").text(d.trim(this.search_field.val())).html()},a.prototype.winnow_results_set_highlight=function(){var a,b;return b=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),
a=b.length?b.first():this.search_results.find(".active-result").first(),null!=a?this.result_do_highlight(a):void 0},a.prototype.no_results=function(a){var b;return b=d('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),b.find("span").first().html(a),this.search_results.append(b),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},a.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},a.prototype.keydown_arrow=function(){var a;
return this.results_showing&&this.result_highlight?(a=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(a):void 0:this.results_show()},a.prototype.keyup_arrow=function(){var a;return this.results_showing||this.is_multiple?this.result_highlight?(a=this.result_highlight.prevAll("li.active-result"),a.length?this.result_do_highlight(a.first()):(0<this.choices_count()&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},a.prototype.keydown_backstroke=
function(){var a;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(a=this.search_container.siblings("li.search-choice").last(),a.length&&!a.hasClass("search-choice-disabled")?(this.pending_backstroke=a,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},a.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),
this.pending_backstroke=null},a.prototype.keydown_checker=function(a){var b,d;switch(b=null!=(d=a.which)?d:a.keyCode,this.search_field_scale(),8!==b&&this.pending_backstroke&&this.clear_backstroke(),b){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(a);this.mouse_on_container=!1;break;case 13:this.results_showing&&a.preventDefault();break;case 32:this.disable_search&&a.preventDefault();break;case 38:a.preventDefault();
this.keyup_arrow();break;case 40:a.preventDefault(),this.keydown_arrow()}},a.prototype.search_field_scale=function(){var a,b,e,g,h,n,w,p;if(this.is_multiple){n=0;g="position:absolute; left: -1000px; top: -1000px; display:none;";h="font-size font-style font-weight font-family line-height text-transform letter-spacing".split(" ");w=0;for(p=h.length;p>w;w++)e=h[w],g+=e+":"+this.search_field.css(e)+";";return a=d("<div />",{style:g}),a.text(this.search_field.val()),d("body").append(a),n=a.width()+25,
a.remove(),b=this.container.outerWidth(),n>b-10&&(n=b-10),this.search_field.css({width:n+"px"})}},a}(g)}).call(this);var uid=null,sid=null,uob=null,conf={api:"api.php",key:"bb2c08ff4da11f0b590a7ae884412e2bfd8ac28a"};
$(window).ready(function(){$.datepicker.setDefaults($.datepicker.regional.it);$.ajaxSetup({type:"POST",dataType:"json",error:_rete_errore,contentType:"application/json; charset=UTF-8",success:_rete_ok});sid=$.cookie("sessione");_sincronizza();api("ciao",{},_aggiorna_chiSono());$("#_logout").click(_logout);$("#_login").click(_login);$("[data-attendere]").each(_attendere);$("[data-attendere-caricamento]").each(_attendere_caricamento);$("[data-suggerimento]").each(_suggerimento);$("[data-volontari]").each(_tabella);
$("[data-posta]").each(_posta);$("[data-conferma]").each(_conferma);_render_utenti();_render_modali();_render_like();disabilita_campi_captcha();$(".automodal").modal({keyboard:!1,backdrop:"static"});$(".alCambioSalva").change(function(){$(this).parents("form").submit()});$("#navigatoreMobileSelect").change(_navigatore_mobile);tinyMCE.baseURL="/assets/js/tinymce/";tinymce.init({selector:"textarea.conEditor",language:"it",plugins:["lists link image","visualblocks fullscreen","media paste"],toolbar:"bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image",
menubar:!1,statusbar:!1})});$(document).ready(function(){$("[data-nascondi]").each(function(d,g){var k=$(g).html();$(g).html("<i class='"+$(g).data("icona")+"'></i> "+$(g).data("nascondi")).addClass("btn").addClass("btn-info");$(g).click(function(){$(g).html(k).removeClass("btn").removeClass("btn-info")})})});function disabilita_campi_captcha(){$("[data-aspetta-captcha]").each(function(d,g){DEBUG||($(g).addClass("disabled"),$(g).attr("disabled","disabled"))})}
function cc(){$("[data-aspetta-captcha]").each(function(d,g){$(g).removeClass("disabled");$(g).removeAttr("disabled")})}Modernizr.load([{test:Modernizr.input.required,nope:["js/polyfill/required.js"]},{test:Modernizr.input.placeholder,nope:["js/polyfill/placeholder.css","js/polyfill/placeholder.js"]}]);function _rete_errore(d,g,k){}function _rete_ok(d,g,k){sid=d.sessione.id;if(uob=d.sessione.utente)uid=uob.id;_sincronizza()}function _sincronizza(){$.cookie("sessione",sid);_aggiorna_chiSono()}
function _conferma(d,g){$(g).click(function(){return confirm($(g).data("conferma"))})}function _aggiorna_chiSono(){}var _cache={};function api(d,g,k,h){if(void 0===h)$.post(conf.api,JSON.stringify($.extend(g,{metodo:d,sid:sid,key:conf.key})),[_rete_ok,k]);else{var q=d+":"+JSON.stringify(g);_cache.hasOwnProperty(q)?k(_cache[q]):api(d,g,function(d){_cache[q]=d;void 0!==k&&k(d)})}}function _dump(d){}function _logout(){api("logout")}function _login(){}
function _abilita_filtraggio(d,g){$(d).keyup(function(){var k=$(d).val().toLowerCase();2>k.length?$(g+" tr").show():($(g+" tr").each(function(d,g){var e=!1;$(g).children("td").each(function(b,a){-1!==$(a).text().toLowerCase().indexOf(k)&&(e=!0)});e?$(g).show():$(g).hide()}),$(g+" thead tr").show())})}function caricaMapsApi(d){var g=document.createElement("script");g.type="text/javascript";g.src="https://maps.google.com/maps/api/js?sensor=false&callback="+d;document.body.appendChild(g)}
function _attendere(d,g){$(g).click(function(){var d=$(g).html(),h=$(g).data("attendere");$(g).addClass("disabled").attr("disabled","disabled");$(g).html('<i class="icon-spin icon-spinner"></i> '+h);setTimeout(function(){$(g).html(d);$(g).removeClass("disabled").removeAttr("disabled")},6500);if("submit"==$(g).attr("type"))return $(g).parents("form").submit(),!0})}
function _attendere_caricamento(d,g){$(g).click(function(){var d=$(g).data("attendere-caricamento");$(g).addClass("disabled").attr("disabled","disabled");$(g).html('<i class="icon-spin icon-spinner"></i> '+d);if("submit"==$(g).attr("type"))return $(g).parents("form").submit(),!0})}function _suggerimento(d,g){$(g).attr("title",$(g).data("suggerimento"));$(g).tooltip({html:!0})}function _navigatore_mobile(){location.href="?p="+$("#navigatoreMobileSelect").val()}
Date.prototype.toISOString||function(){function d(d){d=String(d);1===d.length&&(d="0"+d);return d}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+d(this.getUTCMonth()+1)+"-"+d(this.getUTCDate())+"T"+d(this.getUTCHours())+":"+d(this.getUTCMinutes())+":"+d(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"}}();
function _tabella(d,g){var k="tabella_"+Math.floor(100*Math.random());$(g).addClass("table").addClass("table-condensed").addClass("table-striped").addClass("table-bordered");var h=$('<div id="'+k+'_ricerca" class="row-fluid ricerca-tabella"><div class="span5 allinea-centro grassetto"><p>Pagina <span id="'+k+'_a">X</span> di <span id="'+k+'_b">Y</span> &mdash; <span id="'+k+'_c">Z</span> risultati trovati</div><div class="span2 btn-group allinea-centro grassetto"><a class="btn '+k+'_indietro"><i class="icon-chevron-left"></i></a><a class="btn '+
k+'_avanti"><i class="icon-chevron-right"></i></a></div><div class="span5 allinea-centro input-append"><input type="text" class="input-xlarge" placeholder="Ricerca volontari..." /><button class="btn btn-primary"><i class="icon-search"></i></button></div></div>');$(g).before(h);h=$('<div id="'+k+'_ricerca" class="row-fluid ricerca-tabella"><div class="span2 offset5 btn-group allinea-centro grassetto"><a class="btn '+k+'_indietro"><i class="icon-chevron-left"></i></a><a class="btn '+k+'_avanti"><i class="icon-chevron-right"></i></a></div></div>');
$(g).after(h);$(g).data("tid",k);$("#"+k+"_ricerca").find("input").change(function(d,e){_tabella_ricerca(g,$(this).val(),$(this))});_tabella_ricerca(g,null,$("#"+k+"_ricerca").find("input").first())}
function _tabella_ricerca(d,g,k,h){_tabella_caricamento(d);_tabella_blocca_input(k);if(!h||0>h)h=1;var q=$(d).data("perpagina"),e=$(d).data("tid"),b="",b="undefined"==typeof $(d).data("comitati")?!1:$(d).data("comitati"),a="",a="undefined"==typeof $(d).data("stato")?!1:$(d).data("stato"),c="",c="undefined"==typeof $(d).data("statopersona")?!1:$(d).data("statopersona"),f=$(d).data("passato"),m=$(d).data("giovane"),v=$(d).data("infermiera"),r=$(d).data("militare");q||(q=30);api("volontari:cerca",{query:g,
pagina:h,perPagina:q,comitati:b,stato:a,passato:f,giovane:m,statoPersona:c,infermiera:v,militare:r},function(a){_tabella_ridisegna(d,a.risposta,k);1==h?$("."+e+"_indietro").unbind("click").addClass("disabled"):$("."+e+"_indietro").unbind("click").removeClass("disabled").click(function(){_tabella_ricerca(d,g,k,h-1)});h==a.risposta.pagine?$("."+e+"_avanti").unbind("click").addClass("disabled"):$("."+e+"_avanti").unbind("click").removeClass("disabled").click(function(){_tabella_ricerca(d,g,k,h+1)})})}
function _tabella_blocca_input(d){$(d).addClass("disabled").attr("disabled","disabled");$(d).parent().find("button").html('<i class="icon-spinner icon-spin"></i>')}function _tabella_sblocca_input(d){$(d).removeClass("disabled").removeAttr("disabled");$(d).parent().find("button").html('<i class="icon-search"></i>');$(d).select().focus()}
function _tabella_ridisegna(d,g,k){var h=$(d).data("tid"),q=$(d).data("azioni"),e=q?$(q).html():"(nessuna azione)";$("#"+h+"_a").text(g.pagina);$("#"+h+"_b").text(g.pagine);$("#"+h+"_c").text(g.totale);$(d).html('<thead class="allinea-centro"><th>Cognome</th><th>Nome</th><th>Cod. Fisc.</th><th>Comitato</th><th>Azioni</th></thead><tbody></tbody>');var b=$(d).find("tbody");$.each(g.risultati,function(a,c){var d=_tabella_sostituzioni(e,c);$(b).append('<tr><td class="grassetto">'+c.cognome+'</td><td class="grassetto">'+
c.nome+"</td><td>"+c.codiceFiscale+"</td><td>"+c.comitato.nome+"</td><td>"+d+"</td></tr>")});0==g.risultati.length&&$(b).append('<tr class="error"><td colspan="5" class="allinea-centro"><h3><i class="icon-frown"></i> Nessun volontario trovato</h3><p>Per favore prova con un altra ricerca.</p><p>Sono accettate parti di nome, cognome, email e codice fiscale.</p></td></tr>');_tabella_sblocca_input(k)}
function _tabella_sostituzioni(d,g){d=d.replace(/{id}/g,g.id);d=d.replace(/{nome}/g,g.nome);d=d.replace(/{cognome}/g,g.cognome);g.riammissibile||(d=d.replace(/{riammissibile}/g,"nascosto"));g.iscrittoBase&&(d=d.replace(/{iscrittoBase}/g,"nascosto"));return d}function _tabella_caricamento(d){$(d).html('<tr class="warning"><td class="allinea-centro"><h3><i class="icon-spinner icon-spin allinea-centro"></i> <strong>Caricamento in corso...</strong></h3></td></tr>')}
function _posta(d,g){var k="posta_"+Math.floor(100*Math.random());$(g).addClass("table");if(!$(g).data("mini")){var h=$('<div class="row-fluid"><div class="span8 allinea-sinistra">Pagina <span id="'+k+'_a">X</span> di <span id="'+k+'_b">Y</span>  </div><div class="span4 allinea-destra"><div class="btn-group" id="'+k+'"><a class="btn '+k+'_indietro"><i class="icon-chevron-left"></i> </a><a class="btn '+k+'_avanti"><i class="icon-chevron-right"></i></a></div></div></div>');$(g).before(h)}$(g).data("eid",
k);_posta_ricerca(g)}
function _posta_ricerca(d,g){_tabella_caricamento(d);if(!g||0>g)g=1;var k=$(d).data("perpagina"),h=$(d).data("eid");k||(k=10);api("posta:cerca",{direzione:$(d).data("direzione"),pagina:g,perPagina:k},function(k){_tabella_posta_ridisegna(d,k.risposta);1==g?$("."+h+"_indietro").unbind("click").addClass("disabled"):$("."+h+"_indietro").unbind("click").removeClass("disabled").click(function(){_posta_ricerca(d,g-1)});g==k.risposta.pagine?$("."+h+"_avanti").unbind("click").addClass("disabled"):$("."+h+
"_avanti").unbind("click").removeClass("disabled").click(function(){_posta_ricerca(d,g+1)})})}
function _tabella_posta_ridisegna(d,g,k){k=$(d).data("eid");var h=$(d).data("direzione"),q="",e="";$("#"+k+"_a").text(g.pagina);$("#"+k+"_b").text(g.pagine);$(d).html('<table class="table table-condensed"><thead class="allinea-centro"><th class="allinea-centro"><i class="icon-user"></i></th><th class="allinea-centro">Messaggio</th></thead><tbody></tbody></table>');var b=$(d).find("tbody");$.each(g.risultati,function(a,c){var f="",f=35<c.oggetto.length?c.oggetto.substring(0,35)+"...":c.oggetto;!1!==
c.mittente?("ingresso"==h&&($(b).append('<tr data-utente="'+c.mittente.id+'"><td><img width="50" height="50" class="img-circle" src="{avatar}" title="{nomeCompleto}" alt="{nomeCompleto}" /></td><td><strong>'+f+"</strong><br />{nomeCompleto}</td></tr>"),q='<i class="icon-user"></i> Da <span data-utente="'+c.mittente.id+'">{nomeCompleto}</span>'),mittente='<i class="icon-user"></i> <span data-utente="'+c.mittente.id+'">{nomeCompleto}</span>'):("ingresso"==h&&($(b).append('<tr><td><img width="50" height="50" class="img-circle" src="https://gaia.cri.it/upload/avatar/placeholder/20.jpg" /></td><td><strong>'+
f+"</strong><br />Notifica da Gaia</td></tr>"),q='<i class="icon-info-sign"></i> <span>Notifica Gaia</span>'),mittente='<i class="icon-info-sign"></i> Notifica di sistema Gaia');1<c.destinatari.length?("uscita"==h&&($(b).append('<tr><td><img width="50" height="50" class="img-circle" src="https://gaia.cri.it/upload/avatar/placeholder/20.jpg" /></td><td><strong>'+f+"</strong><br />Destinatari multipli ("+c.destinatari.length+")</td></tr>"),q='<i class="icon-group"></i> A <span>Destinatari multipli ('+
c.destinatari.length+")</span>"),e="<ul>",$.each(c.destinatari,function(a,b){e+='<li data-utente="'+b.id+'">{nomeCompleto}';e=b.inviato?e+(' (<i class="icon-ok text-success"></i> inviato: '+stampaDataOra(new Date(1E3*b.inviato))+")"):e+' (<i class="icon-time text-warning"></i> in coda di invio)';e+="</li>"}),e+="</ul>"):(0<c.destinatari.length?("uscita"==h&&($(b).append('<tr data-utente="'+c.destinatari[0].id+'"><td><img width="50" height="50" class="img-circle" src="{avatar}" title="{nomeCompleto}" alt="{nomeCompleto}" /></td><td><strong>'+
f+"</strong><br />{nomeCompleto}</td></tr>"),q='<i class="icon-user"></i> <span data-utente="'+c.destinatari[0].id+'" data-conAvatar="false">{nomeCompleto}</span>'),e='<i class="icon-user"></i> <span data-utente="'+c.destinatari[0].id+'" data-conAvatar="false">{nomeCompleto}</span>'):("uscita"==h&&($(b).append('<tr><td><img width="50" height="50" class="img-circle" src="https://gaia.cri.it/upload/avatar/placeholder/20.jpg" /></td><td><strong>'+f+"</strong><br />Squadra di Supporto Gaia</td></tr>"),
q='<i class="icon-ambulance"></i> Squadra di Supporto</span>'),e='<i class="icon-ambulance"></i> Squadra di Supporto di Gaia</span>'),e=c.invio.terminato?e+(' (<i class="icon-ok text-success"></i> inviato: '+stampaDataOra(new Date(1E3*c.invio.terminato))+")"):e+' (<i class="icon-time text-warning"></i> in coda di invio)');$(b).find("tr:last").data("persona",q).data("destinatario",e).data("mittente",mittente).data("codice",c.id).addClass("riga-cliccabile").click(function(){$("tr").removeClass("success");
$(this).addClass("success");if($(d).data("messaggio")){var a=$(d).data("messaggio");$(a).html('<h4><i class="icon-comments"></i> '+c.oggetto+'</h4><div class="row-fluid" style="font-size: smaller;"><span class="span6"><strong>'+$(this).data("persona")+'</strong> <a data-modale="(mostra dettagli)" data-titolo="Dettagli messaggio"><ul><li><strong>Mittente:</strong> '+$(this).data("mittente")+"</li><li><strong>Destinatario:</strong> "+$(this).data("destinatario")+'</li><li><strong>Creato:</strong> <i class="icon-time"></i> '+
stampaDataOra(new Date(1E3*c.timestamp))+"</li><li><strong>Oggetto:</strong> "+c.oggetto+'</li></ul></a></span><span class="span3"><i class="icon-calendar"></i> '+stampaData(new Date(1E3*c.timestamp))+'</span><span class="span3"><i class="icon-time"></i> '+stampaOra(new Date(1E3*c.timestamp))+'</span></div><hr /><blockquote style="font-size: 12px !important;">'+c.corpo+"</blockquote>");_render_utenti(!0);_render_modali()}else window.location="https://gaia.cri.it/?p=utente.posta&id="+c.id})});$(d).data("contatore")&&
$($(d).data("contatore")).text(g.totale);0==g.risultati.length&&$(b).append('<tr class="error"><td colspan="2" class="allinea-centro"><h4><i class="icon-frown"></i> Nessuna comunicazione</h4><p>Niente paura! Qui verranno salvate tutte le comunicazioni future inviate o ricevute tramite Gaia.</p></td></tr>');_render_utenti()}function _email_sostituzioni(d,g){d=d.replace(/{id}/g,g.id);return d=d.replace(/{oggetto}/g,g.oggetto)}
function _render_like(d){var g=[],k=[],h="",h=h+'<div class="btn btn-small btn-like btn-0" data-tipo="0">',h=h+'  <i class="icon-thumbs-up icon-large"></i>',h=h+'  <span class="numero-like numero-like-0 badge badge-success"></span>',h=h+"</div>",h=h+'<div class="btn btn-small btn-like btn-1" data-tipo="1">',h=h+'  <i class="icon-thumbs-down  icon-large"></i>',h=h+'  <span class="numero-like numero-like-1 badge badge-important"></span>',h=h+"</div>";$("[data-like]").each(function(d,e){var b=$(e).data("like");
$(e).addClass("contenitore-like").addClass("btn-group");$(e).data("piccolo")?$(e).html(h.replace(/btn-small/g,"btn-mini")):$(e).html(h);console.log($(e).children(".numero-like"));$(e).find(".numero-like").html('<i class="icon-spin icon-spinner"></i>');g.push(b);k.push({metodo:"like",parametri:{oggetto:b}});$(e).children(".btn").each(function(a,c){$(c).click(function(){_like_click(b,c)})})});api("multi",{richieste:k},function(d){$(d.risposta.risultato).each(function(d,b){_render_like_singolo(g[d],
b.risposta)})})}function _like_click(d,g){$(g).attr("disabled","disabled").addClass("disabled");var k=$(g).data("tipo");api("like",{oggetto:d,tipo:k},function(h){h.risposta.hasOwnProperty("errore")?alert("Devi effettuare l'accesso su Gaia per poter esprimere giudizi su questo oggetto."):_render_like_singolo(d,h.risposta);$(g).removeAttr("disabled").removeClass("disabled")})}
function _render_like_singolo(d,g){var k=$("[data-like='"+d+"']");$(k).find(".btn").removeClass("active");for(i in g)k=$("[data-like='"+d+"'] .btn-"+i),g[i].apposto&&$(k).addClass("active"),$(k).find(".numero-like").text(g[i].numero)}
function _render_utenti(d){var g=[],k=[],h=void 0===d;$("[data-utente]").each(function(d,e){var b=$(e).data("utente");$(e).attr("data-contenuto",$(e).html());var a=h;void 0!==$(e).data("conAvatar")&&(a=1==$(e).data("conAvatar"));g.push({elemento:e,id:b});k.push({metodo:"utente",parametri:{id:b,conAvatar:a}})});api("multi",{richieste:k},function(d){$(d.risposta.risultato).each(function(d,b){_render_utente(g[d].elemento,b.risposta)})})}
function _render_utente(d,g){var k=""+$(d).attr("data-contenuto"),k=k.replace(/{id}/gi,g.id),k=k.replace(/{nome}/gi,g.nome),k=k.replace(/{cognome}/gi,g.cognome),k=k.replace(/{nomeCompleto}/gi,g.nomeCompleto);g.hasOwnProperty("avatar")&&(k=k.replace(/{avatar}/gi,g.avatar["20"]));$(d).removeAttr("data-utente");$(d).html(k)}function _render_modali(){$("[data-modale]").each(_modale_inline)}
function _modale_inline(d,g){$(g).attr("role","button").data("toggle","modal");var k=$(g).html();$(g).html($(g).data("modale"));$(g).removeAttr("data-modale");var h="modale_"+Math.floor(1E4*Math.random());$(g).attr("href","#"+h);$("body").append('<div id="'+h+'" class="modal hide fade" role="dialog"><div class="modal-header"><button type="button" class="close" data-dismiss="modal"><i class="icon-remove"></i></button><h3>'+$(g).data("titolo")+'</h3></div><div class="modal-body">'+k+'</div><div class="modal-footer"><button class="btn" data-dismiss="modal"><i class="icon-remove"></i> Okay</button></div></div>');
$(g).click(function(){$("#"+h).modal("show");_render_utenti();return!1})}function stampaData(d){return("0"+d.getDate()).slice(-2)+"/"+("0"+(d.getMonth()+1)).slice(-2)+"/"+d.getFullYear()}function stampaOra(d){return("0"+d.getHours()).slice(-2)+":"+("0"+d.getMinutes()).slice(-2)+":"+("0"+d.getSeconds()).slice(-2)}function stampaDataOra(d){return stampaData(d)+" "+stampaOra(d)}
jQuery(function(d){d.datepicker.regional.it={clearText:"Svuota",clearStatus:"Annulla",closeText:"Chiudi",closeStatus:"Chiudere senza modificare",prevText:"&#x3c;Prec",prevStatus:"Mese precedente",prevBigText:"&#x3c;&#x3c;",prevBigStatus:"Mostra l'anno precedente",nextText:"Succ&#x3e;",nextStatus:"Mese successivo",nextBigText:"&#x3e;&#x3e;",nextBigStatus:"Mostra l'anno successivo",currentText:"Oggi",currentStatus:"Mese corrente",monthNames:"Gennaio Febbraio Marzo Aprile Maggio Giugno Luglio Agosto Settembre Ottobre Novembre Dicembre".split(" "),
monthNamesShort:"Gen Feb Mar Apr Mag Giu Lug Ago Set Ott Nov Dic".split(" "),monthStatus:"Seleziona un altro mese",yearStatus:"Seleziona un altro anno",weekHeader:"Sm",weekStatus:"Settimana dell'anno",dayNames:"Domenica Luned&#236 Marted&#236 Mercoled&#236 Gioved&#236 Venerd&#236 Sabato".split(" "),dayNamesShort:"Dom Lun Mar Mer Gio Ven Sab".split(" "),dayNamesMin:"Do Lu Ma Me Gio Ve Sa".split(" "),dayStatus:"Usa DD come primo giorno della settimana",dateStatus:"'Seleziona' D, M d",dateFormat:"dd/mm/yy",
firstDay:1,changeYear:!0,changeMonth:!0,yearRange:"1900:+20",initStatus:"Scegliere una data",isRTL:!1};d.datepicker.setDefaults(d.datepicker.regional.it)});
(function(d,g){function k(e,b){for(var a,c=[],f=0;e.length>f;++f){var g;if(!(g=q[e[f]]))a:{g=d;for(var h=e[f].split(/[.\/]/),r=0;h.length>r;++r){if(!g[h[r]]){g=void 0;break a}g=g[h[r]]}}if(a=g,!a)throw"module definition dependecy not found: "+e[f];c.push(a)}b.apply(null,c)}function h(d,b,a){if("string"!=typeof d)throw"invalid module definition, module id must be defined and be a string";if(b===g)throw"invalid module definition, dependencies must be specified";if(a===g)throw"invalid module definition, definition function must be specified";
k(b,function(){q[d]=a.apply(null,arguments)})}var q={};h("tinymce/dom/EventUtils",[],function(){function d(a,b,c,f){a.addEventListener?a.addEventListener(b,c,f||!1):a.attachEvent&&a.attachEvent("on"+b,c)}function b(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d||!1):a.detachEvent&&a.detachEvent("on"+b,c)}function a(a,b){function c(){return!1}function d(){return!0}var f,e=b||{};for(f in a)"layerX"!==f&&"layerY"!==f&&(e[f]=a[f]);return e.target||(e.target=e.srcElement||document),e.preventDefault=
function(){e.isDefaultPrevented=d;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},e.stopPropagation=function(){e.isPropagationStopped=d;a&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0)},e.stopImmediatePropagation=function(){e.isImmediatePropagationStopped=d;e.stopPropagation()},e.isDefaultPrevented||(e.isDefaultPrevented=c,e.isPropagationStopped=c,e.isImmediatePropagationStopped=c),e}function c(a,c,f){function h(){f.domLoaded||(f.domLoaded=!0,c(k))}function m(){"complete"===
x.readyState&&(b(x,"readystatechange",m),h())}function l(){try{x.documentElement.doScroll("left")}catch(a){return setTimeout(l,0),g}h()}var x=a.document,k={type:"ready"};return f.domLoaded?(c(k),g):(x.addEventListener?d(a,"DOMContentLoaded",h):(d(x,"readystatechange",m),x.documentElement.doScroll&&a===a.top&&l()),d(a,"load",h),g)}function f(){function f(a,b){var c,d,e,g;if(c=n[b][a.type])for(d=0,e=c.length;e>d&&(g=c[d],g&&!1===g.func.call(g.scope,a)&&a.preventDefault(),!a.isImmediatePropagationStopped());d++);
}var g=this,n={},w,p,l,x,k;p=h+(+new Date).toString(32);x="onmouseenter"in document.documentElement;l="onfocusin"in document.documentElement;k={mouseenter:"mouseover",mouseleave:"mouseout"};w=1;g.domLoaded=!1;g.events=n;g.bind=function(b,h,m,y){function q(b){f(a(b||R.event),D)}var D,B,G,F,I,O,N,R=window;if(b&&3!==b.nodeType&&8!==b.nodeType){b[p]?D=b[p]:(D=w++,b[p]=D,n[D]={});y=y||b;h=h.split(" ");for(G=h.length;G--;)F=h[G],O=q,I=N=!1,"DOMContentLoaded"===F&&(F="ready"),g.domLoaded&&"ready"===F&&"complete"==
b.readyState?m.call(y,a({type:F})):(x||(I=k[F],I&&(O=function(b){var c,d;if(c=b.currentTarget,d=b.relatedTarget,d&&c.contains)d=c.contains(d);else for(;d&&d!==c;)d=d.parentNode;d||(b=a(b||R.event),b.type="mouseout"===b.type?"mouseleave":"mouseenter",b.target=c,f(b,D))})),l||"focusin"!==F&&"focusout"!==F||(N=!0,I="focusin"===F?"focus":"blur",O=function(b){b=a(b||R.event);b.type="focus"===b.type?"focusin":"focusout";f(b,D)}),B=n[D][F],B?"ready"===F&&g.domLoaded?m({type:F}):B.push({func:m,scope:y}):
(n[D][F]=B=[{func:m,scope:y}],B.fakeName=I,B.capture=N,B.nativeHandler=O,"ready"===F?c(b,O,g):d(b,I||F,O,N)));return b=B=0,m}};g.unbind=function(a,c,d){var f,e,l,h,m,x;if(!a||3===a.nodeType||8===a.nodeType)return g;if(f=a[p]){if(x=n[f],c)for(c=c.split(" "),l=c.length;l--;){if(m=c[l],e=x[m]){if(d)for(h=e.length;h--;)e[h].func===d&&e.splice(h,1);d&&0!==e.length||(delete x[m],b(a,e.fakeName||m,e.nativeHandler,e.capture))}}else{for(m in x)e=x[m],b(a,e.fakeName||m,e.nativeHandler,e.capture);x={}}for(m in x)return g;
delete n[f];try{delete a[p]}catch(w){a[p]=null}}return g};g.fire=function(b,c,d){if(!b||3===b.nodeType||8===b.nodeType)return g;d=a(null,d);d.type=c;d.target=b;do(c=b[p])&&f(d,c),b=b.parentNode||b.ownerDocument||b.defaultView||b.parentWindow;while(b&&!d.isPropagationStopped());return g};g.clean=function(a){var b,c,d=g.unbind;if(!a||3===a.nodeType||8===a.nodeType)return g;if(a[p]&&d(a),a.getElementsByTagName||(a=a.document),a&&a.getElementsByTagName)for(d(a),c=a.getElementsByTagName("*"),b=c.length;b--;)a=
c[b],a[p]&&d(a);return g};g.destory=function(){n={}};g.cancel=function(a){return a&&(a.preventDefault(),a.stopImmediatePropagation()),!1}}var h="mce-data-";return f.Event=new f,f.Event.bind(window,"ready",function(){}),f});h("tinymce/dom/Sizzle",[],function(){function d(a){return za.test(a+"")}function b(){var a,b=[];return a=function(c,d){return b.push(c+=" ")>B.cacheLength&&delete a[b.shift()],a[c]=d,d}}function a(a){return a[W]=!0,a}function c(a){var b=K.createElement("div");try{return!!a(b)}catch(c){return!1}finally{}}
function f(a,b,c,d){var f,e,g,l,h;if((b?b.ownerDocument||b:Y)!==K&&P(b),b=b||K,c=c||[],!a||"string"!=typeof a)return c;if(1!==(l=b.nodeType)&&9!==l)return[];if(M&&!d){if(f=Na.exec(a))if(g=f[1])if(9===l){if(e=b.getElementById(g),!e||!e.parentNode)return c;if(e.id===g)return c.push(e),c}else{if(b.ownerDocument&&(e=b.ownerDocument.getElementById(g))&&V(b,e)&&e.id===g)return c.push(e),c}else{if(f[2])return ma.apply(c,b.getElementsByTagName(a)),c;if((g=f[3])&&U.getElementsByClassName&&b.getElementsByClassName)return ma.apply(c,
b.getElementsByClassName(g)),c}if(U.qsa&&!C.test(a)){if(f=!0,e=W,g=b,h=9===l&&a,1===l&&"object"!==b.nodeName.toLowerCase()){l=w(a);(f=b.getAttribute("id"))?e=f.replace(Ia,"\\$&"):b.setAttribute("id",e);e="[id='"+e+"'] ";for(g=l.length;g--;)l[g]=e+p(l[g]);g=sa.test(a)&&b.parentNode||b;h=l.join(",")}if(h)try{return ma.apply(c,g.querySelectorAll(h)),c}catch(m){}finally{f||b.removeAttribute("id")}}}var n;a:{a=a.replace(va,"$1");var r,x,v;f=w(a);if(!d&&1===f.length){if(n=f[0]=f[0].slice(0),2<n.length&&
"ID"===(r=n[0]).type&&9===b.nodeType&&M&&B.relative[n[1].type]){if(b=(B.find.ID(r.matches[0].replace(Da,Ma),b)||[])[0],!b){n=c;break a}a=a.slice(n.shift().value.length)}for(l=qa.needsContext.test(a)?0:n.length;l--&&(r=n[l],!B.relative[x=r.type]);)if((v=B.find[x])&&(d=v(r.matches[0].replace(Da,Ma),sa.test(n[0].type)&&b.parentNode||b))){if(n.splice(l,1),a=d.length&&p(n),!a){n=(ma.apply(c,d),c);break a}break}}n=(I(a,f)(d,b,!M,c,sa.test(a)),c)}return n}function m(a,b){var c=b&&a,d=c&&(~b.sourceIndex||
Ba)-(~a.sourceIndex||Ba);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function v(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function r(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function n(b){return a(function(c){return c=+c,a(function(a,d){for(var f,e=b([],a.length,c),g=e.length;g--;)a[f=e[g]]&&(a[f]=!(d[f]=a[f]))})})}function w(a,b){var c,d,e,g,l,h,m;if(l=Z[a+" "])return b?0:l.slice(0);
l=a;h=[];for(m=B.preFilter;l;){c&&!(d=Pa.exec(l))||(d&&(l=l.slice(d[0].length)||l),h.push(e=[]));c=!1;(d=wa.exec(l))&&(c=d.shift(),e.push({value:c,type:d[0].replace(va," ")}),l=l.slice(c.length));for(g in B.filter)!(d=qa[g].exec(l))||m[g]&&!(d=m[g](d))||(c=d.shift(),e.push({value:c,type:g,matches:d}),l=l.slice(c.length));if(!c)break}return b?l.length:l?f.error(a):Z(a,h).slice(0)}function p(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function l(a,b,c){var d=b.dir,f=c&&"parentNode"===
d,e=la++;return b.first?function(b,c,e){for(;b=b[d];)if(1===b.nodeType||f)return a(b,c,e)}:function(b,c,g){var l,h,m,p=ca+" "+e;if(g)for(;b=b[d];){if((1===b.nodeType||f)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||f)if(m=b[W]||(b[W]={}),(h=m[d])&&h[0]===p){if(!0===(l=h[1])||l===D)return!0===l}else if(h=m[d]=[p],h[1]=a(b,c,g)||D,!0===h[1])return!0}}function x(a){return 1<a.length?function(b,c,d){for(var f=a.length;f--;)if(!a[f](b,c,d))return!1;return!0}:a[0]}function k(a,b,c,d,f){for(var e,
g=[],l=0,h=a.length,m=null!=b;h>l;l++)(e=a[l])&&(!c||c(e,d,f))&&(g.push(e),m&&b.push(l));return g}function z(b,c,d,e,g,l){return e&&!e[W]&&(e=z(e)),g&&!g[W]&&(g=z(g,l)),a(function(a,l,h,m){var p,n,r=[],x=[],w=l.length,v;if(!(v=a)){v=c||"*";for(var u=h.nodeType?[h]:h,z=[],A=0,y=u.length;y>A;A++)f(v,u[A],z);v=z}v=!b||!a&&c?v:k(v,r,b,h,m);u=d?g||(a?b:w||e)?[]:l:v;if(d&&d(v,u,h,m),e)for(p=k(u,x),e(p,[],h,m),h=p.length;h--;)(n=p[h])&&(u[x[h]]=!(v[x[h]]=n));if(a){if(g||b){if(g){p=[];for(h=u.length;h--;)(n=
u[h])&&p.push(v[h]=n);g(null,u=[],p,m)}for(h=u.length;h--;)(n=u[h])&&-1<(p=g?Ha.call(a,n):r[h])&&(a[p]=!(l[p]=n))}}else u=k(u===l?u.splice(w,u.length):u),g?g(null,l,u,m):ma.apply(l,u)})}function A(a){var b,c,d,f=a.length,e=B.relative[a[0].type];c=e||B.relative[" "];for(var g=e?1:0,h=l(function(a){return a===b},c,!0),m=l(function(a){return-1<Ha.call(b,a)},c,!0),n=[function(a,c,d){return!e&&(d||c!==O)||((b=c).nodeType?h(a,c,d):m(a,c,d))}];f>g;g++)if(c=B.relative[a[g].type])n=[l(x(n),c)];else{if(c=B.filter[a[g].type].apply(null,
a[g].matches),c[W]){for(d=++g;f>d&&!B.relative[a[d].type];d++);return z(1<g&&x(n),1<g&&p(a.slice(0,g-1)).replace(va,"$1"),c,d>g&&A(a.slice(g,d)),f>d&&A(a=a.slice(d)),f>d&&p(a))}n.push(c)}return x(n)}function u(b,c){var d=0,e=0<c.length,g=0<b.length,l=function(a,l,h,m,p){var n,r,x=[],w=0,v="0",u=a&&[],z=null!=p,A=O,y=a||g&&B.find.TAG("*",p&&l.parentNode||l),t=ca+=null==A?1:Math.random()||.1;for(z&&(O=l!==K&&l,D=d);null!=(p=y[v]);v++){if(g&&p){for(n=0;r=b[n++];)if(r(p,l,h)){m.push(p);break}z&&(ca=t,
D=++d)}e&&((p=!r&&p)&&w--,a&&u.push(p))}if(w+=v,e&&v!==w){for(n=0;r=c[n++];)r(u,x,l,h);if(a){if(0<w)for(;v--;)u[v]||x[v]||(x[v]=pa.call(m));x=k(x)}ma.apply(m,x);z&&!a&&0<x.length&&1<w+c.length&&f.uniqueSort(m)}return z&&(ca=t,O=A),u};return e?a(l):l}function y(){}var q,D,B,G,F,I,O,N,R,P,K,S,M,C,H,T,V,W="sizzle"+-new Date,Y=window.document,U={},ca=0,la=0,Q=b(),Z=b(),ua=b(),da=!1,aa=function(){return 0},ka=typeof g,Ba=-2147483648,ba=[],pa=ba.pop,Ja=ba.push,ma=ba.push,ha=ba.slice,Ha=ba.indexOf||function(a){for(var b=
0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},t="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),J="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+t+")|)|)[\\x20\\t\\r\\n\\f]*\\]",na=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+J.replace(3,8)+")*)|.*)\\)|)",va=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,Pa=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,
wa=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,X=RegExp(na),ia=RegExp("^"+t+"$"),qa={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[\w-]|[^\x00-\xa0])+)['"]?\]/,TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+J),PSEUDO:RegExp("^"+na),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,
needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},sa=/[\x20\t\r\n\f]*[+~]/,za=/^[^{]+\{\s*\[native code/,Na=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,Sa=/^(?:input|select|textarea|button)$/i,Aa=/^h\d$/i,Ia=/'|\\/g,Ta=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,Da=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,Ma=function(a,b){var c="0x"+b-65536;return c!==c?b:0>c?String.fromCharCode(c+65536):String.fromCharCode(55296|c>>
10,56320|1023&c)};try{ma.apply(ba=ha.call(Y.childNodes),Y.childNodes),ba[Y.childNodes.length].nodeType}catch(ga){ma={apply:ba.length?function(a,b){Ja.apply(a,ha.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}F=f.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};P=f.setDocument=function(a){var b=a?a.ownerDocument||a:Y;return b!==K&&9===b.nodeType&&b.documentElement?(K=b,S=b.documentElement,M=!F(b),U.getElementsByTagName=c(function(a){return a.appendChild(b.createComment("")),
!a.getElementsByTagName("*").length}),U.attributes=c(function(a){a.innerHTML="<select></select>";a=typeof a.lastChild.getAttribute("multiple");return"boolean"!==a&&"string"!==a}),U.getElementsByClassName=c(function(a){return a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",a.getElementsByClassName&&a.getElementsByClassName("e").length?(a.lastChild.className="e",2===a.getElementsByClassName("e").length):!1}),U.getByName=c(function(a){a.id=W+0;a.appendChild(K.createElement("a")).setAttribute("name",
W);a.appendChild(K.createElement("i")).setAttribute("name",W);S.appendChild(a);var c=b.getElementsByName&&b.getElementsByName(W).length===2+b.getElementsByName(W+0).length;return S.removeChild(a),c}),U.sortDetached=c(function(a){return a.compareDocumentPosition&&1&a.compareDocumentPosition(K.createElement("div"))}),B.attrHandle=c(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!==ka&&"#"===a.firstChild.getAttribute("href")})?{}:{href:function(a){return a.getAttribute("href",
2)},type:function(a){return a.getAttribute("type")}},U.getByName?(B.find.ID=function(a,b){if(typeof b.getElementById!==ka&&M){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},B.filter.ID=function(a){var b=a.replace(Da,Ma);return function(a){return a.getAttribute("id")===b}}):(B.find.ID=function(a,b){if(typeof b.getElementById!==ka&&M){var c=b.getElementById(a);return c?c.id===a||typeof c.getAttributeNode!==ka&&c.getAttributeNode("id").value===a?[c]:g:[]}},B.filter.ID=function(a){var b=a.replace(Da,
Ma);return function(a){return(a=typeof a.getAttributeNode!==ka&&a.getAttributeNode("id"))&&a.value===b}}),B.find.TAG=U.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==ka?b.getElementsByTagName(a):g}:function(a,b){var c,d=[],f=0,e=b.getElementsByTagName(a);if("*"===a){for(;c=e[f++];)1===c.nodeType&&d.push(c);return d}return e},B.find.NAME=U.getByName&&function(a,b){return typeof b.getElementsByName!==ka?b.getElementsByName(name):g},B.find.CLASS=U.getElementsByClassName&&function(a,
b){return typeof b.getElementsByClassName!==ka&&M?b.getElementsByClassName(a):g},H=[],C=[":focus"],(U.qsa=d(b.querySelectorAll))&&(c(function(a){a.innerHTML="<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||C.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");a.querySelectorAll(":checked").length||C.push(":checked")}),c(function(a){a.innerHTML="<input type='hidden' i=''/>";a.querySelectorAll("[i^='']").length&&C.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");
a.querySelectorAll(":enabled").length||C.push(":enabled",":disabled");a.querySelectorAll("*,:x");C.push(",.*:")})),(U.matchesSelector=d(T=S.matchesSelector||S.mozMatchesSelector||S.webkitMatchesSelector||S.oMatchesSelector||S.msMatchesSelector))&&c(function(a){U.disconnectedMatch=T.call(a,"div");T.call(a,"[s!='']:x");H.push("!=",na)}),C=RegExp(C.join("|")),H=H.length&&RegExp(H.join("|")),V=d(S.contains)||S.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;
return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},aa=S.compareDocumentPosition?function(a,c){if(a===c)return da=!0,0;var d=c.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(c);return d?1&d||N&&c.compareDocumentPosition(a)===d?a===b||V(Y,a)?-1:c===b||V(Y,c)?1:R?Ha.call(R,a)-Ha.call(R,c):0:4&d?-1:1:a.compareDocumentPosition?-1:1}:
function(a,c){var d,f=0;d=a.parentNode;var e=c.parentNode,g=[a],l=[c];if(a===c)return da=!0,0;if(!d||!e)return a===b?-1:c===b?1:d?-1:e?1:0;if(d===e)return m(a,c);for(d=a;d=d.parentNode;)g.unshift(d);for(d=c;d=d.parentNode;)l.unshift(d);for(;g[f]===l[f];)f++;return f?m(g[f],l[f]):g[f]===Y?-1:l[f]===Y?1:0},K):K};f.matches=function(a,b){return f(a,null,null,b)};f.matchesSelector=function(a,b){if((a.ownerDocument||a)!==K&&P(a),b=b.replace(Ta,"='$1']"),U.matchesSelector&&M&&(!H||!H.test(b))&&!C.test(b))try{var c=
T.call(a,b);if(c||U.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(d){}return 0<f(b,K,null,[a]).length};f.contains=function(a,b){return(a.ownerDocument||a)!==K&&P(a),V(a,b)};f.attr=function(a,b){var c;return(a.ownerDocument||a)!==K&&P(a),M&&(b=b.toLowerCase()),(c=B.attrHandle[b])?c(a):!M||U.attributes?a.getAttribute(b):((c=a.getAttributeNode(b))||a.getAttribute(b))&&!0===a[b]?b:c&&c.specified?c.value:null};f.error=function(a){throw Error("Syntax error, unrecognized expression: "+
a);};f.uniqueSort=function(a){var b,c=[],d=0,f=0;if(da=!U.detectDuplicates,N=!U.sortDetached,R=!U.sortStable&&a.slice(0),a.sort(aa),da){for(;b=a[f++];)b===a[f]&&(d=c.push(f));for(;d--;)a.splice(c[d],1)}return a};G=f.getText=function(a){var b,c="",d=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=G(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[d];d++)c+=G(b);return c};B=f.selectors={cacheLength:50,
createPseudo:a,match:qa,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(Da,Ma),a[3]=(a[4]||a[5]||"").replace(Da,Ma),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||f.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&f.error(a[0]),
a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return qa.CHILD.test(a[0])?null:(a[4]?a[2]=a[4]:c&&X.test(c)&&(b=w(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){return"*"===a?function(){return!0}:(a=a.replace(Da,Ma).toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=Q[a+" "];return b||(b=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&Q(a,function(a){return b.test(a.className||
typeof a.getAttribute!==ka&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){d=f.attr(d,a);return null==d?"!="===b:b?(d+="","="===b?d===c:"!="===b?d!==c:"^="===b?c&&0===d.indexOf(c):"*="===b?c&&-1<d.indexOf(c):"$="===b?c&&d.slice(-c.length)===c:"~="===b?-1<(" "+d+" ").indexOf(c):"|="===b?d===c||d.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,f){var e="nth"!==a.slice(0,3),g="last"!==a.slice(-4),l="of-type"===b;return 1===d&&0===f?function(a){return!!a.parentNode}:
function(b,c,h){var m,p,n,r,x;c=e!==g?"nextSibling":"previousSibling";var w=b.parentNode,v=l&&b.nodeName.toLowerCase();h=!h&&!l;if(w){if(e){for(;c;){for(p=b;p=p[c];)if(l?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;x=c="only"===a&&!x&&"nextSibling"}return!0}if(x=[g?w.firstChild:w.lastChild],g&&h)for(h=w[W]||(w[W]={}),m=h[a]||[],r=m[0]===ca&&m[1],n=m[0]===ca&&m[2],p=r&&w.childNodes[r];p=++r&&p&&p[c]||(n=r=0)||x.pop();){if(1===p.nodeType&&++n&&p===b){h[a]=[ca,r,n];break}}else if(h&&(m=(b[W]||
(b[W]={}))[a])&&m[0]===ca)n=m[1];else for(;(p=++r&&p&&p[c]||(n=r=0)||x.pop())&&((l?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++n||(h&&((p[W]||(p[W]={}))[a]=[ca,n]),p!==b)););return n-=f,n===d||0===n%d&&0<=n/d}}},PSEUDO:function(b,c){var d,e=B.pseudos[b]||B.setFilters[b.toLowerCase()]||f.error("unsupported pseudo: "+b);return e[W]?e(c):1<e.length?(d=[b,b,"",c],B.setFilters.hasOwnProperty(b.toLowerCase())?a(function(a,b){for(var d,f=e(a,c),g=f.length;g--;)d=Ha.call(a,f[g]),a[d]=!(b[d]=f[g])}):
function(a){return e(a,0,d)}):e}},pseudos:{not:a(function(b){var c=[],d=[],f=I(b.replace(va,"$1"));return f[W]?a(function(a,b,c,d){var e;c=f(a,null,d,[]);for(d=a.length;d--;)(e=c[d])&&(a[d]=!(b[d]=e))}):function(a,b,e){return c[0]=a,f(c,null,e,d),!d.pop()}}),has:a(function(a){return function(b){return 0<f(a,b).length}}),contains:a(function(a){return function(b){return-1<(b.textContent||b.innerText||G(b)).indexOf(a)}}),lang:a(function(a){return ia.test(a||"")||f.error("unsupported lang: "+a),a=a.replace(Da,
Ma).toLowerCase(),function(b){var c;do if(c=M?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(a){var b=window.location&&window.location.hash;return b&&b.slice(1)===a.id},root:function(a){return a===S},focus:function(a){return a===K.activeElement&&(!K.hasFocus||K.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===
a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if("@"<a.nodeName||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!B.pseudos.empty(a)},header:function(a){return Aa.test(a.nodeName)},input:function(a){return Sa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();
return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:n(function(){return[0]}),last:n(function(a,b){return[b-1]}),eq:n(function(a,b,c){return[0>c?c+b:c]}),even:n(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:n(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:n(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:n(function(a,
b,c){for(c=0>c?c+b:c;b>++c;)a.push(c);return a})}};for(q in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})B.pseudos[q]=v(q);for(q in{submit:!0,reset:!0})B.pseudos[q]=r(q);return I=f.compile=function(a,b){var c,d=[],f=[],e=ua[a+" "];if(!e){b||(b=w(a));for(c=b.length;c--;)e=A(b[c]),e[W]?d.push(e):f.push(e);e=ua(a,u(f,d))}return e},B.pseudos.nth=B.pseudos.eq,y.prototype=B.filters=B.pseudos,B.setFilters=new y,U.sortStable=W.split("").sort(aa).join("")===W,P(),[0,0].sort(aa),U.detectDuplicates=da,
"function"==typeof h&&h.amd?h(function(){return f}):window.Sizzle=f,f});h("tinymce/dom/DomQuery",["tinymce/dom/EventUtils","tinymce/dom/Sizzle"],function(d,b){function a(a){var b,c;c=x.createElement("div");b=x.createDocumentFragment();for(c.innerHTML=a;a=c.firstChild;)b.appendChild(a);return b}function c(b,d,f){var e;if("string"==typeof d)d=a(d);else if(d.length){for(e=0;d.length>e;e++)c(b,d[e],f);return b}for(e=b.length;e--;)f.call(b[e],d);return b}function f(a,b){return a&&b&&-1!==(" "+a.className+
" ").indexOf(" "+b+" ")}function h(a,b){var c;a=a||[];"string"==typeof a&&(a=a.split(" "));b=b||{};for(c=a.length;c--;)b[a[c]]={};return b}function v(a,b){return new v.fn.init(a,b)}function r(a){var b=arguments,c,d,f;for(d=1;b.length>d;d++)for(f in c=b[d],c)a[f]=c[f];return a}function n(a){var b=[],c,d;c=0;for(d=a.length;d>c;c++)b[c]=a[c];return b}function w(a,b){var c,d,f,e;if(a)if(c=a.length,void 0===c)for(d in a){if(a.hasOwnProperty(d)&&(e=a[d],!1===b.call(e,e,d)))break}else for(f=0;c>f&&(e=a[f],
!1!==b.call(e,e,d));f++);return a}function p(a,b,c){var d=[];for(a=a[b];a&&9!==a.nodeType&&(c===g||1!==a.nodeType||!v(a).is(c));)1===a.nodeType&&d.push(a),a=a[b];return d}function l(a,b,c,d){for(var f=[];a;a=a[c])d&&a.nodeType!==d||a===b||f.push(a);return f}var x=document,k=Array.prototype.push,z=Array.prototype.slice,A=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,u=d.Event,y=h("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"),q=Array.isArray||function(a){return"[object Array]"===
Object.prototype.toString.call(a)},D=/^\s*|\s*$/g,B=function(a){return null===a||a===g?"":(""+a).replace(D,"")};return v.fn=v.prototype={constructor:v,selector:"",length:0,init:function(b,c){var d,f;if(!b)return this;if(b.nodeType)return this.context=this[0]=b,this.length=1,this;if("string"==typeof b){if(d="<"===b.charAt(0)&&">"===b.charAt(b.length-1)&&3<=b.length?[null,b,null]:A.exec(b),!d)return v(c||document).find(b);if(d[1])for(f=a(b).firstChild;f;)this.add(f),f=f.nextSibling;else{if(f=x.getElementById(d[2]),
f.id!==d[2])return this.find(b);this.length=1;this[0]=f}}else this.add(b);return this},toArray:function(){return n(this)},add:function(a){return q(a)?k.apply(this,a):a instanceof v?this.add(a.toArray()):k.call(this,a),this},attr:function(a,b){var c=this;if("object"==typeof a)w(a,function(a,b){c.attr(b,a)});else{if(b===g)return c[0]&&1===c[0].nodeType?c[0].getAttribute(a):g;this.each(function(){1===this.nodeType&&this.setAttribute(a,b)})}return c},css:function(a,b){var c=this;if("object"==typeof a)w(a,
function(a,b){c.css(b,a)});else{if(a=a.replace(/-(\D)/g,function(a,b){return b.toUpperCase()}),b===g)return c[0]?c[0].style[a]:g;"number"!=typeof b||y[a]||(b+="px");c.each(function(){var c=this.style;"opacity"===a&&this.runtimeStyle&&this.runtimeStyle.opacity===g&&(c.filter=""===b?"":"alpha(opacity="+100*b+")");try{c[a]=b}catch(d){}})}return c},remove:function(){for(var a,b=this.length;b--;)a=this[b],u.clean(a),a.parentNode&&a.parentNode.removeChild(a);return this},empty:function(){for(var a,b=this.length;b--;)for(a=
this[b];a.firstChild;)a.removeChild(a.firstChild);return this},html:function(a){var b;if(a!==g){for(b=this.length;b--;)this[b].innerHTML=a;return this}return this[0]?this[0].innerHTML:""},text:function(a){var b;if(a!==g){for(b=this.length;b--;)this[b].innerText=this[0].textContent=a;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return c(this,arguments,function(a){1===this.nodeType&&this.appendChild(a)})},prepend:function(){return c(this,arguments,function(a){1===
this.nodeType&&this.insertBefore(a,this.firstChild)})},before:function(){return this[0]&&this[0].parentNode?c(this,arguments,function(a){this.parentNode.insertBefore(a,this.nextSibling)}):this},after:function(){return this[0]&&this[0].parentNode?c(this,arguments,function(a){this.parentNode.insertBefore(a,this)}):this},appendTo:function(a){return v(a).append(this),this},addClass:function(a){return this.toggleClass(a,!0)},removeClass:function(a){return this.toggleClass(a,!1)},toggleClass:function(a,
b){var c=this;return-1!==a.indexOf(" ")?w(a.split(" "),function(){c.toggleClass(this,b)}):c.each(function(){var c;f(this,a)!==b&&(c=this.className,b?this.className+=c?" "+a:a:this.className=B((" "+c+" ").replace(" "+a+" "," ")))}),c},hasClass:function(a){return f(this[0],a)},each:function(a){return w(this,a)},on:function(a,b){return this.each(function(){u.bind(this,a,b)})},off:function(a,b){return this.each(function(){u.unbind(this,a,b)})},show:function(){return this.css("display","")},hide:function(){return this.css("display",
"none")},slice:function(){return new v(z.apply(this,arguments))},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},replaceWith:function(a){return this[0]&&this[0].parentNode.replaceChild(v(a)[0],this[0]),this},wrap:function(a){return a=v(a)[0],this.each(function(){var b=a.cloneNode(!1);this.parentNode.insertBefore(b,this);b.appendChild(this)})},unwrap:function(){return this.each(function(){for(var a=this.firstChild,
b;a;)b=a,a=a.nextSibling,this.parentNode.insertBefore(b,this)})},clone:function(){var a=[];return this.each(function(){a.push(this.cloneNode(!0))}),v(a)},find:function(a){var b,c,d=[];b=0;for(c=this.length;c>b;b++)v.find(a,this[b],d);return v(d)},push:k,sort:[].sort,splice:[].splice},r(v,{extend:r,toArray:n,inArray:function(a,b){var c;if(b.indexOf)return b.indexOf(a);for(c=b.length;c--;)if(b[c]===a)return c;return-1},isArray:q,each:w,trim:B,makeMap:h,find:b,expr:b.selectors,unique:b.uniqueSort,text:b.getText,
isXMLDoc:b.isXML,contains:b.contains,filter:function(a,b,c){return c&&(a=":not("+a+")"),1===b.length?v.find.matchesSelector(b[0],a)?[b[0]]:[]:v.find.matches(a,b)}}),w({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return p(a,"parentNode")},parentsUntil:function(a,b){return p(a,"parentNode",b)},next:function(a){return l(a,"nextSibling",1)},prev:function(a){return l(a,"previousSibling",1)},nextNodes:function(a){return l(a,"nextSibling")},prevNodes:function(a){return l(a,
"previousSibling")},children:function(a){return l(a.firstChild,"nextSibling",1)},contents:function(a){return n(("iframe"===a.nodeName?a.contentDocument||a.contentWindow.document:a).childNodes)}},function(a,b){v.fn[a]=function(c){var d;if(1<this.length)throw Error("DomQuery only supports traverse functions on a single node.");return this[0]&&(d=b(this[0],c)),d=v(d),c&&"parentsUntil"!==a?d.filter(c):d}}),v.fn.filter=function(a){return v.filter(a)},v.fn.is=function(a){return!!a&&0<this.filter(a).length},
v.fn.init.prototype=v.fn,v});h("tinymce/html/Styles",[],function(){return function(d,b){function a(a,b,c,d){function f(a){return a=parseInt(a,10).toString(16),1<a.length?a:"0"+a}return"#"+f(b)+f(c)+f(d)}var c=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,f=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,g=/\s*([^:]+):\s*([^;]+);?/g,h=/\s+$/,r,n={},w;d=d||{};w="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(r=
0;w.length>r;r++)n[w[r]]="\ufeff"+r,n["\ufeff"+r]=w[r];return{toHex:function(b){return b.replace(c,a)},parse:function(b){function l(a,b){var c,d,f,e;(c=y[a+"-top"+b])&&(d=y[a+"-right"+b],c==d&&(f=y[a+"-bottom"+b],d==f&&(e=y[a+"-left"+b],f==e&&(y[a+b]=e,delete y[a+"-top"+b],delete y[a+"-right"+b],delete y[a+"-bottom"+b],delete y[a+"-left"+b]))))}function r(a){var b=y[a],c;if(b&&!(0>b.indexOf(" "))){b=b.split(" ");for(c=b.length;c--;)if(b[c]!==b[0])return!1;return y[a]=b[0],!0}}function w(a,b,c,d){r(b)&&
r(c)&&r(d)&&(y[a]=y[b]+" "+y[c]+" "+y[d],delete y[b],delete y[c],delete y[d])}function k(a){return G=!0,n[a]}function A(a,b){return G&&(a=a.replace(/\uFEFF[0-9]/g,function(a){return n[a]})),b||(a=a.replace(/\\([\'\";:])/g,"$1")),a}function u(a,b,c,d,f,e){return(f=f||e)?(f=A(f),"'"+f.replace(/\'/g,"\\'")+"'"):(b=A(b||c||d),F&&(b=F.call(I,b,"style")),"url('"+b.replace(/\'/g,"\\'")+"')")}var y={},q,D,B,G,F=d.url_converter,I=d.url_converter_scope||this;if(b){for(b=b.replace(/\\[\"\';:\uFEFF]/g,k).replace(/\"[^\"]+\"|\'[^\']+\'/g,
function(a){return a.replace(/[;:]/g,k)});q=g.exec(b);)D=q[1].replace(h,"").toLowerCase(),B=q[2].replace(h,""),D&&0<B.length&&("font-weight"===D&&"700"===B?B="bold":("color"===D||"background-color"===D)&&(B=B.toLowerCase()),B=B.replace(c,a),B=B.replace(f,u),y[D]=G?A(B,!0):B),g.lastIndex=q.index+q[0].length;l("border","");l("border","-width");l("border","-color");l("border","-style");l("padding","");l("margin","");w("border","border-width","border-style","border-color");"medium none"===y.border&&delete y.border}return y},
serialize:function(a,c){function d(c){var e,g,l,h;if(e=b.styles[c])for(g=0,l=e.length;l>g;g++)c=e[g],h=a[c],void 0!==h&&0<h.length&&(f+=(0<f.length?" ":"")+c+": "+h+";")}var f="",e,g;if(c&&b&&b.styles)d("*"),d(c);else for(e in a)g=a[e],void 0!==g&&0<g.length&&(f+=(0<f.length?" ":"")+e+": "+g+";");return f}}}});h("tinymce/dom/TreeWalker",[],function(){return function(d,b){function a(a,c,d,e){if(a){if(!e&&a[c])return a[c];if(a!=b){if(c=a[d])return c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=a[d])return c}}}
var c=d;this.current=function(){return c};this.next=function(b){return c=a(c,"firstChild","nextSibling",b)};this.prev=function(b){return c=a(c,"lastChild","previousSibling",b)}}});h("tinymce/util/Tools",[],function(){function d(a,b){return b?"array"==b&&v(a)?!0:typeof a==b:a!==g}function b(a,b,c){var d,f;if(!a)return 0;if(c=c||a,a.length!==g)for(d=0,f=a.length;f>d;d++){if(!1===b.call(c,a[d],d,a))return 0}else for(d in a)if(a.hasOwnProperty(d)&&!1===b.call(c,a[d],d,a))return 0;return 1}function a(a,
c){var d=[];return b(a,function(a){d.push(c(a))}),d}function c(a,d,f,e){e=e||this;a&&(f&&(a=a[f]),b(a,function(a,b){return!1===d.call(e,a,b,f)?!1:(c(a,d,f,e),g)}))}var f=/^\s*|\s*$/g,h=function(a){return null===a||a===g?"":(""+a).replace(f,"")},v=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};return{trim:h,isArray:v,is:d,toArray:function(a){var b=[],c,d;c=0;for(d=a.length;d>c;c++)b[c]=a[c];return b},makeMap:function(a,b,c){a=a||[];"string"==typeof a&&(a=a.split(b||
","));c=c||{};for(b=a.length;b--;)c[a[b]]={};return c},each:b,map:a,grep:function(a,c){var d=[];return b(a,function(a){c&&!c(a)||d.push(a)}),d},inArray:function(a,b){var c,d;if(a)for(c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},extend:function(a,b){var c,d,f,e=arguments,h;c=1;for(d=e.length;d>c;c++)for(f in b=e[c],b)b.hasOwnProperty(f)&&(h=b[f],h!==g&&(a[f]=h));return a},create:function(a,b,c){var d,f,e,h,m,v=0;if(a=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(a),e=a[3].match(/(^|\.)(\w+)$/i)[2],
f=this.createNS(a[3].replace(/\.\w+$/,""),c),!f[e]){if("static"==a[2])return f[e]=b,this.onCreate&&this.onCreate(a[2],a[3],f[e]),g;b[e]||(b[e]=function(){},v=1);f[e]=b[e];this.extend(f[e].prototype,b);a[5]&&(d=this.resolve(a[5]).prototype,h=a[5].match(/\.(\w+)$/i)[1],m=f[e],f[e]=v?function(){return d[h].apply(this,arguments)}:function(){return this.parent=d[h],m.apply(this,arguments)},f[e].prototype[e]=f[e],this.each(d,function(a,b){f[e].prototype[b]=d[b]}),this.each(b,function(a,b){d[b]?f[e].prototype[b]=
function(){return this.parent=d[b],a.apply(this,arguments)}:b!=e&&(f[e].prototype[b]=a)}));this.each(b["static"],function(a,b){f[e][b]=a})}},walk:c,createNS:function(a,b){var c,d;b=b||window;a=a.split(".");for(c=0;a.length>c;c++)d=a[c],b[d]||(b[d]={}),b=b[d];return b},resolve:function(a,b){var c,d;b=b||window;a=a.split(".");c=0;for(d=a.length;d>c&&(b=b[a[c]],b);c++);return b},explode:function(b,c){return!b||d(b,"array")?b:a(b.split(c||","),h)}}});h("tinymce/dom/Range",["tinymce/util/Tools"],function(d){function b(a){function c(a,
b){p(B,a,b)}function f(a,b){p(G,a,b)}function h(a){c(a.parentNode,P(a))}function v(a){f(a.parentNode,P(a)+1)}function r(){return l(q)}function n(a,b){var c;if(3==a.nodeType||0>b)return a;for(c=a.firstChild;c&&0<b;)--b,c=c.nextSibling;return c?c:a}function w(b,c,d,f){var e,g;if(b==d)return c==f?0:f>c?-1:1;for(e=d;e&&e.parentNode!=b;)e=e.parentNode;if(e){g=0;for(d=b.firstChild;d!=e&&c>g;)g++,d=d.nextSibling;return g>=c?-1:1}for(e=b;e&&e.parentNode!=d;)e=e.parentNode;if(e){g=0;for(d=d.firstChild;d!=
e&&f>g;)g++,d=d.nextSibling;return f>g?-1:1}for(c=a.findCommonAncestor(b,d);b&&b.parentNode!=c;)b=b.parentNode;b||(b=c);for(f=d;f&&f.parentNode!=c;)f=f.parentNode;if(f||(f=c),b==f)return 0;for(d=c.firstChild;d;){if(d==b)return-1;if(d==f)return 1;d=d.nextSibling}}function p(b,c,d){b?(u[I]=c,u[F]=d):(u[O]=c,u[N]=d);for(c=u[O];c.parentNode;)c=c.parentNode;for(d=u[I];d.parentNode;)d=d.parentNode;d==c?0<w(u[I],u[F],u[O],u[N])&&u.collapse(b):u.collapse(b);u.collapsed=u[I]==u[O]&&u[F]==u[N];u.commonAncestorContainer=
a.findCommonAncestor(u[I],u[O])}function l(a){var b,c=0,d=0,f;if(u[I]==u[O]){var e,g,l,h,m;if(a!=D&&(b=y.createDocumentFragment()),u[F]==u[N])a=b;else if(3==u[I].nodeType)a=(e=u[I].nodeValue,g=e.substring(u[F],u[N]),a!=q&&(f=u[I],h=u[F],m=u[N]-u[F],0===h&&m>=f.nodeValue.length-1?f.parentNode.removeChild(f):f.deleteData(h,m),u.collapse(B)),a==D)?void 0:(0<g.length&&b.appendChild(y.createTextNode(g)),b);else{f=n(u[I],u[F]);for(l=u[N]-u[F];f&&0<l;)c=f.nextSibling,f=A(f,a),b&&b.appendChild(f),--l,f=c;
a=(a!=q&&u.collapse(B),b)}return a}b=u[O];for(f=b.parentNode;f;b=f,f=f.parentNode){if(f==u[I]){l=b;g=e=d=c=f=b=void 0;if(!(a!=D&&(b=y.createDocumentFragment()),f=x(l,a),b&&b.appendChild(f),c=P(l),d=c-u[F],0>=d))for(f=l.previousSibling;0<d;)e=f.previousSibling,g=A(f,a),b&&b.insertBefore(g,b.firstChild),--d,f=e;a=(a!=q&&(u.setEndBefore(l),u.collapse(G)),b);return a}++c}b=u[I];for(f=b.parentNode;f;b=f,f=f.parentNode){if(f==u[O]){l=b;d=c=f=d=f=b=void 0;a!=D&&(b=y.createDocumentFragment());d=k(l,a);b&&
b.appendChild(d);f=P(l);++f;f=u[N]-f;for(d=l.nextSibling;d&&0<f;)c=d.nextSibling,d=A(d,a),b&&b.appendChild(d),--f,d=c;return a!=q&&(u.setStartAfter(l),u.collapse(B)),b}++d}c=d-c;for(b=u[I];0<c;)b=b.parentNode,c--;for(f=u[O];0>c;)f=f.parentNode,c++;c=b.parentNode;for(d=f.parentNode;c!=d;c=c.parentNode,d=d.parentNode)b=c,f=d;a!=D&&(l=y.createDocumentFragment());c=k(b,a);l&&l.appendChild(c);d=P(b);e=P(f);++d;d=e-d;for(e=b.nextSibling;0<d;)g=e.nextSibling,c=A(e,a),l&&l.appendChild(c),e=g,--d;return c=
x(f,a),l&&l.appendChild(c),a!=q&&(u.setStartAfter(b),u.collapse(B)),l}function x(a,b){var c=n(u[O],u[N]-1),d,f,e,g=c!=u[O];if(c==a)return z(c,g,G,b);d=c.parentNode;for(f=z(d,G,G,b);d;){for(;c;)e=c.previousSibling,c=z(c,g,G,b),b!=D&&f.insertBefore(c,f.firstChild),g=B,c=e;if(d==a)return f;c=d.previousSibling;d=d.parentNode;e=z(d,G,G,b);b!=D&&e.appendChild(f);f=e}}function k(a,b){var c=n(u[I],u[F]),d=c!=u[I],f,e,g;if(c==a)return z(c,d,B,b);f=c.parentNode;for(e=z(f,G,B,b);f;){for(;c;)g=c.nextSibling,
c=z(c,d,B,b),b!=D&&e.appendChild(c),d=B,c=g;if(f==a)return e;c=f.nextSibling;f=f.parentNode;g=z(f,G,B,b);b!=D&&g.appendChild(e);e=g}}function z(b,c,d,f){var e,g,l,h,m;if(c)return A(b,f);if(3==b.nodeType)return(e=b.nodeValue,d?(h=u[F],g=e.substring(h),l=e.substring(0,h)):(h=u[N],g=e.substring(0,h),l=e.substring(h)),f!=q&&(b.nodeValue=l),f==D)?void 0:(m=a.clone(b,G),m.nodeValue=g,m);if(f!=D)return a.clone(b,G)}function A(b,c){return c!=D?c==q?a.clone(b,B):b:(b.parentNode.removeChild(b),g)}var u=this,
y=a.doc,q=1,D=2,B=!0,G=!1,F="startOffset",I="startContainer",O="endContainer",N="endOffset",R=d.extend,P=a.nodeIndex;return R(u,{startContainer:y,startOffset:0,endContainer:y,endOffset:0,collapsed:B,commonAncestorContainer:y,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:c,setEnd:f,setStartBefore:h,setStartAfter:function(a){c(a.parentNode,P(a)+1)},setEndBefore:function(a){f(a.parentNode,P(a))},setEndAfter:v,collapse:function(a){a?(u[O]=u[I],u[N]=u[F]):(u[I]=u[O],u[F]=u[N]);u.collapsed=
B},selectNode:function(a){h(a);v(a)},selectNodeContents:function(a){c(a,0);f(a,1===a.nodeType?a.childNodes.length:a.nodeValue.length)},compareBoundaryPoints:function(a,b){var c=u[I],d=u[F],f=u[O],e=u[N],l=b.startContainer,h=b.startOffset,m=b.endContainer,p=b.endOffset;return 0===a?w(c,d,l,h):1===a?w(f,e,l,h):2===a?w(f,e,m,p):3===a?w(c,d,m,p):g},deleteContents:function(){l(D)},extractContents:function(){return l(0)},cloneContents:r,insertNode:function(b){var c=this[I],d=this[F],f,e;3!==c.nodeType&&
4!==c.nodeType||!c.nodeValue?(0<c.childNodes.length&&(e=c.childNodes[d]),e?c.insertBefore(b,e):c.appendChild(b)):d?d>=c.nodeValue.length?a.insertAfter(b,c):(f=c.splitText(d),c.parentNode.insertBefore(b,f)):c.parentNode.insertBefore(b,c)},surroundContents:function(a){var b=u.extractContents();u.insertNode(a);a.appendChild(b);u.selectNode(a)},cloneRange:function(){return R(new b(a),{startContainer:u[I],startOffset:u[F],endContainer:u[O],endOffset:u[N],collapsed:u.collapsed,commonAncestorContainer:u.commonAncestorContainer})},
toStringIE:function(){return a.create("body",null,r()).outerText}}),u}return b.prototype.toString=function(){return this.toStringIE()},b});h("tinymce/html/Entities",["tinymce/util/Tools"],function(d){function b(a,b){var c,d,e,g={};if(a){a=a.split(",");b=b||10;for(c=0;a.length>c;c+=2)d=String.fromCharCode(parseInt(a[c],b)),f[d]||(e="&"+a[c+1]+";",g[d]=e,g[e]=d);return g}}var a=d.makeMap,c,f,g,h=/[&<>\"\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,r=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
n=/[<>&\"\']/g,w=/&(#x|#)?([\w]+);/g,p={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};f={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;"};g={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',
"&apos;":"'"};c=b("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",
32);var l={encodeRaw:function(a,b){return a.replace(b?h:r,function(a){return f[a]||a})},encodeAllRaw:function(a){return(""+a).replace(n,function(a){return f[a]||a})},encodeNumeric:function(a,b){return a.replace(b?h:r,function(a){return 1<a.length?"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";":f[a]||"&#"+a.charCodeAt(0)+";"})},encodeNamed:function(a,b,d){return d=d||c,a.replace(b?h:r,function(a){return f[a]||d[a]||a})},getEncodeFunc:function(d,e){function g(a,b){return a.replace(b?
h:r,function(a){return f[a]||e[a]||"&#"+a.charCodeAt(0)+";"||a})}function m(a,b){return l.encodeNamed(a,b,e)}return e=b(e)||c,d=a(d.replace(/\+/g,",")),d.named&&d.numeric?g:d.named?e?m:l.encodeNamed:d.numeric?l.encodeNumeric:l.encodeRaw},decode:function(a){return a.replace(w,function(a,b,d){if(b)a=(d=parseInt(d,2===b.length?16:10),65535<d?(d-=65536,String.fromCharCode(55296+(d>>10),56320+(1023&d))):p[d]||String.fromCharCode(d));else{if(!(d=g[a]||c[a])){var f;d=(f=document.createElement("div"),f.innerHTML=
a,f.textContent||f.innerText||a)}a=d}return a})}};return l});h("tinymce/Env",[],function(){var d=navigator,b=d.userAgent,a,c,f,g,h;a=window.opera&&window.opera.buildNumber;c=/WebKit/.test(b);d=(d=!c&&!a&&/MSIE/gi.test(b)&&/Explorer/gi.test(d.appName))&&/MSIE (\w+)\./.exec(b)[1];f=!c&&/Gecko/.test(b);g=-1!=b.indexOf("Mac");h=/(iPad|iPhone)/.test(b);b=!h||534<=b.match(/AppleWebKit\/(\d*)/)[1];return{opera:a,webkit:c,ie:d,gecko:f,mac:g,iOS:h,contentEditable:b,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
caretAfter:8!=d,range:window.getSelection&&"Range"in window}});h("tinymce/dom/DOMUtils","tinymce/dom/Sizzle tinymce/html/Styles tinymce/dom/EventUtils tinymce/dom/TreeWalker tinymce/dom/Range tinymce/html/Entities tinymce/Env tinymce/util/Tools".split(" "),function(d,b,a,c,f,h,v,r){function n(c,d){var f;this.doc=c;this.win=window;this.files={};this.counter=0;this.stdMode=!A||8<=c.documentMode;this.boxModel=!A||"CSS1Compat"==c.compatMode||this.stdMode;this.hasOuterHTML="outerHTML"in c.createElement("a");
this.settings=d=k({keep_values:!1,hex_colors:1},d);this.schema=d.schema;this.styles=new b({url_converter:d.url_converter,url_converter_scope:d.url_converter_scope},d.schema);this.fixDoc(c);this.events=d.ownEvents?new a(d.proxy):a.Event;f=d.schema?d.schema.getBlockElements():{};this.isBlock=function(a){if(!a)return!1;var b=a.nodeType;return b?!(1!==b||!f[a.nodeName]):!!f[a]}}var w=r.each,p=r.is,l=r.grep,x=r.trim,k=r.extend,z=v.webkit,A=v.ie,u=/^([a-z0-9],?)+$/i,y=/^[ \t\r\n]*$/,q=r.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom",
" ");return n.prototype={root:null,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},fixDoc:function(a){var b=this.settings,c;if(A&&b.schema)for(c in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(b){a.createElement(b)}),
b.schema.getCustomElements())a.createElement(c)},clone:function(a,b){var c=this,d,f;return!A||1!==a.nodeType||b?a.cloneNode(b):(f=c.doc,b?d.firstChild:(d=f.createElement(a.nodeName),w(c.getAttribs(a),function(b){c.setAttrib(d,b.nodeName,c.getAttrib(a,b.nodeName))}),d))},getRoot:function(){return this.get(this.settings.root_element)||this.doc.body},getViewPort:function(a){var b,c;return a=a?a:this.win,b=a.document,c=this.boxModel?b.documentElement:b.body,{x:a.pageXOffset||c.scrollLeft,y:a.pageYOffset||
c.scrollTop,w:a.innerWidth||c.clientWidth,h:a.innerHeight||c.clientHeight}},getRect:function(a){var b,c;return a=this.get(a),b=this.getPos(a),c=this.getSize(a),{x:b.x,y:b.y,w:c.w,h:c.h}},getSize:function(a){var b,c;return a=this.get(a),b=this.getStyle(a,"width"),c=this.getStyle(a,"height"),-1===b.indexOf("px")&&(b=0),-1===c.indexOf("px")&&(c=0),{w:parseInt(b,10)||a.offsetWidth||a.clientWidth,h:parseInt(c,10)||a.offsetHeight||a.clientHeight}},getParent:function(a,b,c){return this.getParents(a,b,c,
!1)},getParents:function(a,b,c,d){var f=this,e,l=[];a=f.get(a);d=d===g;c=c||("BODY"!=f.getRoot().nodeName?f.getRoot().parentNode:null);for(p(b,"string")&&(e=b,b="*"===b?function(a){return 1==a.nodeType}:function(a){return f.is(a,e)});a&&a!=c&&a.nodeType&&9!==a.nodeType;){if(!b||b(a)){if(!d)return a;l.push(a)}a=a.parentNode}return d?l:null},get:function(a){var b;return a&&this.doc&&"string"==typeof a&&(b=a,a=this.doc.getElementById(a),a&&a.id!==b)?this.doc.getElementsByName(b)[1]:a},getNext:function(a,
b){return this._findSib(a,b,"nextSibling")},getPrev:function(a,b){return this._findSib(a,b,"previousSibling")},select:function(a,b){return d(a,this.get(b)||this.get(this.settings.root_element)||this.doc,[])},is:function(a,b){var c;if(a.length===g){if("*"===b)return 1==a.nodeType;if(u.test(b)){b=b.toLowerCase().split(/,/);a=a.nodeName.toLowerCase();for(c=b.length-1;0<=c;c--)if(b[c]==a)return!0;return!1}}return 0<d.matches(b,a.nodeType?[a]:a).length},add:function(a,b,c,d,f){var e=this;return this.run(a,
function(a){var g;return g=p(b,"string")?e.doc.createElement(b):b,e.setAttribs(g,c),d&&(d.nodeType?g.appendChild(d):e.setHTML(g,d)),f?g:a.appendChild(g)})},create:function(a,b,c){return this.add(this.doc.createElement(a),a,b,c,1)},createHTML:function(a,b,c){var d,f;d="<"+a;for(f in b)b.hasOwnProperty(f)&&null!==b[f]&&(d+=" "+f+'="'+this.encode(b[f])+'"');return c!==g?d+">"+c+"</"+a+">":d+" />"},createFragment:function(a){var b;b=this.doc;var c;c=b.createElement("div");b=b.createDocumentFragment();
for(a&&(c.innerHTML=a);a=c.firstChild;)b.appendChild(a);return b},remove:function(a,b){return this.run(a,function(a){var c,d=a.parentNode;if(!d)return null;if(b)for(;c=a.firstChild;)!A||3!==c.nodeType||c.nodeValue?d.insertBefore(c,a):a.removeChild(c);return d.removeChild(a)})},setStyle:function(a,b,c){return this.run(a,function(a){var d;if(b)if("string"==typeof b){d=a.style;b=b.replace(/-(\D)/g,function(a,b){return b.toUpperCase()});"number"!=typeof c||q[b]||(c+="px");"opacity"===b&&a.runtimeStyle&&
a.runtimeStyle.opacity===g&&(d.filter=""===c?"":"alpha(opacity="+100*c+")");"float"==b&&(b="cssFloat"in a.style?"cssFloat":"styleFloat");try{d[b]=c}catch(f){}this.settings.update_styles&&a.removeAttribute("data-mce-style")}else for(d in b)this.setStyle(a,d,b[d])})},getStyle:function(a,b,c){if(a=this.get(a)){if(this.doc.defaultView&&c){b=b.replace(/[A-Z]/g,function(a){return"-"+a});try{return this.doc.defaultView.getComputedStyle(a,null).getPropertyValue(b)}catch(d){return null}}return b=b.replace(/-(\D)/g,
function(a,b){return b.toUpperCase()}),"float"==b&&(b=A?"styleFloat":"cssFloat"),b.currentStyle&&c?a.currentStyle[b]:a.style?a.style[b]:g}},setStyles:function(a,b){this.setStyle(a,b)},css:function(a,b,c){this.setStyle(a,b,c)},removeAllAttribs:function(a){return this.run(a,function(a){var b,c=a.attributes;for(b=c.length-1;0<=b;b--)a.removeAttributeNode(c.item(b))})},setAttrib:function(a,b,c){var d=this;if(a&&b)return this.run(a,function(a){var f=d.settings,e=a.getAttribute(b);if(null!==c)switch(b){case "style":if(!p(c,
"string"))return w(c,function(b,c){d.setStyle(a,c,b)}),g;f.keep_values&&(c?a.setAttribute("data-mce-style",c,2):a.removeAttribute("data-mce-style",2));a.style.cssText=c;break;case "class":a.className=c||"";break;case "src":case "href":f.keep_values&&(f.url_converter&&(c=f.url_converter.call(f.url_converter_scope||d,c,b,a)),d.setAttrib(a,"data-mce-"+b,c,2));break;case "shape":a.setAttribute("data-mce-style",c)}p(c)&&null!==c&&0!==c.length?a.setAttribute(b,""+c,2):a.removeAttribute(b,2);e!=c&&f.onSetAttrib&&
f.onSetAttrib({attrElm:a,attrName:b,attrValue:c})})},setAttribs:function(a,b){var c=this;return this.run(a,function(a){w(b,function(b,d){c.setAttrib(a,d,b)})})},getAttrib:function(a,b,c){var d;if(a=this.get(a),!a||1!==a.nodeType)return void 0===c?!1:c;if(p(c)||(c=""),/^(src|href|style|coords|shape)$/.test(b)&&(d=a.getAttribute("data-mce-"+b)))return d;if(A&&this.props[b]&&(d=a[this.props[b]],d=d&&d.nodeValue?d.nodeValue:d),d||(d=a.getAttribute(b,2)),/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(b))return!0===
a[this.props[b]]&&""===d?b:d?b:"";if("FORM"===a.nodeName&&a.getAttributeNode(b))return a.getAttributeNode(b).nodeValue;if("style"===b&&(d=d||a.style.cssText,d&&(d=this.serializeStyle(this.parseStyle(d),a.nodeName),this.settings.keep_values&&a.setAttribute("data-mce-style",d))),z&&"class"===b&&d&&(d=d.replace(/(apple|webkit)\-[a-z\-]+/gi,"")),A)switch(b){case "rowspan":case "colspan":1===d&&(d="");break;case "size":"+0"!==d&&20!==d&&0!==d||(d="");break;case "width":case "height":case "vspace":case "checked":case "disabled":case "readonly":0===
d&&(d="");break;case "hspace":-1===d&&(d="");break;case "maxlength":case "tabindex":32768!==d&&2147483647!==d&&"32768"!==d||(d="");break;case "multiple":case "compact":case "noshade":case "nowrap":return 65535===d?b:c;case "shape":d=d.toLowerCase();break;default:0===b.indexOf("on")&&d&&(d=(""+d).replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1"))}return void 0!==d&&null!==d&&""!==d?""+d:c},getPos:function(a,b){var c=0,d=0,f;f=this.doc;var e;if(a=this.get(a),b=b||f.body,a){if(b===f.body&&a.getBoundingClientRect)return e=
a.getBoundingClientRect(),b=this.boxModel?f.documentElement:f.body,c=e.left+(f.documentElement.scrollLeft||f.body.scrollLeft)-b.clientTop,d=e.top+(f.documentElement.scrollTop||f.body.scrollTop)-b.clientLeft,{x:c,y:d};for(f=a;f&&f!=b&&f.nodeType;)c+=f.offsetLeft||0,d+=f.offsetTop||0,f=f.offsetParent;for(f=a.parentNode;f&&f!=b&&f.nodeType;)c-=f.scrollLeft||0,d-=f.scrollTop||0,f=f.parentNode}return{x:c,y:d}},parseStyle:function(a){return this.styles.parse(a)},serializeStyle:function(a,b){return this.styles.serialize(a,
b)},addStyle:function(a){var b=this.doc,c,d;if(this!==n.DOM&&b===document){d=n.DOM.addedStyles;if(d=d||[],d[a])return;d[a]=!0;n.DOM.addedStyles=d}(d=b.getElementById("mceDefaultStyles"))||(d=b.createElement("style"),d.id="mceDefaultStyles",d.type="text/css",c=b.getElementsByTagName("head")[0],c.firstChild?c.insertBefore(d,c.firstChild):c.appendChild(d));d.styleSheet?d.styleSheet.cssText+=a:d.appendChild(b.createTextNode(a))},loadCSS:function(a){var b=this,c=b.doc,d;return b!==n.DOM&&c===document?
(n.DOM.loadCSS(a),g):(a||(a=""),d=c.getElementsByTagName("head")[0],w(a.split(","),function(a){var f;b.files[a]||(b.files[a]=!0,f=b.create("link",{rel:"stylesheet",href:a}),A&&c.documentMode&&c.recalc&&(f.onload=function(){c.recalc&&c.recalc();f.onload=null}),d.appendChild(f))}),g)},addClass:function(a,b){return this.run(a,function(a){var c;return b?this.hasClass(a,b)?a.className:(c=this.removeClass(a,b),a.className=c=(""!==c?c+" ":"")+b,c):0})},removeClass:function(a,b){var c=this,d;return c.run(a,
function(a){var f;return c.hasClass(a,b)?(d||(d=RegExp("(^|\\s+)"+b+"(\\s+|$)","g")),f=a.className.replace(d," "),f=x(" "!=f?f:""),a.className=f,f||(a.removeAttribute("class"),a.removeAttribute("className")),f):a.className})},hasClass:function(a,b){return a=this.get(a),a&&b?-1!==(" "+a.className+" ").indexOf(" "+b+" "):!1},toggleClass:function(a,b,c){c=c===g?!this.hasClass(a,b):c;this.hasClass(a,b)!==c&&(c?this.addClass(a,b):this.removeClass(a,b))},show:function(a){return this.setStyle(a,"display",
"block")},hide:function(a){return this.setStyle(a,"display","none")},isHidden:function(a){return a=this.get(a),!a||"none"==a.style.display||"none"==this.getStyle(a,"display")},uniqueId:function(a){return(a?a:"mce_")+this.counter++},setHTML:function(a,b){var c=this;return c.run(a,function(a){if(A){for(;a.firstChild;)a.removeChild(a.firstChild);try{a.innerHTML="<br />"+b,a.removeChild(a.firstChild)}catch(d){var f=c.create("div");f.innerHTML="<br />"+b;w(l(f.childNodes),function(b,c){c&&a.canHaveHTML&&
a.appendChild(b)})}}else a.innerHTML=b;return b})},getOuterHTML:function(a){var b;return(a=this.get(a))?1===a.nodeType&&this.hasOuterHTML?a.outerHTML:(b=(a.ownerDocument||this.doc).createElement("body"),b.appendChild(a.cloneNode(!0)),b.innerHTML):null},setOuterHTML:function(a,b,c){var d=this;return d.run(a,function(a){function f(){var e;e=c.createElement("body");e.innerHTML=b;for(e=e.lastChild;e;)d.insertAfter(e.cloneNode(!0),a),e=e.previousSibling;d.remove(a)}if(1==a.nodeType)if(c=c||a.ownerDocument||
d.doc,A)try{1==a.nodeType&&d.hasOuterHTML?a.outerHTML=b:f()}catch(e){f()}else f()})},decode:h.decode,encode:h.encodeAllRaw,insertAfter:function(a,b){return b=this.get(b),this.run(a,function(a){var c,d;return c=b.parentNode,d=b.nextSibling,d?c.insertBefore(a,d):c.appendChild(a),a})},replace:function(a,b,c){return this.run(b,function(b){return p(b,"array")&&(a=a.cloneNode(!0)),c&&w(l(b.childNodes),function(b){a.appendChild(b)}),b.parentNode.replaceChild(a,b)})},rename:function(a,b){var c=this,d;return a.nodeName!=
b.toUpperCase()&&(d=c.create(b),w(c.getAttribs(a),function(b){c.setAttrib(d,b.nodeName,c.getAttrib(a,b.nodeName))}),c.replace(d,a,1)),d||a},findCommonAncestor:function(a,b){for(var c=a,d;c;){for(d=b;d&&c!=d;)d=d.parentNode;if(c==d)break;c=c.parentNode}return!c&&a.ownerDocument?a.ownerDocument.documentElement:c},toHex:function(a){return this.styles.toHex(r.trim(a))},getClasses:function(){function a(e){w(e.imports,function(b){a(b)});w(e.cssRules||e.rules,function(e){switch(e.type||1){case 1:e.selectorText&&
w(e.selectorText.split(","),function(a){a=a.replace(/^\s*|\s*$|^\s\./g,"");/\.mce/.test(a)||!/\.[\w\-]+$/.test(a)||(f=a,a=a.replace(/.*\.([a-z0-9_\-]+).*/i,"$1"),d&&!(a=d(a,f))||c[a]||(b.push({"class":a}),c[a]=1))});break;case 3:a(e.styleSheet)}})}var b=[],c={},d=this.settings.class_filter,f;if(this.classes)return this.classes;try{w(this.doc.styleSheets,a)}catch(e){}return 0<b.length&&(this.classes=b),b},run:function(a,b,c){var d=this,f;return"string"==typeof a&&(a=d.get(a)),a?(c=c||this,a.nodeType||
!a.length&&0!==a.length?b.call(c,a):(f=[],w(a,function(a,e){a&&("string"==typeof a&&(a=d.get(a)),f.push(b.call(c,a,e)))}),f)):!1},getAttribs:function(a){var b;if(a=this.get(a),!a)return[];if(A){if(b=[],"OBJECT"==a.nodeName)return a.attributes;"OPTION"===a.nodeName&&this.getAttrib(a,"selected")&&b.push({specified:1,nodeName:"selected"});return a.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(a){b.push({specified:1,nodeName:a})}),
b}return a.attributes},isEmpty:function(a,b){var d,f,e,g,l=0;if(a=a.firstChild){e=new c(a,a.parentNode);b=b||this.schema?this.schema.getNonEmptyElements():null;do{if(f=a.nodeType,1===f){if(a.getAttribute("data-mce-bogus"))continue;if(g=a.nodeName.toLowerCase(),b&&b[g]){if("br"===g){l++;continue}return!1}this.getAttribs(a);for(d=a.attributes.length;d--;)if(g=a.attributes[d].nodeName,"name"===g||"data-mce-bookmark"===g)return!1}if(8==f||3===f&&!y.test(a.nodeValue))return!1}while(a=e.next())}return 1>=
l},createRng:function(){var a=this.doc;return a.createRange?a.createRange():new f(this)},nodeIndex:function(a,b){var c=0,d,f;if(a)for(d=a.nodeType,a=a.previousSibling;a;a=a.previousSibling)f=a.nodeType,(!b||3!=f||f!=d&&a.nodeValue.length)&&(c++,d=f);return c},split:function(a,b,c){function d(a){var b,c=a.childNodes,e=a.nodeType;if(1!=e||"bookmark"!=a.getAttribute("data-mce-type")){for(b=c.length-1;0<=b;b--)d(c[b]);if(9!=e){if(3==e&&0<a.nodeValue.length){b=x(a.nodeValue).length;if(!(c=!f.isBlock(a.parentNode)||
0<b)){if(b=0===b)b=a.nextSibling&&"SPAN"==a.nextSibling.nodeName,b=a.previousSibling&&"SPAN"==a.previousSibling.nodeName&&b;c=b}if(c)return}else if(1==e&&(c=a.childNodes,1==c.length&&c[0]&&1==c[0].nodeType&&"bookmark"==c[0].getAttribute("data-mce-type")&&a.parentNode.insertBefore(c[0],a),c.length||/^(br|hr|input|img)$/i.test(a.nodeName)))return;f.remove(a)}return a}}var f=this,e=f.createRng(),l,h,m;return a&&b?(e.setStart(a.parentNode,f.nodeIndex(a)),e.setEnd(b.parentNode,f.nodeIndex(b)),l=e.extractContents(),
e=f.createRng(),e.setStart(b.parentNode,f.nodeIndex(b)+1),e.setEnd(a.parentNode,f.nodeIndex(a)+1),h=e.extractContents(),m=a.parentNode,m.insertBefore(d(l),a),c?m.replaceChild(c,b):m.insertBefore(b,a),m.insertBefore(d(h),a),f.remove(a),c||b):g},bind:function(a,b,c,d){return this.events.bind(a,b,c,d||this)},unbind:function(a,b,c){return this.events.unbind(a,b,c)},fire:function(a,b,c){return this.events.fire(a,b,c)},getContentEditable:function(a){var b;return 1!=a.nodeType?null:(b=a.getAttribute("data-mce-contenteditable"),
b&&"inherit"!==b?b:"inherit"!==a.contentEditable?a.contentEditable:null)},destroy:function(){this.win=this.doc=this.root=this.events=this.frag=null},dumpRng:function(a){return"startContainer: "+a.startContainer.nodeName+", startOffset: "+a.startOffset+", endContainer: "+a.endContainer.nodeName+", endOffset: "+a.endOffset},_findSib:function(a,b,c){var d=this,f=b;if(a)for("string"==typeof f&&(f=function(a){return d.is(a,b)}),a=a[c];a;a=a[c])if(f(a))return a;return null}},n.DOM=new n(document),n});h("tinymce/dom/ScriptLoader",
["tinymce/dom/DOMUtils","tinymce/util/Tools"],function(d,b){function a(){function a(b,d){function f(){e.remove(l);g&&(g.onreadystatechange=g.onload=g=null);d()}var e=c,g,l;l=e.uniqueId();g=document.createElement("script");g.id=l;g.type="text/javascript";g.src=b;g.onload=f;g.onreadystatechange=function(){/loaded|complete/.test(g.readyState)&&f()};g.onerror=function(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+b)};(document.getElementsByTagName("head")[0]||document.body).appendChild(g)}
var b={},d=[],e={},p=[],l=0;this.isDone=function(a){return 2==b[a]};this.markDone=function(a){b[a]=2};this.add=this.load=function(a,c,f){void 0==b[a]&&(d.push(a),b[a]=0);c&&(e[a]||(e[a]=[]),e[a].push({func:c,scope:f||this}))};this.loadQueue=function(a,b){this.loadScripts(d,a,b)};this.loadScripts=function(c,d,n){function k(a){f(e[a],function(a){a.func.call(a.scope)});e[a]=void 0}var u;p.push({func:d,scope:n||this});u=function(){var d=h(c);c.length=0;f(d,function(c){return 2==b[c]?(k(c),g):(1!=b[c]&&
(b[c]=1,l++,a(c,function(){b[c]=2;l--;k(c);u()})),g)});l||(f(p,function(a){a.func.call(a.scope)}),p.length=0)};u()}}var c=d.DOM,f=b.each,h=b.grep;return a.ScriptLoader=new a,a});h("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(d,b){function a(){this.items=[];this.urls={};this.lookup={}}var c=b.each;return a.prototype={get:function(a){return this.lookup[a]?this.lookup[a].instance:g},dependencies:function(a){var b;return this.lookup[a]&&(b=this.lookup[a].dependencies),
b||[]},requireLangPack:function(b){var c=a.settings;c&&c.language&&!1!==c.language_load&&d.ScriptLoader.add(this.urls[b]+"/langs/"+c.language+".js")},add:function(a,b,c){return this.items.push(b),this.lookup[a]={instance:b,dependencies:c},b},createUrl:function(a,b){return"object"==typeof b?b:{prefix:a.prefix,resource:b,suffix:a.suffix}},addComponents:function(a,b){var g=this.urls[a];c(b,function(a){d.ScriptLoader.add(g+"/"+a)})},load:function(b,h,v,r){function n(){var a=w.dependencies(b);c(a,function(a){a=
w.createUrl(h,a);w.load(a.resource,a,g,g)});v&&(r?v.call(r):v.call(d))}var w=this,p=h;w.urls[b]||("object"==typeof h&&(p=h.prefix+h.resource+h.suffix),0!==p.indexOf("/")&&-1==p.indexOf("://")&&(p=a.baseURL+"/"+p),w.urls[b]=p.substring(0,p.lastIndexOf("/")),w.lookup[b]?n():d.ScriptLoader.add(p,n,r))}},a.PluginManager=new a,a.ThemeManager=new a,a});h("tinymce/html/Node",[],function(){function d(a,b,c){var e;e=c?"lastChild":"firstChild";c=c?"prev":"next";if(a[e])return a[e];if(a!==b){if(e=a[c])return e;
for(a=a.parent;a&&a!==b;a=a.parent)if(e=a[c])return e}}function b(a,b){this.name=a;this.type=b;1===b&&(this.attributes=[],this.attributes.map={})}var a=/^[ \t\r\n]*$/,c={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return b.prototype={replace:function(a){return a.parent&&a.remove(),this.insert(a,this),this.remove(),this},attr:function(a,b){var c,d;if("string"!=typeof a){for(d in a)this.attr(d,a[d]);return this}if(c=this.attributes){if(void 0!==b){if(null===b){if(a in
c.map)for(delete c.map[a],d=c.length;d--;)if(c[d].name===a)return c.splice(d,1),this;return this}if(a in c.map)for(d=c.length;d--;){if(c[d].name===a){c[d].value=b;break}}else c.push({name:a,value:b});return c.map[a]=b,this}return c.map[a]}},clone:function(){var a=new b(this.name,this.type),c,d,e,g,h;if(e=this.attributes){h=[];h.map={};c=0;for(d=e.length;d>c;c++)g=e[c],"id"!==g.name&&(h[h.length]={name:g.name,value:g.value},h.map[g.name]=g.value);a.attributes=h}return a.value=this.value,a.shortEnded=
this.shortEnded,a},wrap:function(a){return this.parent.insert(a,this),a.append(this),this},unwrap:function(){var a,b;for(a=this.firstChild;a;)b=a.next,this.insert(a,this,!0),a=b;this.remove()},remove:function(){var a=this.parent,b=this.next,c=this.prev;return a&&(a.firstChild===this?(a.firstChild=b,b&&(b.prev=null)):c.next=b,a.lastChild===this?(a.lastChild=c,c&&(c.next=null)):b.prev=c,this.parent=this.next=this.prev=null),this},append:function(a){var b;return a.parent&&a.remove(),b=this.lastChild,
b?(b.next=a,a.prev=b,this.lastChild=a):this.lastChild=this.firstChild=a,a.parent=this,a},insert:function(a,b,c){var d;return a.parent&&a.remove(),d=b.parent||this,c?(b===d.firstChild?d.firstChild=a:b.prev.next=a,a.prev=b.prev,a.next=b,b.prev=a):(b===d.lastChild?d.lastChild=a:b.next.prev=a,a.next=b.next,a.prev=b,b.next=a),a.parent=d,a},getAll:function(a){var b,c=[];for(b=this.firstChild;b;b=d(b,this))b.name===a&&c.push(b);return c},empty:function(){var a,b,c;if(this.firstChild){a=[];for(c=this.firstChild;c;c=
d(c,this))a.push(c);for(b=a.length;b--;)c=a[b],c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}return this.firstChild=this.lastChild=null,this},isEmpty:function(b){var c=this.firstChild,g,h;if(c){do{if(1===c.type){if(c.attributes.map["data-mce-bogus"])continue;if(b[c.name])return!1;for(g=c.attributes.length;g--;)if(h=c.attributes[g].name,"name"===h||0===h.indexOf("data-mce-"))return!1}if(8===c.type||3===c.type&&!a.test(c.value))return!1}while(c=d(c,this))}return!0},walk:function(a){return d(this,
null,a)}},b.create=function(a,d){var e,g;if(e=new b(a,c[a]||1),d)for(g in d)e.attr(g,d[g]);return e},b});h("tinymce/html/Schema",["tinymce/util/Tools"],function(d){function b(a,b){return a?a.split(b||" "):[]}function a(a){function d(a,c,f){function g(a){var b={},c,d;c=0;for(d=a.length;d>c;c++)b[a[c]]={};return b}var l,m;m=arguments;f=f||[];c=c||"";"string"==typeof f&&(f=b(f));for(l=3;m.length>l;l++)"string"==typeof m[l]&&(m[l]=b(m[l])),f.push.apply(f,m[l]);a=b(a);for(l=a.length;l--;)m=[].concat(h,
b(c)),e[a[l]]={attributes:g(m),attributesOrder:m,children:g(f)}}function f(a,c){var d,g,l,h;a=b(a);d=a.length;for(c=b(c);d--;)for(g=e[a[d]],l=0,h=c.length;h>l;l++)g.attributes[c[l]]={},g.attributesOrder.push(c[l])}var e={},h,n,r,v,k,q;return c[a]?c[a]:(h=b("id accesskey class dir lang style tabindex title"),b("onabort onblur oncancel oncanplay oncanplaythrough onchange onclick onclose oncontextmenu oncuechange ondblclick ondrag ondragend ondragenter ondragleave ondragover ondragstart ondrop ondurationchange onemptied onended onerror onfocus oninput oninvalid onkeydown onkeypress onkeyup onload onloadeddata onloadedmetadata onloadstart onmousedown onmousemove onmouseout onmouseover onmouseup onmousewheel onpause onplay onplaying onprogress onratechange onreset onscroll onseeked onseeking onseeking onselect onshow onstalled onsubmit onsuspend ontimeupdate onvolumechange onwaiting"),
n=b("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"),r=b("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"),"html4"!=a&&(h.push.apply(h,b("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),n.push.apply(n,b("article aside details dialog figure header footer hgroup section nav")),r.push.apply(r,b("audio canvas command datalist mark meter output progress time wbr video ruby bdi keygen"))),
"html5-strict"!=a&&(h.push("xml:lang"),q=b("acronym applet basefont big font strike tt"),r.push.apply(r,q),g(q,function(a){d(a,"",r)}),k=b("center dir isindex noframes"),n.push.apply(n,k),v=[].concat(n,r),g(k,function(a){d(a,"",v)})),v=v||[].concat(n,r),d("html","manifest","head body"),d("head","","base command link meta noscript script style title"),d("title hr noscript br"),d("base","href target"),d("link","href rel media hreflang type sizes hreflang"),d("meta","name http-equiv content charset"),
d("style","media type scoped"),d("script","src async defer type charset"),d("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",v),d("address dt dd div caption","",v),d("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),d("blockquote","cite",v),d("ol","reversed start type","li"),d("ul","","li"),d("li",
"value",v),d("dl","","dt dd"),d("a","href target rel media hreflang type",r),d("q","cite",r),d("ins del","cite datetime",v),d("img","src alt usemap ismap width height"),d("iframe","src name width height",v),d("embed","src type width height"),d("object","data type typemustmatch name usemap form width height",v,"param"),d("param","name value"),d("map","name",v,"area"),d("area","alt coords shape href target rel media hreflang type"),d("table","border","caption colgroup thead tfoot tbody tr"+("html4"==
a?" col":"")),d("colgroup","span","col"),d("col","span"),d("tbody thead tfoot","","tr"),d("tr","","td th"),d("td","colspan rowspan headers",v),d("th","colspan rowspan headers scope abbr",v),d("form","accept-charset action autocomplete enctype method name novalidate target",v),d("fieldset","disabled form name",v,"legend"),d("label","form for",r),d("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),
d("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==a?v:r),d("select","disabled form multiple name required size","option optgroup"),d("optgroup","disabled label","option"),d("option","disabled label selected value"),d("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),d("menu","type label",v,"li"),d("noscript","",v),"html4"!=a&&(d("wbr"),d("ruby","",r,"rt rp"),d("figcaption","",v),d("mark rt rp summary bdi",
"",r),d("canvas","width height",v),d("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height",v,"track source"),d("audio","src crossorigin preload autoplay mediagroup loop muted controls",v,"track source"),d("source","src type media"),d("track","kind src srclang label default"),d("datalist","",r,"option"),d("article section nav aside header footer","",v),d("hgroup","","h1 h2 h3 h4 h5 h6"),d("figure","",v,"figcaption"),d("time","datetime",r),d("dialog","open",v),
d("command","type label icon disabled checked radiogroup command"),d("output","for form name",r),d("progress","value max",r),d("meter","value min max low high optimum",r),d("details","open",v,"summary"),d("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=a&&(f("script","language xml:space"),f("style","xml:space"),f("object","declare classid codebase codetype archive standby align border hspace vspace"),f("param","valuetype type"),f("a","charset name rev shape coords"),f("br",
"clear"),f("applet","codebase archive code object alt name width height align hspace vspace"),f("img","name longdesc align border hspace vspace"),f("iframe","longdesc frameborder marginwidth marginheight scrolling align"),f("font basefont","size color face"),f("input","usemap align"),f("select","onchange"),f("textarea"),f("h1 h2 h3 h4 h5 h6 div p legend caption","align"),f("ul","type compact"),f("li","type"),f("ol dl menu dir","compact"),f("pre","width xml:space"),f("hr","align noshade size width"),
f("isindex","prompt"),f("table","summary width frame rules cellspacing cellpadding align bgcolor"),f("col","width align char charoff valign"),f("colgroup","width align char charoff valign"),f("thead","align char charoff valign"),f("tr","align char charoff valign bgcolor"),f("th","axis align char charoff valign nowrap bgcolor width height"),f("form","accept"),f("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),f("tfoot","align char charoff valign"),f("tbody","align char charoff valign"),
f("area","nohref"),f("body","background bgcolor text link vlink alink")),"html4"!=a&&(f("input button select textarea","autofocus"),f("input textarea","placeholder"),f("a","download"),f("link script img","crossorigin"),f("iframe","srcdoc sandbox seamless allowfullscreen")),g(b("a form meter progress dfn"),function(a){e[a]&&delete e[a].children[a]}),delete e.caption.children.table,c[a]=e,e)}var c={},f=d.makeMap,g=d.each,h=d.extend,r=d.explode,n=d.inArray;return function(d){function e(a,b,g){var l=
d[a];return l?l=f(l,",",f(l.toUpperCase()," ")):(l=c[a],l||(l=f(b," ",f(b.toUpperCase()," ")),l=h(l,g),c[a]=l)),l}function l(a){var c,d,e,g,l,h,m,p,r,x,w,v,k,z,E,A,y,D,B=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,F=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,G=/[*?+]/;if(a)for(a=b(a,","),u["@"]&&(A=u["@"].attributes,y=u["@"].attributesOrder),c=0,d=a.length;d>c;c++)if(l=B.exec(a[c])){if(z=l[1],r=l[2],E=l[3],p=l[5],v={},k=[],h={attributes:v,attributesOrder:k},"#"===z&&(h.paddEmpty=
!0),"-"===z&&(h.removeEmpty=!0),"!"===l[4]&&(h.removeEmptyAttrs=!0),A){for(D in A)v[D]=A[D];k.push.apply(k,y)}if(p)for(p=b(p,"|"),e=0,g=p.length;g>e;e++)if(l=F.exec(p[e]))(m={},w=l[1],x=l[2].replace(/::/g,":"),z=l[3],l=l[4],"!"===w&&(h.attributesRequired=h.attributesRequired||[],h.attributesRequired.push(x),m.required=!0),"-"===w)?(delete v[x],k.splice(n(k,x),1)):(z&&("="===z&&(h.attributesDefault=h.attributesDefault||[],h.attributesDefault.push({name:x,value:l}),m.defaultValue=l),":"===z&&(h.attributesForced=
h.attributesForced||[],h.attributesForced.push({name:x,value:l}),m.forcedValue=l),"<"===z&&(m.validValues=f(l,"?"))),G.test(x)?(h.attributePatterns=h.attributePatterns||[],m.pattern=RegExp("^"+x.replace(/([?+*])/g,".$1")+"$"),h.attributePatterns.push(m)):(v[x]||k.push(x),v[x]=m));A||"@"!=r||(A=v,y=k);E&&(h.outputName=r,u[E]=h);G.test(r)?(h.pattern=RegExp("^"+r.replace(/([?+*])/g,".$1")+"$"),q.push(h)):u[r]=h}}function x(a){u={};q=[];l(a);g(B,function(a,b){y[b]=a.children})}function k(a){var c=/^(~)?(.+)$/;
a&&g(b(a,","),function(a){a=c.exec(a);var b="~"===a[1],d=b?"span":"div",f=a[2];y[f]=y[d];K[f]=d;b||(N[f.toUpperCase()]={},N[f]={});u[f]||(u[f]=u[d]);g(y,function(a){a[d]&&(a[f]=a[d])})})}function z(a){var c=/^([+\-]?)(\w+)\[([^\]]+)\]$/;a&&g(b(a,","),function(a){a=c.exec(a);var d,f;a&&(f=a[1],d=f?y[a[2]]:y[a[2]]={"#comment":{}},d=y[a[2]],g(b(a[3],"|"),function(a){"-"===f?delete d[a]:d[a]={}}))})}function A(a){var b=u[a],c;if(b)return b;for(c=q.length;c--;)if(b=q[c],b.pattern.test(a))return b}var u=
{},y={},q=[],D,B,G,F,I,O,N,R,P,K={},S={};d=d||{};B=a(d.schema);!1===d.verify_html&&(d.valid_elements="*[*]");d.valid_styles&&(D={},g(d.valid_styles,function(a,b){D[b]=r(a)}));G=e("whitespace_elements","pre script noscript style textarea video audio iframe object");F=e("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr");I=e("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track");O=e("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls");
R=e("non_empty_elements","td th iframe video audio object",I);P=e("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure");N=e("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex samp option datalist select optgroup",P);g((d.special||"script noscript style textarea").split(" "),function(a){S[a]=RegExp("</"+a+"[^>]*>","gi")});d.valid_elements?x(d.valid_elements):
(g(B,function(a,b){u[b]={attributes:a.attributes,attributesOrder:a.attributesOrder};y[b]=a.children}),"html5"!=d.schema&&g(b("strong/b em/i"),function(a){a=b(a,"/");u[a[1]].outputName=a[0]}),u.img.attributesDefault=[{name:"alt",value:""}],g(b("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(a){u[a]&&(u[a].removeEmpty=!0)}),g(b("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(a){u[a].paddEmpty=!0}),g(b("span"),function(a){u[a].removeEmptyAttrs=!0}));k(d.custom_elements);
z(d.valid_children);l(d.extended_valid_elements);z("+ol[ul|ol],+ul[ul|ol]");d.invalid_elements&&g(r(d.invalid_elements),function(a){u[a]&&delete u[a]});A("span")||l("span[!data-mce-type|*]");this.children=y;this.styles=D;this.getBoolAttrs=function(){return O};this.getBlockElements=function(){return N};this.getTextBlockElements=function(){return P};this.getShortEndedElements=function(){return I};this.getSelfClosingElements=function(){return F};this.getNonEmptyElements=function(){return R};this.getWhiteSpaceElements=
function(){return G};this.getSpecialElements=function(){return S};this.isValidChild=function(a,b){var c=y[a];return!(!c||!c[b])};this.isValid=function(a,b){var c,d;if(c=A(a)){if(!b||c.attributes[b])return!0;if(c=c.attributePatterns)for(d=c.length;d--;)if(c[d].pattern.test(a))return!0}return!1};this.getElementRule=A;this.getCustomElements=function(){return K};this.addValidElements=l;this.setValidElements=x;this.addCustomElements=k;this.addValidChildren=z;this.elements=u}});h("tinymce/html/SaxParser",
["tinymce/html/Schema","tinymce/html/Entities","tinymce/util/Tools"],function(d,b,a){var c=a.each;return function(a,g){var h=this,r=function(){};a=a||{};h.schema=g=g||new d;!1!==a.fix_self_closing&&(a.fix_self_closing=!0);c("comment cdata text start end pi doctype".split(" "),function(b){b&&(h[b]=a[b]||r)});h.parse=function(c){function d(a){var b,c;for(b=u.length;b--&&u[b].name!==a;);if(0<=b){for(c=u.length-1;c>=b;c--)a=u[c],a.valid&&l.end(a.name);u.length=b}}function e(a,b,c,d,f){var g;if(b=b.toLowerCase(),
c=b in I?b:Z(c||d||f||""),O&&!B&&0!==b.indexOf("data-mce-")){if(g=S[b],!g&&M){for(a=M.length;a--&&(g=M[a],!g.pattern.test(b)););-1===a&&(g=null)}if(!g||g.validValues&&!(c in g.validValues))return}y.map[b]=c;y.push({name:b,value:c})}var l=this,h,r=0,v,k,u=[],y,q,D,B,G,F,I,O,N,R,P,K,S,M,C,H,T,V,W,Y,U,ca,la,Q=0,Z=b.decode,ua;Y=/<(?:(?:!--([\w\W]*?)--\x3e)|(?:!\[CDATA\[([\w\W]*?)\]\]>)|(?:!DOCTYPE([\w\W]*?)>)|(?:\?([^\s\/<>]+) ?([\w\W]*?)[?/]>)|(?:\/([^>]+)>)|(?:([A-Za-z0-9\-\:\.]+)((?:\s+[^"'>]+(?:(?:"[^"]*")|(?:'[^']*')|[^>]*))*|\/|\s+)>))/g;
U=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g;F=g.getShortEndedElements();W=a.self_closing_elements||g.getSelfClosingElements();I=g.getBoolAttrs();O=a.validate;G=a.remove_internals;ua=a.fix_self_closing;for(ca=g.getSpecialElements();h=Y.exec(c);){if(h.index>r&&l.text(Z(c.substr(r,h.index-r))),v=h[6])v=v.toLowerCase(),":"===v.charAt(0)&&(v=v.substr(1)),d(v);else if(v=h[7]){if(v=v.toLowerCase(),":"===v.charAt(0)&&(v=v.substr(1)),r=v in F,ua&&W[v]&&0<u.length&&u[u.length-
1].name===v&&d(v),!O||(N=g.getElementRule(v))){if(R=!0,O&&(S=N.attributes,M=N.attributePatterns),(K=h[8])?(B=-1!==K.indexOf("data-mce-type"),B&&G&&(R=!1),y=[],y.map={},K.replace(U,e)):(y=[],y.map={}),O&&!B){if(C=N.attributesRequired,H=N.attributesDefault,T=N.attributesForced,V=N.removeEmptyAttrs,V&&!y.length&&(R=!1),T)for(k=T.length;k--;)P=T[k],D=P.name,la=P.value,"{$uid}"===la&&(la="mce_"+Q++),y.map[D]=la,y.push({name:D,value:la});if(H)for(k=H.length;k--;)P=H[k],D=P.name,D in y.map||(la=P.value,
"{$uid}"===la&&(la="mce_"+Q++),y.map[D]=la,y.push({name:D,value:la}));if(C){for(k=C.length;k--&&!(C[k]in y.map););-1===k&&(R=!1)}y.map["data-mce-bogus"]&&(R=!1)}R&&l.start(v,y,r)}else R=!1;if(k=ca[v]){k.lastIndex=r=h.index+h[0].length;(h=k.exec(c))?(R&&(q=c.substr(r,h.index-r)),r=h.index+h[0].length):(q=c.substr(r),r=c.length);R&&(0<q.length&&l.text(q,!0),l.end(v));Y.lastIndex=r;continue}r||(K&&K.indexOf("/")==K.length-1?R&&l.end(v):u.push({name:v,valid:R}))}else(v=h[1])?l.comment(v):(v=h[2])?l.cdata(v):
(v=h[3])?l.doctype(v):(v=h[4])&&l.pi(v,h[5]);r=h.index+h[0].length}c.length>r&&l.text(Z(c.substr(r)));for(k=u.length-1;0<=k;k--)v=u[k],v.valid&&l.end(v.name)}}});h("tinymce/html/DomParser",["tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/util/Tools"],function(d,b,a,c){var f=c.makeMap,h=c.each,v=c.explode,r=c.extend;return function(c,w){function p(a){var b,c,g,h,m,p,n,r,x,v,k,z,A;v=f("tr,td,th,tbody,thead,tfoot,table");x=w.getNonEmptyElements();k=w.getTextBlockElements();
for(b=0;a.length>b;b++)if(c=a[b],c.parent&&!c.fixed)if(k[c.name]&&"li"==c.parent.name){for(z=c.next;z&&k[z.name];)z.name="li",z.fixed=!0,c.parent.insert(z,c.parent),z=z.next;c.unwrap(c)}else{h=[c];for(g=c.parent;g&&!w.isValidChild(g.name,c.name)&&!v[g.name];g=g.parent)h.push(g);if(g&&1<h.length){h.reverse();m=p=l.filterNode(h[0].clone());for(r=0;h.length-1>r;r++){w.isValidChild(p.name,h[r].name)?(n=l.filterNode(h[r].clone()),p.append(n)):n=p;for(p=h[r].firstChild;p&&p!=h[r+1];)A=p.next,n.append(p),
p=A;p=n}m.isEmpty(x)?g.insert(c,h[0],!0):(g.insert(m,h[0],!0),g.insert(c,m));g=h[0];(g.isEmpty(x)||g.firstChild===g.lastChild&&"br"===g.firstChild.name)&&g.empty().remove()}else c.parent&&("li"===c.name?(z=c.prev,!z||"ul"!==z.name&&"ul"!==z.name)?(z=c.next,!z||"ul"!==z.name&&"ul"!==z.name)?c.wrap(l.filterNode(new d("ul",1))):z.insert(c,z.firstChild,!0):z.append(c):w.isValidChild(c.parent.name,"div")&&w.isValidChild("div",c.name)?c.wrap(l.filterNode(new d("div",1))):"style"===c.name||"script"===c.name?
c.empty().remove():c.unwrap())}}var l=this,x={},k=[],z={},A={};c=c||{};c.validate="validate"in c?c.validate:!0;c.root_name=c.root_name||"body";l.schema=w=w||new b;l.filterNode=function(a){var b,c,d;c in x&&(d=z[c],d?d.push(a):z[c]=[a]);for(b=k.length;b--;)c=k[b].name,c in a.attributes.map&&(d=A[c],d?d.push(a):A[c]=[a]);return a};l.addNodeFilter=function(a,b){h(v(a),function(a){var c=x[a];c||(x[a]=c=[]);c.push(b)})};l.addAttributeFilter=function(a,b){h(v(a),function(a){var c;for(c=0;k.length>c;c++)if(k[c].name===
a)return k[c].callbacks.push(b),g;k.push({name:a,callbacks:[b]})})};l.parse=function(b,l){function h(){function a(c){c&&(b=c.firstChild,b&&3==b.type&&(b.value=b.value.replace(C,"")),b=c.lastChild,b&&3==b.type&&(b.value=b.value.replace(V,"")))}var b=F.firstChild,c,d;if(w.isValidChild(F.name,Q.toLowerCase())){for(;b;)c=b.next,3==b.type||1==b.type&&"p"!==b.name&&!M[b.name]&&!b.attr("data-mce-type")?d?d.append(b):(d=m(Q,1),F.insert(d,b),d.append(b)):(a(d),d=null),b=c;a(d)}}function m(a,b){var c=new d(a,
b),f;return a in x&&(f=z[a],f?f.push(c):z[a]=[c]),c}function v(a){var b,c;for(a=a.prev;a&&3===a.type;)b=a.value.replace(V,""),0<b.length?(a.value=b,a=a.prev):(c=a.prev,a.remove(),a=c)}var q,F,I,O,N,R,P,K,S,M,C,H=[],T,V,W,Y,U,ca,la,Q;if(l=l||{},z={},A={},M=r(f("script,style,head,html,body,title,meta,param"),w.getBlockElements()),la=w.getNonEmptyElements(),ca=w.children,S=c.validate,Q="forced_root_block"in l?l.forced_root_block:c.forced_root_block,U=w.getWhiteSpaceElements(),C=/^[ \t\r\n]+/,V=/[ \t\r\n]+$/,
W=/[ \t\r\n]+/g,Y=/^[ \t\r\n]+$/,q=new a({validate:S,self_closing_elements:function(a){var b,c={};for(b in a)"li"!==b&&"p"!=b&&(c[b]=a[b]);return c}(w.getSelfClosingElements()),cdata:function(a){I.append(m("#cdata",4)).value=a},text:function(a,b){var c;T||(a=a.replace(W," "),I.lastChild&&M[I.lastChild.name]&&(a=a.replace(C,"")));0!==a.length&&(c=m("#text",3),c.raw=!!b,I.append(c).value=a)},comment:function(a){I.append(m("#comment",8)).value=a},pi:function(a,b){I.append(m(a,7)).value=b;v(I)},doctype:function(a){I.append(m("#doctype",
10)).value=a;v(I)},start:function(a,b,c){var d,f,e;if(d=S?w.getElementRule(a):{}){d=m(d.outputName||a,1);d.attributes=b;d.shortEnded=c;I.append(d);(f=ca[I.name])&&ca[d.name]&&!f[d.name]&&H.push(d);for(f=k.length;f--;)e=k[f].name,e in b.map&&(K=A[e],K?K.push(d):A[e]=[d]);M[a]&&v(d);c||(I=d);!T&&U[a]&&(T=!0)}},end:function(a){var b,c,f,l,h;if(c=S?w.getElementRule(a):{}){if(M[a]&&!T){if(b=I.firstChild,b&&3===b.type)if(f=b.value.replace(C,""),0<f.length)b.value=f,b=b.next;else for(l=b.next,b.remove(),
b=l;b&&3===b.type;)f=b.value,l=b.next,(0===f.length||Y.test(f))&&b.remove(),b=l;if(b=I.lastChild,b&&3===b.type)if(f=b.value.replace(V,""),0<f.length)b.value=f;else for(l=b.prev,b.remove(),b=l;b&&3===b.type;)f=b.value,l=b.prev,(0===f.length||Y.test(f))&&b.remove(),b=l}if(T&&U[a]&&(T=!1),(c.removeEmpty||c.paddEmpty)&&I.isEmpty(la))if(c.paddEmpty)I.empty().append(new d("#text","3")).value="\u00a0";else if(!I.attributes.map.name&&!I.attributes.map.id)return h=I.parent,I.empty().remove(),I=h,g;I=I.parent}}},
w),F=I=new d(l.context||c.root_name,11),q.parse(b),S&&H.length&&(l.context?l.invalid=!0:p(H)),Q&&("body"==F.name||l.isRootContent)&&h(),!l.invalid){for(P in z){K=x[P];q=z[P];for(R=q.length;R--;)q[R].parent||q.splice(R,1);O=0;for(N=K.length;N>O;O++)K[O](q,P,l)}O=0;for(N=k.length;N>O;O++)if(K=k[O],K.name in A){q=A[K.name];for(R=q.length;R--;)q[R].parent||q.splice(R,1);R=0;for(P=K.callbacks.length;P>R;R++)K.callbacks[R](q,K.name,l)}}return F};c.remove_trailing_brs&&l.addNodeFilter("br",function(a){var b,
c=a.length,f,g=r({},w.getBlockElements()),l=w.getNonEmptyElements(),h,m,p,n,x;g.body=1;for(b=0;c>b;b++)if(f=a[b],h=f.parent,g[f.parent.name]&&f===h.lastChild){for(m=f.prev;m;){if(p=m.name,"span"!==p||"bookmark"!==m.attr("data-mce-type")){if("br"!==p)break;if("br"===p){f=null;break}}m=m.prev}f&&(f.remove(),h.isEmpty(l)&&(n=w.getElementRule(h.name),n&&(n.removeEmpty?h.remove():n.paddEmpty&&(h.empty().append(new d("#text",3)).value="\u00a0"))))}else{for(m=f;h.firstChild===m&&h.lastChild===m&&(m=h,!g[h.name]);)h=
h.parent;m===h&&(x=new d("#text",3),x.value="\u00a0",f.replace(x))}});c.allow_html_in_named_anchor||l.addAttributeFilter("id,name",function(a){for(var b=a.length,c,d,f,e;b--;)if(e=a[b],"a"===e.name&&e.firstChild&&!e.attr("href")){f=e.parent;c=e.lastChild;do d=c.prev,f.insert(c,e),c=d;while(c)}})}});h("tinymce/html/Writer",["tinymce/html/Entities","tinymce/util/Tools"],function(d,b){var a=b.makeMap;return function(b){var f=[],g,h,r,n,w;return b=b||{},g=b.indent,h=a(b.indent_before||""),r=a(b.indent_after||
""),n=d.getEncodeFunc(b.entity_encoding||"raw",b.entities),w="html"==b.element_format,{start:function(a,b,c){var d,e,k,u;if(g&&h[a]&&0<f.length&&(u=f[f.length-1],0<u.length&&"\n"!==u&&f.push("\n")),f.push("<",a),b)for(d=0,e=b.length;e>d;d++)k=b[d],f.push(" ",k.name,'="',n(k.value,!0),'"');f[f.length]=!c||w?">":" />";c&&g&&r[a]&&0<f.length&&(u=f[f.length-1],0<u.length&&"\n"!==u&&f.push("\n"))},end:function(a){var b;f.push("</",a,">");g&&r[a]&&0<f.length&&(b=f[f.length-1],0<b.length&&"\n"!==b&&f.push("\n"))},
text:function(a,b){0<a.length&&(f[f.length]=b?a:n(a))},cdata:function(a){f.push("<![CDATA[",a,"]]\x3e")},comment:function(a){f.push("\x3c!--",a,"--\x3e")},pi:function(a,b){b?f.push("<?",a," ",b,"?>"):f.push("<?",a,"?>");g&&f.push("\n")},doctype:function(a){f.push("<!DOCTYPE",a,">",g?"\n":"")},reset:function(){f.length=0},getContent:function(){return f.join("").replace(/\n$/,"")}}}});h("tinymce/html/Serializer",["tinymce/html/Writer","tinymce/html/Schema"],function(d,b){return function(a,c){var f=
new d(a);a=a||{};a.validate="validate"in a?a.validate:!0;this.schema=c=c||new b;this.writer=f;this.serialize=function(b){function d(a){var b=e[a.type],l,h,m,k,A,u,y,q;if(b)b(a);else{if(b=a.name,l=a.shortEnded,h=a.attributes,g&&h&&1<h.length){A=[];A.map={};q=c.getElementRule(a.name);u=0;for(y=q.attributesOrder.length;y>u;u++)m=q.attributesOrder[u],m in h.map&&(k=h.map[m],A.map[m]=k,A.push({name:m,value:k}));u=0;for(y=h.length;y>u;u++)m=h[u].name,m in A.map||(k=h.map[m],A.map[m]=k,A.push({name:m,value:k}));
h=A}if(f.start(a.name,h,l),!l){if(a=a.firstChild){do d(a);while(a=a.next)}f.end(b)}}}var e,g;return g=a.validate,e={3:function(a){f.text(a.value,a.raw)},8:function(a){f.comment(a.value)},7:function(a){f.pi(a.name,a.value)},10:function(a){f.doctype(a.value)},4:function(a){f.cdata(a.value)},11:function(a){if(a=a.firstChild){do d(a);while(a=a.next)}}},f.reset(),1!=b.type||a.inner?e[11](b):d(b),f.getContent()}}});h("tinymce/dom/Serializer","tinymce/dom/DOMUtils tinymce/html/DomParser tinymce/html/Entities tinymce/html/Serializer tinymce/html/Node tinymce/html/Schema tinymce/Env tinymce/util/Tools".split(" "),
function(d,b,a,c,f,g,h,r){var n=r.each,w=r.trim,p=d.DOM;return function(d,f){var e,r,k;return f&&(e=f.dom,r=f.schema),e=e||p,r=r||new g(d),d.entity_encoding=d.entity_encoding||"named",d.remove_trailing_brs="remove_trailing_brs"in d?d.remove_trailing_brs:!0,k=new b(d,r),k.addAttributeFilter("src,href,style",function(a,b){for(var c=a.length,f,g,h="data-mce-"+b,m=d.url_converter,p=d.url_converter_scope;c--;)f=a[c],g=f.attributes.map[h],void 0!==g?(f.attr(b,0<g.length?g:null),f.attr(h,null)):(g=f.attributes.map[b],
"style"===b?g=e.serializeStyle(e.parseStyle(g),f.name):m&&(g=m.call(p,g,b,f.name)),f.attr(b,0<g.length?g:null))}),k.addAttributeFilter("class",function(a){for(var b=a.length,c,d;b--;)c=a[b],d=c.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",0<d.length?d:null)}),k.addAttributeFilter("data-mce-type",function(a,b,c){b=a.length;for(var d;b--;)d=a[b],"bookmark"!==d.attributes.map["data-mce-type"]||c.cleanup||d.remove()}),k.addAttributeFilter("data-mce-expando",function(a,b){for(var c=
a.length;c--;)a[c].attr(b,null)}),k.addNodeFilter("noscript",function(b){for(var c=b.length,d;c--;)(d=b[c].firstChild)&&(d.value=a.decode(d.value))}),k.addNodeFilter("script,style",function(a,b){function c(a){return a.replace(/(\x3c!--\[CDATA\[|\]\]--\x3e)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((\x3c!--)?(\s*\/\/)?\s*<!\[CDATA\[|(\x3c!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*\x3c!--|\/\*\s*\x3c!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(--\x3e)?|\s*\/\/\s*\]\]>(--\x3e)?|\/\/\s*(--\x3e)?|\]\]>|\/\*\s*--\x3e\s*\*\/|\s*--\x3e\s*)\s*$/g,
"")}for(var d=a.length,f,e;d--;)f=a[d],e=f.firstChild?f.firstChild.value:"","script"===b?(f.attr("type",(f.attr("type")||"text/javascript").replace(/^mce\-/,"")),0<e.length&&(f.firstChild.value="// <![CDATA[\n"+c(e)+"\n// ]]\x3e")):0<e.length&&(f.firstChild.value="\x3c!--\n"+c(e)+"\n--\x3e")}),k.addNodeFilter("#comment",function(a){for(var b=a.length,c;b--;)c=a[b],0===c.value.indexOf("[CDATA[")?(c.name="#cdata",c.type=4,c.value=c.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===c.value.indexOf("mce:protected ")&&
(c.name="#text",c.type=3,c.raw=!0,c.value=unescape(c.value).substr(14))}),k.addNodeFilter("xml:namespace,input",function(a,b){for(var c=a.length,d;c--;)d=a[c],7===d.type?d.remove():1===d.type&&("input"!==b||"type"in d.attributes.map||d.attr("type","text"))}),d.fix_list_elements&&k.addNodeFilter("ul,ol",function(a){for(var b=a.length,c,d;b--;)c=a[b],d=c.parent,("ul"===d.name||"ol"===d.name)&&c.prev&&"li"===c.prev.name&&c.prev.append(c)}),k.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected",
function(a,b){for(var c=a.length;c--;)a[c].attr(b,null)}),{schema:r,addNodeFilter:k.addNodeFilter,addAttributeFilter:k.addAttributeFilter,serialize:function(a,b){var f,g,m,p,x;return h.ie&&0<e.select("script,style,select,map").length?(x=a.innerHTML,a=a.cloneNode(!1),e.setHTML(a,x)):a=a.cloneNode(!0),f=a.ownerDocument.implementation,f.createHTMLDocument&&(g=f.createHTMLDocument(""),n("BODY"==a.nodeName?a.childNodes:[a],function(a){g.body.appendChild(g.importNode(a,!0))}),a="BODY"!=a.nodeName?g.body.firstChild:
g.body,m=e.doc,e.doc=g),b=b||{},b.format=b.format||"html",b.selection&&(b.forced_root_block=""),b.no_events||(b.node=a,this.onPreProcess(b)),p=new c(d,r),b.content=p.serialize(k.parse(w(b.getInner?a.innerHTML:e.getOuterHTML(a)),b)),b.cleanup||(b.content=b.content.replace(/\uFEFF/g,"")),b.no_events||this.onPostProcess(b),m&&(e.doc=m),b.node=null,b.content},addRules:function(a){r.addValidElements(a)},setRules:function(a){r.setValidElements(a)},onPreProcess:function(a){f&&f.fire("PreProcess",a)},onPostProcess:function(a){f&&
f.fire("PostProcess",a)}}}});h("tinymce/dom/TridentSelection",[],function(){return function(d){function b(a,b){var c,g=0,h,w,p,l,x,k=-1,z;if(c=a.duplicate(),c.collapse(b),z=c.parentElement(),z.ownerDocument===d.dom.doc){for(;"false"===z.contentEditable;)z=z.parentNode;if(!z.hasChildNodes())return{node:z,inside:1};p=z.children;for(h=p.length-1;h>=g;)if(x=Math.floor((g+h)/2),l=p[x],c.moveToElementText(l),k=c.compareEndPoints(b?"StartToStart":"EndToEnd",a),0<k)h=x-1;else{if(!(0>k))return{node:l};g=x+
1}if(0>k)for(l?c.collapse(!1):(c.moveToElementText(z),c.collapse(!0),l=z,w=!0),g=0;0!==c.compareEndPoints(b?"StartToStart":"StartToEnd",a)&&0!==c.move("character",1)&&z==c.parentElement();)g++;else for(c.collapse(!0),g=0;0!==c.compareEndPoints(b?"StartToStart":"StartToEnd",a)&&0!==c.move("character",-1)&&z==c.parentElement();)g++;return{node:l,position:k,offset:g,inside:w}}}var a=this,c=d.dom;this.getBookmark=function(a){function h(a){var b,d,f,e,g=[];b=a.parentNode;for(d=c.getRoot().parentNode;b!=
d&&9!==b.nodeType;){f=b.children;for(e=f.length;e--;)if(a===f[e]){g.push(e);break}a=b;b=b.parentNode}return g}function v(a){var c;return c=b(r,a),c?{position:c.position,offset:c.offset,indexes:h(c.node),inside:c.inside}:g}var r=d.getRng(),n={};return 2===a&&(r.item?n.start={ctrl:!0,indexes:h(r.item(0))}:(n.start=v(!0),d.isCollapsed()||(n.end=v()))),n};this.moveToBookmark=function(a){function b(a){var d,f,e,g;d=c.getRoot();for(f=a.length-1;0<=f;f--)g=d.children,e=a[f],g.length-1>=e&&(d=g[e]);return d}
function d(c){var h=a[c?"start":"end"],l,x,v;h&&(l=0<h.position,x=g.createTextRange(),x.moveToElementText(b(h.indexes)),v=h.offset,void 0!==v?(x.collapse(h.inside||l),x.moveStart("character",l?-v:v)):x.collapse(c),e.setEndPoint(c?"StartToStart":"EndToStart",x),c&&e.collapse(!0))}var e,g=c.doc.body;a.start&&(a.start.ctrl?(e=g.createControlRange(),e.addElement(b(a.start.indexes)),e.select()):(e=g.createTextRange(),d(!0),d(),e.select()))};this.addRange=function(a){function b(a){var d,f,e,g,m;e=c.create("a");
d=a?n:p;f=a?w:l;g=h.duplicate();(d==k||d==k.documentElement)&&(d=z,f=0);3==d.nodeType?(d.parentNode.insertBefore(e,d),g.moveToElementText(e),g.moveStart("character",f),c.remove(e),h.setEndPoint(a?"StartToStart":"EndToEnd",g)):(m=d.childNodes,m.length?(f>=m.length?c.insertAfter(e,m[m.length-1]):d.insertBefore(e,m[f]),g.moveToElementText(e)):d.canHaveHTML&&(d.innerHTML="<span>&#xFEFF;</span>",e=d.firstChild,g.moveToElementText(e),g.collapse(!1)),h.setEndPoint(a?"StartToStart":"EndToEnd",g),c.remove(e))}
var h,r,n,w,p,l,x,k=d.dom.doc,z=k.body,A,u;if(n=a.startContainer,w=a.startOffset,p=a.endContainer,l=a.endOffset,h=z.createTextRange(),n==p&&1==n.nodeType){if(w==l&&!n.hasChildNodes()){if(n.canHaveHTML)return x=n.previousSibling,x&&!x.hasChildNodes()&&c.isBlock(x)?x.innerHTML="&#xFEFF;":x=null,n.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",h.moveToElementText(n.lastChild),h.select(),c.doc.selection.clear(),n.innerHTML="",x&&(x.innerHTML=""),g;w=c.nodeIndex(n);n=n.parentNode}if(w==l-1)try{if(u=
n.childNodes[w],r=z.createControlRange(),r.addElement(u),r.select(),A=d.getRng(),A.item&&u===A.item(0))return}catch(y){}}b(!0);b();h.select()};this.getRangeAt=function(){function f(a){var c=b(h,a),d,f,e=0,l,p;if(d=c.node,f=c.offset,c.inside&&!d.hasChildNodes())return v[a?"setStart":"setEnd"](d,0),g;if(void 0===f)return v[a?"setStartBefore":"setEndAfter"](d),g;if(0>c.position){if(l=c.inside?d.firstChild:d.nextSibling,!l)return v[a?"setStartAfter":"setEndAfter"](d),g;if(!f)return 3==l.nodeType?v[a?
"setStart":"setEnd"](l,0):v[a?"setStartBefore":"setEndBefore"](l),g;for(;l;){if(p=l.nodeValue,e+=p.length,e>=f){d=l;e-=f;e=p.length-e;break}l=l.nextSibling}}else{if(l=d.previousSibling,!l)return v[a?"setStartBefore":"setEndBefore"](d);if(!f)return 3==d.nodeType?v[a?"setStart":"setEnd"](l,d.nodeValue.length):v[a?"setStartAfter":"setEndAfter"](l),g;for(;l;){if(e+=l.nodeValue.length,e>=f){d=l;e-=f;break}l=l.previousSibling}}v[a?"setStart":"setEnd"](d,e)}var h=d.getRng(),v=c.createRng(),r,n,w,p,l;if(r=
h.item?h.item(0):h.parentElement(),r.ownerDocument!=c.doc)return v;if(n=d.isCollapsed(),h.item)return v.setStart(r.parentNode,c.nodeIndex(r)),v.setEnd(v.startContainer,v.startOffset+1),v;try{f(!0),n||f()}catch(x){if(-2147024809!=x.number)throw x;l=a.getBookmark(2);w=h.duplicate();w.collapse(!0);r=w.parentElement();n||(w=h.duplicate(),w.collapse(!1),p=w.parentElement(),p.innerHTML=p.innerHTML);r.innerHTML=r.innerHTML;a.moveToBookmark(l);h=d.getRng();f(!0);n||f()}return v}}});h("tinymce/util/VK",["tinymce/Env"],
function(d){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(b){return b.shiftKey||b.ctrlKey||b.altKey},metaKeyPressed:function(b){return d.mac?b.metaKey:b.ctrlKey&&!b.altKey}}});h("tinymce/dom/ControlSelection",["tinymce/util/VK","tinymce/util/Tools","tinymce/Env"],function(d,b,a){return function(c,f){function h(a){return!1===f.settings.object_resizing?!1:/TABLE|IMG|DIV/.test(a.nodeName)?"false"===a.getAttribute("data-mce-resize")?!1:
!0:!1}function v(a){var b,c;b=a.screenX-F;c=a.screenY-I;M=b*G[2]+R;C=c*G[3]+P;M=5>M?5:M;C=5>C?5:C;(d.modifierPressed(a)||"IMG"==q.nodeName&&0!==G[2]*G[3])&&(M=Math.round(C/K),C=Math.round(M*K));u.setStyles(D,{width:M,height:C});0>G[2]&&M>=D.clientWidth&&u.setStyle(D,"left",O+(R-M));0>G[3]&&C>=D.clientHeight&&u.setStyle(D,"top",N+(P-C));S||(f.fire("ObjectResizeStart",{target:q,width:R,height:P}),S=!0)}function r(){function a(b,c){c&&(q.style[b]||!f.schema.isValid(q.nodeName.toLowerCase(),b)?u.setStyle(q,
b,c):u.setAttrib(q,b,c))}S=!1;a("width",M);a("height",C);u.unbind(H,"mousemove",v);u.unbind(H,"mouseup",r);T!=H&&(u.unbind(T,"mousemove",v),u.unbind(T,"mouseup",r));u.remove(D);V&&"TABLE"!=q.nodeName||n(q);f.fire("ObjectResized",{target:q,width:M,height:C});f.nodeChanged()}function n(a,b,c){var d,e,l;d=u.getPos(a,f.getBody());O=d.x;N=d.y;d=a.getBoundingClientRect();e=d.width||d.right-d.left;l=d.height||d.bottom-d.top;q!=a&&(z(),q=a,M=C=0);d=f.fire("ObjectSelected",{target:a});h(a)&&!d.isDefaultPrevented()?
y(B,function(a,d){function h(b){S=!0;F=b.screenX;I=b.screenY;R=q.clientWidth;P=q.clientHeight;K=P/R;G=a;D=q.cloneNode(!0);u.addClass(D,"mce-clonedresizable");D.contentEditable=!1;D.unSelectabe=!0;u.setStyles(D,{left:O,top:N,margin:0});D.removeAttribute("data-mce-selected");f.getBody().appendChild(D);u.bind(H,"mousemove",v);u.bind(H,"mouseup",r);T!=H&&(u.bind(T,"mousemove",v),u.bind(T,"mouseup",r))}var m,p;return b?(d==b&&h(c),g):(m=u.get("mceResizeHandle"+d),m?u.show(m):(p=f.getBody(),m=u.add(p,"div",
{id:"mceResizeHandle"+d,"data-mce-bogus":!0,"class":"mce-resizehandle",contentEditable:!1,unSelectabe:!0,style:"cursor:"+d+"-resize; margin:0; padding:0"}),u.bind(m,"mousedown",function(a){a.preventDefault();h(a)})),u.setStyles(m,{left:e*a[0]+O-m.offsetWidth/2,top:l*a[1]+N-m.offsetHeight/2}),g)}):w();q.setAttribute("data-mce-selected","1")}function w(){var a,b;q&&q.removeAttribute("data-mce-selected");for(a in B)(b=u.get("mceResizeHandle"+a))&&(u.unbind(b),u.remove(b))}function p(a){function b(a,
c){do if(a===c)return!0;while(a=a.parentNode)}var d;return y(u.select("img[data-mce-selected],hr[data-mce-selected]"),function(a){a.removeAttribute("data-mce-selected")}),d="mousedown"==a.type?a.target:c.getNode(),d=u.getParent(d,V?"table":"table,img,hr"),d&&b(c.getStart(),d)&&b(c.getEnd(),d)&&(!V||d!=c.getStart()&&"IMG"!==c.getStart().nodeName)?(n(d),g):(w(),g)}function l(a,b,c){a&&a.attachEvent&&a.attachEvent("on"+b,c)}function x(a){var b=a.srcElement,c,d,e,g,l,h;c=b.getBoundingClientRect();h=a.clientX-
c.left;c=a.clientY-c.top;for(d in B)if(e=B[d],g=b.offsetWidth*e[0],l=b.offsetHeight*e[1],8>Math.abs(g-h)&&8>Math.abs(l-c)){G=e;break}S=!0;f.getDoc().selection.empty();n(b,d,a)}function k(a){var b=a.srcElement;if(b!=q){if(z(),0===b.id.indexOf("mceResizeHandle"))return a.returnValue=!1,g;"IMG"!=b.nodeName&&"TABLE"!=b.nodeName||(w(),q=b,l(b,"resizestart",x))}}function z(){q&&q.detachEvent&&q.detachEvent("onresizestart",x)}function A(a){var b;if(V){b=H.body.createControlRange();try{return b.addElement(a),
b.select(),!0}catch(c){}}}var u=f.dom,y=b.each,q,D,B,G,F,I,O,N,R,P,K,S,M,C,H=f.getDoc(),T=document,V=a.ie;B={n:[.5,0,0,-1],e:[1,.5,1,0],s:[.5,1,0,1],w:[0,.5,-1,0],nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};return f.contentStyles.push(".mce-content-body div.mce-resizehandle {position: absolute;border: 1px solid black;background: #FFF;width: 5px;height: 5px;z-index: 10000}.mce-content-body .mce-resizehandle:hover {background: #000}.mce-content-body img[data-mce-selected], hr[data-mce-selected] {outline: 1px solid black;resize: none}.mce-content-body .mce-clonedresizable {position: absolute;"+
(a.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"),f.on("init",function(){if(V)f.on("ObjectResized",function(a){"TABLE"!=a.target.nodeName&&(w(),A(a.target))}),l(f.getBody(),"controlselect",k);else try{f.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(a){}f.on("nodechange mousedown ResizeEditor",p);f.on("keydown keyup",function(a){q&&"TABLE"==q.nodeName&&p(a)})}),{controlSelect:A,destroy:function(){q=D=null;if(V){z();var a=f.getBody();a&&a.detachEvent&&
a.detachEvent("oncontrolselect",k)}}}}});h("tinymce/dom/Selection",["tinymce/dom/TreeWalker","tinymce/dom/TridentSelection","tinymce/dom/ControlSelection","tinymce/Env","tinymce/util/Tools"],function(d,b,a,c,f){function h(c,d,f,e){this.dom=c;this.win=d;this.serializer=f;this.editor=e;this.controlSelection=new a(this,e);this.win.getSelection||(this.tridentSel=new b(this))}var v=f.each,r=f.grep,n=f.trim,w=c.ie,p=c.opera;return h.prototype={setCursorLocation:function(a,b){var c=this.dom.createRng();
c.setStart(a,b);c.setEnd(a,b);this.setRng(c);this.collapse(!1)},getContent:function(a){var b=this.getRng(),c=this.dom.create("body"),d=this.getSel(),f,e,h;return a=a||{},f=e="",a.get=!0,a.format=a.format||"html",a.selection=!0,this.editor.fire("BeforeGetContent",a),"text"==a.format?this.isCollapsed()?"":b.text||(d.toString?""+d:""):(b.cloneContents?(h=b.cloneContents(),h&&c.appendChild(h)):b.item!==g||b.htmlText!==g?(c.innerHTML="<br>"+(b.item?b.item(0).outerHTML:b.htmlText),c.removeChild(c.firstChild)):
c.innerHTML=""+b,/^\s/.test(c.innerHTML)&&(f=" "),/\s+$/.test(c.innerHTML)&&(e=" "),a.getInner=!0,a.content=this.isCollapsed()?"":f+this.serializer.serialize(c,a)+e,this.editor.fire("GetContent",a),a.content)},setContent:function(a,b){var c=this.getRng(),d,f=this.win.document,e;if(b=b||{format:"html"},b.set=!0,b.selection=!0,a=b.content=a,b.no_events||this.editor.fire("BeforeSetContent",b),a=b.content,c.insertNode){a+='<span id="__caret">_</span>';c.startContainer==f&&c.endContainer==f?f.body.innerHTML=
a:(c.deleteContents(),0===f.body.childNodes.length?f.body.innerHTML=a:c.createContextualFragment?c.insertNode(c.createContextualFragment(a)):(d=f.createDocumentFragment(),e=f.createElement("div"),d.appendChild(e),e.outerHTML=a,c.insertNode(d)));d=this.dom.get("__caret");c=f.createRange();c.setStartBefore(d);c.setEndBefore(d);this.setRng(c);this.dom.remove("__caret");try{this.setRng(c)}catch(g){}}else c.item&&(f.execCommand("Delete",!1,null),c=this.getRng()),/^\s+/.test(a)?(c.pasteHTML('<span id="__mce_tmp">_</span>'+
a),this.dom.remove("__mce_tmp")):c.pasteHTML(a);b.no_events||this.editor.fire("SetContent",b)},getStart:function(){var a=this.getRng(),b,c;if(a.duplicate||a.item){if(a.item)return a.item(0);b=a.duplicate();b.collapse(1);b=b.parentElement();b.ownerDocument!==this.dom.doc&&(b=this.dom.getRoot());for(a=c=a.parentElement();c=c.parentNode;)if(c==b){b=a;break}return b}return b=a.startContainer,1==b.nodeType&&b.hasChildNodes()&&(b=b.childNodes[Math.min(b.childNodes.length-1,a.startOffset)]),b&&3==b.nodeType?
b.parentNode:b},getEnd:function(){var a=this.getRng(),b,c;return a.duplicate||a.item?a.item?a.item(0):(a=a.duplicate(),a.collapse(0),b=a.parentElement(),b.ownerDocument!==this.dom.doc&&(b=this.dom.getRoot()),b&&"BODY"==b.nodeName?b.lastChild||b:b):(b=a.endContainer,c=a.endOffset,1==b.nodeType&&b.hasChildNodes()&&(b=b.childNodes[0<c?c-1:c]),b&&3==b.nodeType?b.parentNode:b)},getBookmark:function(a,b){function c(a,b){var d=0;return v(g.select(a),function(a,c){a==b&&(d=c)}),d}function d(a){function b(c){var d,
f,e;f=c?"start":"end";d=a[f+"Container"];f=a[f+"Offset"];1==d.nodeType&&"TR"==d.nodeName&&(e=d.childNodes,d=e[Math.min(c?f:f-1,e.length-1)],d&&(f=c?0:d.childNodes.length,a["set"+(c?"Start":"End")](d,f)))}return b(!0),b(),a}function f(){function a(c,f){var g=c[f?"startContainer":"endContainer"],h=c[f?"startOffset":"endOffset"],l=[],m,p=0;if(3==g.nodeType){if(b)for(m=g.previousSibling;m&&3==m.nodeType;m=m.previousSibling)h+=m.nodeValue.length;l.push(h)}else m=g.childNodes,h>=m.length&&m.length&&(p=
1,h=Math.max(0,m.length-1)),l.push(e.dom.nodeIndex(m[h],b)+p);for(;g&&g!=d;g=g.parentNode)l.push(e.dom.nodeIndex(g,b));return l}var c=e.getRng(!0),d=g.getRoot(),h={};return h.start=a(c,!0),e.isCollapsed()||(h.end=a(c)),h}var e=this,g=e.dom,h,m,p,n,r;if(2==a)return r=e.getNode(),m=r.nodeName,"IMG"==m?{name:m,index:c(m,r)}:e.tridentSel?e.tridentSel.getBookmark(a):f();if(a)return{rng:e.getRng()};if(h=e.getRng(),p=g.uniqueId(),n=e.isCollapsed(),h.duplicate||h.item){if(h.item)return r=h.item(0),m=r.nodeName,
{name:m,index:c(m,r)};m=h.duplicate();try{h.collapse(),h.pasteHTML('<span data-mce-type="bookmark" id="'+p+'_start" style="overflow:hidden;line-height:0px">&#xFEFF;</span>'),n||(m.collapse(!1),h.moveToElementText(m.parentElement()),0===h.compareEndPoints("StartToEnd",m)&&m.move("character",-1),m.pasteHTML('<span data-mce-type="bookmark" id="'+p+'_end" style="overflow:hidden;line-height:0px">&#xFEFF;</span>'))}catch(w){return null}}else{if(r=e.getNode(),m=r.nodeName,"IMG"==m)return{name:m,index:c(m,
r)};m=d(h.cloneRange());n||(m.collapse(!1),m.insertNode(g.create("span",{"data-mce-type":"bookmark",id:p+"_end",style:"overflow:hidden;line-height:0px"},"&#xFEFF;")));h=d(h);h.collapse(!0);h.insertNode(g.create("span",{"data-mce-type":"bookmark",id:p+"_start",style:"overflow:hidden;line-height:0px"},"&#xFEFF;"))}return e.moveToBookmark({id:p,keep:1}),{id:p}},moveToBookmark:function(a){function b(c){var d=a[c?"start":"end"],f,h,m,p;if(d){m=d[0];h=g;for(f=d.length-1;1<=f;f--){if(p=h.childNodes,d[f]>
p.length-1)return;h=p[d[f]]}3===h.nodeType&&(m=Math.min(d[0],h.nodeValue.length));1===h.nodeType&&(m=Math.min(d[0],h.childNodes.length));c?e.setStart(h,m):e.setEnd(h,m)}return!0}function c(b){var d=f.get(a.id+"_"+b),e,g,w;w=a.keep;if(d&&(e=d.parentNode,"start"==b?(w?(e=d.firstChild,g=1):g=f.nodeIndex(d),h=m=e,n=k=g):(w?(e=d.firstChild,g=1):g=f.nodeIndex(d),m=e,k=g),!w)){w=d.previousSibling;e=d.nextSibling;for(v(r(d.childNodes),function(a){3==a.nodeType&&(a.nodeValue=a.nodeValue.replace(/\uFEFF/g,
""))});d=f.get(a.id+"_"+b);)f.remove(d,1);w&&e&&w.nodeType==e.nodeType&&3==w.nodeType&&!p&&(g=w.nodeValue.length,w.appendData(e.nodeValue),f.remove(e),"start"==b?(h=m=w,n=k=g):(m=w,k=g))}}function d(a){return!f.isBlock(a)||a.innerHTML||w||(a.innerHTML='<br data-mce-bogus="1" />'),a}var f=this.dom,e,g,h,m,n,k;if(a)if(a.start){if(e=f.createRng(),g=f.getRoot(),this.tridentSel)return this.tridentSel.moveToBookmark(a);b(!0)&&b()&&this.setRng(e)}else a.id?(c("start"),c("end"),h&&(e=f.createRng(),e.setStart(d(h),
n),e.setEnd(d(m),k),this.setRng(e))):a.name?this.select(f.select(a.name)[a.index]):a.rng&&this.setRng(a.rng)},select:function(a,b){function c(a,b){var f=new d(a,a);do{if(3==a.nodeType&&0!==n(a.nodeValue).length)return b?h.setStart(a,0):h.setEnd(a,a.nodeValue.length),g;if("BR"==a.nodeName)return b?h.setStartBefore(a):h.setEndBefore(a),g}while(a=b?f.next():f.prev())}var f=this.dom,h=f.createRng();if(a){if(!b&&this.controlSelection.controlSelect(a))return;f=f.nodeIndex(a);h.setStart(a.parentNode,f);
h.setEnd(a.parentNode,f+1);b&&(c(a,1),c(a));this.setRng(h)}return a},isCollapsed:function(){var a=this.getRng(),b=this.getSel();return!a||a.item?!1:a.compareEndPoints?0===a.compareEndPoints("StartToEnd",a):!b||a.collapsed},collapse:function(a){var b=this.getRng(),c;b.item&&(c=b.item(0),b=this.win.document.body.createTextRange(),b.moveToElementText(c));b.collapse(!!a);this.setRng(b)},getSel:function(){var a=this.win;return a.getSelection?a.getSelection():a.document.selection},getRng:function(a){var b,
c,d,f=this.win.document;if(a&&this.tridentSel)return this.tridentSel.getRangeAt(0);try{(b=this.getSel())&&(c=0<b.rangeCount?b.getRangeAt(0):b.createRange?b.createRange():f.createRange())}catch(e){}return w&&c&&c.setStart&&f.selection.createRange().item&&(d=f.selection.createRange().item(0),c=f.createRange(),c.setStartBefore(d),c.setEndAfter(d)),c||(c=f.createRange?f.createRange():f.body.createTextRange()),c.setStart&&9===c.startContainer.nodeType&&c.collapsed&&(d=this.dom.getRoot(),c.setStart(d,0),
c.setEnd(d,0)),this.selectedRange&&this.explicitRange&&(0===c.compareBoundaryPoints(c.START_TO_START,this.selectedRange)&&0===c.compareBoundaryPoints(c.END_TO_END,this.selectedRange)?c=this.explicitRange:(this.selectedRange=null,this.explicitRange=null)),c},setRng:function(a,b){var c;if(a.select)try{a.select()}catch(d){}else if(this.tridentSel){if(a.cloneRange)try{return this.tridentSel.addRange(a),g}catch(d){}}else if(c=this.getSel()){this.explicitRange=a;try{c.removeAllRanges()}catch(d){}c.addRange(a);
!1===b&&c.extend&&(c.collapse(a.endContainer,a.endOffset),c.extend(a.startContainer,a.startOffset));this.selectedRange=0<c.rangeCount?c.getRangeAt(0):null}},setNode:function(a){return this.setContent(this.dom.getOuterHTML(a)),a},getNode:function(){function a(b,c){for(var d=b;b&&3===b.nodeType&&0===b.length;)b=c?b.nextSibling:b.previousSibling;return b||d}var b=this.getRng(),c,d=b.startContainer,f=b.endContainer,e=b.startOffset,g=b.endOffset;return b?b.setStart?(c=b.commonAncestorContainer,!b.collapsed&&
(d==f&&2>g-e&&d.hasChildNodes()&&(c=d.childNodes[e]),3===d.nodeType&&3===f.nodeType&&(d=d.length===e?a(d.nextSibling,!0):d.parentNode,f=0===g?a(f.previousSibling,!1):f.parentNode,d&&d===f))?d:c&&3==c.nodeType?c.parentNode:c):b.item?b.item(0):b.parentElement():this.dom.getRoot()},getSelectedBlocks:function(a,b){var c=this.dom,f,g=[];if(a=c.getParent(a||this.getStart(),c.isBlock),b=c.getParent(b||this.getEnd(),c.isBlock),a&&g.push(a),a&&b&&a!=b){f=a;for(var h=new d(a,c.getRoot());(f=h.next())&&f!=b;)c.isBlock(f)&&
g.push(f)}return b&&a!=b&&g.push(b),g},isForward:function(){var a=this.dom,b=this.getSel(),c,d;return b&&b.anchorNode&&b.focusNode?(c=a.createRng(),c.setStart(b.anchorNode,b.anchorOffset),c.collapse(!0),d=a.createRng(),d.setStart(b.focusNode,b.focusOffset),d.collapse(!0),0>=c.compareBoundaryPoints(c.START_TO_START,d)):!0},normalize:function(){function a(l){function m(a,b){for(var c=new d(a,v.getParent(a.parentNode,v.isBlock)||k);a=c[b?"prev":"next"]();)if("BR"===a.nodeName)return!0}function p(a,b){var c,
l;b=b||n;for(c=new d(b,v.getParent(b.parentNode,v.isBlock)||k);q=c[a?"prev":"next"]();){if(3===q.nodeType&&0<q.nodeValue.length)return n=q,r=a?q.nodeValue.length:0,f=!0,g;if(v.isBlock(q)||N[q.nodeName.toLowerCase()])return;l=q}h&&l&&(n=l,f=!0,r=0)}var n,r,w,v=b.dom,k=v.getRoot(),q,N;if(n=c[(l?"start":"end")+"Container"],r=c[(l?"start":"end")+"Offset"],N=v.schema.getNonEmptyElements(),9===n.nodeType&&(n=v.getRoot(),r=0),n===k){if(l&&(q=n.childNodes[0<r?r-1:0],q&&(q.nodeName.toLowerCase(),N[q.nodeName]||
"TABLE"==q.nodeName)))return;if(n.hasChildNodes()&&(r=Math.min(!l&&0<r?r-1:r,n.childNodes.length-1),n=n.childNodes[r],r=0,n.hasChildNodes()&&!/TABLE/.test(n.nodeName))){q=n;w=new d(n,k);do{if(3===q.nodeType&&0<q.nodeValue.length){r=l?0:q.nodeValue.length;n=q;f=!0;break}if(N[q.nodeName.toLowerCase()]){r=v.nodeIndex(q);n=q.parentNode;"IMG"!=q.nodeName||l||r++;f=!0;break}}while(q=l?w.next():w.prev())}}h&&(3===n.nodeType&&0===r&&p(!0),1===n.nodeType&&(q=n.childNodes[r],!q||"BR"!==q.nodeName||q.previousSibling&&
"A"==q.previousSibling.nodeName||m(q)||m(q,!0)||p(!0,n.childNodes[r])));l&&!h&&3===n.nodeType&&r===n.nodeValue.length&&p(!1);f&&c["set"+(l?"Start":"End")](n,r)}var b=this,c,f,h;w||(c=b.getRng(),h=c.collapsed,a(!0),h||a(),f&&(h&&c.collapse(!0),b.setRng(c,b.isForward())))},selectorChanged:function(a,b){var c=this,d;return c.selectorChangedData||(c.selectorChangedData={},d={},c.editor.on("NodeChange",function(a){var b=a.element,f=c.dom,e=f.getParents(b,null,f.getRoot()),h={};v(c.selectorChangedData,
function(a,b){v(e,function(c){return f.is(c,b)?(d[b]||(v(a,function(a){a(!0,{node:c,selector:b,parents:e})}),d[b]=a),h[b]=a,!1):g})});v(d,function(a,c){h[c]||(delete d[c],v(a,function(a){a(!1,{node:b,selector:c,parents:e})}))})})),c.selectorChangedData[a]||(c.selectorChangedData[a]=[]),c.selectorChangedData[a].push(b),c},scrollIntoView:function(a){var b,c=this.dom;b=c.getViewPort(this.editor.getWin());a=c.getPos(a).y;(b.y>a||a+25>b.y+b.h)&&this.editor.getWin().scrollTo(0,b.y>a?a:a-b.h+25)},destroy:function(){this.win=
null;this.controlSelection.destroy()}},h});h("tinymce/dom/RangeUtils",["tinymce/util/Tools"],function(d){function b(b){this.walk=function(d,e){function h(a){var b;return b=a[0],3===b.nodeType&&b===p&&l>=b.nodeValue.length&&a.splice(0,1),b=a[a.length-1],0===E&&0<a.length&&b===k&&3===b.nodeType&&a.splice(a.length-1,1),a}function r(a,b,c){for(var d=[];a&&a!=c;a=a[b])d.push(a);return d}function n(a,b){do{if(a.parentNode==b)return a;a=a.parentNode}while(a)}function w(a,b,c){var d=c?"nextSibling":"previousSibling";
u=a;for(q=u.parentNode;u&&u!=b;u=q)q=u.parentNode,L=r(u==a?u:u[d],d),L.length&&(c||L.reverse(),e(h(L)))}var p=d.startContainer,l=d.startOffset,k=d.endContainer,E=d.endOffset,z,A,u,q,L;if(A=b.select("td.mce-item-selected,th.mce-item-selected"),0<A.length)return a(A,function(a){e([a])}),g;if(1==p.nodeType&&p.hasChildNodes()&&(p=p.childNodes[l]),1==k.nodeType&&k.hasChildNodes()&&(k=k.childNodes[Math.min(E-1,k.childNodes.length-1)]),p==k)return e(h([p]));z=b.findCommonAncestor(p,k);for(u=p;u;u=u.parentNode){if(u===
k)return w(p,z,!0);if(u===z)break}for(u=k;u;u=u.parentNode){if(u===p)return w(k,z);if(u===z)break}A=n(p,z)||p;z=n(k,z)||k;w(p,A,!0);L=r(A==p?A:A.nextSibling,"nextSibling",z==k?z.nextSibling:z);L.length&&e(h(L));w(k,z)};this.split=function(a){var b=a.startContainer,c=a.startOffset,d=a.endContainer;a=a.endOffset;return b==d&&3==b.nodeType?0<c&&b.nodeValue.length>c&&(d=b.splitText(c),b=d.previousSibling,a>c?(a-=c,b=d=d.splitText(a).previousSibling,a=d.nodeValue.length,c=0):a=0):(3==b.nodeType&&0<c&&
b.nodeValue.length>c&&(b=b.splitText(c),c=0),3==d.nodeType&&0<a&&d.nodeValue.length>a&&(d=d.splitText(a).previousSibling,a=d.nodeValue.length)),{startContainer:b,startOffset:c,endContainer:d,endOffset:a}}}var a=d.each;return b.compareRanges=function(a,b){if(a&&b){if(!a.item&&!a.duplicate)return a.startContainer==b.startContainer&&a.startOffset==b.startOffset;if(a.item&&b.item&&a.item(0)===b.item(0)||a.isEqual&&b.isEqual&&b.isEqual(a))return!0}return!1},b});h("tinymce/Formatter",["tinymce/dom/TreeWalker",
"tinymce/dom/RangeUtils","tinymce/util/Tools"],function(d,b,a){return function(c){function f(a){return a.nodeType&&(a=a.nodeName),!!c.schema.getTextBlockElements()[a.toLowerCase()]}function h(a,b){return C.getParents(a,b,C.getRoot())}function k(a){return 1===a.nodeType&&"_mce_caret"===a.id}function r(a){return a?M[a]:M}function n(a,b){a&&("string"!=typeof a?ba(a,function(a,b){n(b,a)}):(b=b.length?b:[b],ba(b,function(a){a.deep===da&&(a.deep=!a.selector);a.split===da&&(a.split=!a.selector||a.inline);
a.remove===da&&a.selector&&!a.inline&&(a.remove="none");a.selector&&a.inline&&(a.mixed=!0,a.block_expand=!0);"string"==typeof a.classes&&(a.classes=a.classes.split(/\s+/))}),M[a]=b))}function w(a){var b;return c.dom.getParent(a,function(a){return b=c.dom.getStyle(a,"text-decoration"),b&&"none"!==b}),b}function p(a){var b;1===a.nodeType&&a.parentNode&&1===a.parentNode.nodeType&&(b=w(a.parentNode),c.dom.getStyle(a,"color")&&b?c.dom.setStyle(a,"text-decoration",b):c.dom.getStyle(a,"textdecoration")===
b&&c.dom.setStyle(a,"text-decoration",null))}function l(a,b,h){function m(a,c){c=c||q;a&&(c.onformat&&c.onformat(a,c,b,h),ba(c.styles,function(c,d){C.setStyle(a,d,L(c,b))}),ba(c.attributes,function(c,d){C.setAttrib(a,d,L(c,b))}),ba(c.classes,function(c){c=L(c,b);C.hasClass(a,c)||C.addClass(a,c)}))}function n(){var a=c.selection.getRng(),b=a.startContainer,f=a.endContainer;if(b!=f&&0===a.endOffset){a:{f=new d(f);for(h=f.current();h;h=f.prev())if(1<h.childNodes.length||h==b||"BR"==h.tagName){b=h;break a}b=
void 0}a.setEnd(b,3==b.nodeType?b.length:b.childNodes.length)}return a}function w(a,b,c,d,f){var e=[],h=-1,l,m=-1,p=-1,n;return ba(a.childNodes,function(a,b){return"UL"===a.nodeName||"OL"===a.nodeName?(h=b,l=a,!1):g}),ba(a.childNodes,function(a,c){"SPAN"===a.nodeName&&"bookmark"==C.getAttrib(a,"data-mce-type")&&(a.id==b.id+"_start"?m=c:a.id==b.id+"_end"&&(p=c))}),0>=h||h>m&&p>h?(ba(pa(a.childNodes),f),0):(n=C.clone(c,Q),ba(pa(a.childNodes),function(a,b){(h>m&&h>b||m>h&&b>h)&&(e.push(a),a.parentNode.removeChild(a))}),
h>m?a.insertBefore(n,l):m>h&&a.insertBefore(n,l.nextSibling),d.push(n),ba(e,function(a){n.appendChild(a)}),n)}function x(c,d,e){var h=[],l,p,n=!0;l=q.inline||q.block;p=C.create(l);m(p);T.walk(c,function(c){function r(c){var A,t,y,D,L;return L=n,A=c.nodeName.toLowerCase(),t=c.parentNode.nodeName.toLowerCase(),1===c.nodeType&&aa(c)&&(L=n,n="true"===aa(c),D=!0),u(A,"br")?(x=0,q.block&&C.remove(c),g):q.wrapper&&E(c,a,b)?(x=0,g):n&&!D&&q.block&&!q.wrapper&&f(A)&&V(t,l)?(c=C.rename(c,l),m(c),h.push(c),
x=0,g):q.selector&&(ba(z,function(a){"collapsed"in a&&a.collapsed!==B||C.is(c,a.selector)&&!k(c)&&(m(c,a),y=!0)}),!q.inline||y)?(x=0,g):(!n||D||!V(l,A)||!V(t,l)||!e&&3===c.nodeType&&1===c.nodeValue.length&&65279===c.nodeValue.charCodeAt(0)||k(c)||q.inline&&W(c)?"li"==A&&d?x=w(c,d,p,h,r):(x=0,ba(pa(c.childNodes),r),D&&(n=L),x=0):(x||(x=C.clone(p,Q),c.parentNode.insertBefore(x,c),h.push(x)),x.appendChild(c)),g)}var x;ba(c,r)});!1===q.wrap_links&&ba(h,function(a){function b(a){var c,d,f;if("A"===a.nodeName){d=
C.clone(p,Q);h.push(d);f=pa(a.childNodes);for(c=0;f.length>c;c++)d.appendChild(f[c]);a.appendChild(d)}ba(pa(a.childNodes),b)}b(a)});ba(h,function(c){function d(a){var b,c;return ba(a.childNodes,function(a){return 1!=a.nodeType||N(a)||k(a)?g:(b=a,Q)}),b&&A(b,q)&&(c=C.clone(b,Q),m(c),C.replace(c,a,Z),C.remove(b,1)),c||a}var f;if(f=function(a){var b=0;return ba(a.childNodes,function(a){D(a)||N(a)||b++}),b}(c),(1<h.length||!W(c))&&0===f)return C.remove(c,1),g;if(q.inline||q.wrapper){if(q.exact||1!==f||
(c=d(c)),ba(z,function(a){ba(C.select(a.inline,c),function(c){var d;if(!1===a.wrap_links){d=c.parentNode;do if("A"===d.nodeName)return;while(d=d.parentNode)}F(a,b,c,a.exact?c:null)})}),E(c.parentNode,a,b))return C.remove(c,1),c=0,Z;q.merge_with_parents&&C.getParent(c.parentNode,function(d){return E(d,a,b)?(C.remove(c,1),c=0,Z):g});c&&!1!==q.merge_siblings&&(c=R(O(c),c),c=R(c,O(c,Z)))}})}var z=r(a),q=z[0],y,B=!h&&H.isCollapsed();if(q)if(h)h.nodeType?(y=C.createRng(),y.setStartBefore(h),y.setEndAfter(h),
x(G(y,z),null,!0)):x(h,null,!0);else if(B&&q.inline&&!C.select("td.mce-item-selected,th.mce-item-selected").length)K("apply",a,b);else{var la=c.selection.getNode();Y||!z[0].defaultBlock||C.getParent(la,C.isBlock)||l(z[0].defaultBlock);c.selection.setRng(n());y=H.getBookmark();x(G(H.getRng(Z),z),y);q.styles&&(q.styles.color||q.styles.textDecoration)&&(Ja(la,p,"childNodes"),p(la));H.moveToBookmark(y);S(H.getRng(Z));c.nodeChanged()}}function x(a,b,d){function f(a){var c,d,e,g,h;if(1===a.nodeType&&aa(a)&&
(g=A,A="true"===aa(a),h=!0),c=pa(a.childNodes),A&&!h)for(d=0,e=k.length;e>d&&!F(k[d],b,a,a);d++);if(v.deep&&c.length){d=0;for(e=c.length;e>d;d++)f(c[d]);h&&(A=g)}}function e(c){var d;return ba(h(c.parentNode).reverse(),function(c){var f;d||"_start"==c.id||"_end"==c.id||(f=E(c,a,b),f&&!1!==f.split&&(d=c))}),d}function l(a){var c=e(a),d=a,f,g,h,m,p,n;if(c){n=c.parentNode;for(f=d.parentNode;f&&f!=n;f=f.parentNode){g=C.clone(f,Q);for(p=0;k.length>p;p++)if(F(k[p],b,g,g)){g=0;break}g&&(h&&g.appendChild(h),
m||(m=g),h=g)}v.mixed&&W(c)||(d=C.split(c,d));h&&(a.parentNode.insertBefore(h,a),m.appendChild(a))}return d}function p(a){var b=C.get(a?"_start":"_end"),c=b[a?"firstChild":"lastChild"];return N(c)&&(c=c[a?"firstChild":"lastChild"]),C.remove(b,!0),c}function n(a){var b,d;a=G(a,k,Z);v.split&&(b=P(a,Z),d=P(a),b!=d?(/^(TR|TD)$/.test(b.nodeName)&&b.firstChild&&(b="TD"==b.nodeName?b.firstChild||b:b.firstChild.firstChild||b),b=B(b,"span",{id:"_start","data-mce-type":"bookmark"}),d=B(d,"span",{id:"_end",
"data-mce-type":"bookmark"}),l(b),l(d),b=p(Z),d=p()):b=d=l(b),a.startContainer=b.parentNode,a.startOffset=U(b),a.endContainer=d.parentNode,a.endOffset=U(d)+1);T.walk(a,function(a){ba(a,function(a){f(a);1===a.nodeType&&"underline"===c.dom.getStyle(a,"text-decoration")&&a.parentNode&&"underline"===w(a.parentNode)&&F({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,a)})})}var k=r(a),v=k[0],x,u,A=!0;return d?(d.nodeType?(u=C.createRng(),u.setStartBefore(d),u.setEndAfter(d),n(u)):
n(d),g):(H.isCollapsed()&&v.inline&&!C.select("td.mce-item-selected,th.mce-item-selected").length?K("remove",a,b):(x=H.getBookmark(),n(H.getRng(Z)),H.moveToBookmark(x),v.inline&&z(a,b,H.getStart())&&S(H.getRng(!0)),c.nodeChanged()),g)}function E(a,b,c,d){function f(a,b,e){var g,h,l=b[e];if(b.onmatch)return b.onmatch(a,b,e);if(l)if(l.length===da)for(g in l){if(l.hasOwnProperty(g)&&((h="attributes"===e?C.getAttrib(a,g):q(a,g),d&&!h&&!b.exact)||(!d||b.exact)&&!u(h,L(l[g],c))))return}else for(g=0;l.length>
g&&("attributes"===e?!C.getAttrib(a,l[g]):!q(a,l[g]));g++);return b}var e=r(b),g;if(e&&a)for(b=0;e.length>b;b++)if(g=e[b],A(a,g)&&f(a,g,"attributes")&&f(a,g,"styles")){if(e=g.classes)for(b=0;e.length>b;b++)if(!C.hasClass(a,e[b]))return;return g}}function z(a,b,c){function d(c){return c=C.getParent(c,function(c){return!!E(c,a,b,!0)}),E(c,a,b)}var f;return c?d(c):(c=H.getNode(),d(c)?Z:(f=H.getStart(),f!=c&&d(f)?Z:Q))}function A(a,b){return u(a,b.inline)?Z:u(a,b.block)?Z:b.selector?1==a.nodeType&&C.is(a,
b.selector):g}function u(a,b){return a=a||"",b=b||"",a=""+(a.nodeName||a),b=""+(b.nodeName||b),a.toLowerCase()==b.toLowerCase()}function q(a,b){var c=C.getStyle(a,b);return("color"==b||"backgroundColor"==b)&&(c=C.toHex(c)),"fontWeight"==b&&700==c&&(c="bold"),""+c}function L(a,b){return"string"!=typeof a?a=a(b):b&&(a=a.replace(/%(\w+)/g,function(a,c){return b[c]||a})),a}function D(a){return a&&3===a.nodeType&&/^([\t \r\n]+|)$/.test(a.nodeValue)}function B(a,b,c){b=C.create(b,c);return a.parentNode.insertBefore(b,
a),b.appendChild(a),b}function G(a,b,l){function p(a){var c,d,f,e;if(c=d=a?E:y,f=a?"previousSibling":"nextSibling",e=C.getRoot(),3==c.nodeType&&!D(c)&&(a?0<q:c.nodeValue.length>L))return c;for(;b[0].block_expand||!W(d);){for(a=d[f];a;a=a[f]){if(c=!N(a)&&!D(a))c=a,c=!("BR"==c.nodeName&&c.getAttribute("data-mce-bogus")&&!c.nextSibling);if(c)return d}if(d.parentNode==e)break;d=d.parentNode}return d}function n(a,b){for(b===da&&(b=3===a.nodeType?a.length:a.childNodes.length);a&&a.hasChildNodes();)(a=a.childNodes[b])&&
(b=3===a.nodeType?a.length:a.childNodes.length);return{node:a,offset:b}}function r(a){for(var b=a;b;){if(1===b.nodeType&&aa(b))return"false"===aa(b)?b:a;b=b.parentNode}return a}function w(a,b,f){function h(a,b){var c,d,e=a.nodeValue;return b===g&&(b=f?e.length:0),f?(c=e.lastIndexOf(" ",b),d=e.lastIndexOf("\u00a0",b),c=c>d?c:d,-1===c||l||c++):(c=e.indexOf(" ",b),d=e.indexOf("\u00a0",b),c=-1!==c&&(-1===d||d>c)?c:d),c}var m,p,n;if(3===a.nodeType){if(p=h(a,b),-1!==p)return{container:a,offset:p};n=a}for(a=
new d(a,C.getParent(a,W)||c.getBody());m=a[f?"prev":"next"]();)if(3===m.nodeType){if(n=m,p=h(m),-1!==p)return{container:m,offset:p}}else if(W(m))break;return n?(b=f?0:n.length,{container:n,offset:b}):g}function k(c,d){var f,e,g,l;3==c.nodeType&&0===c.nodeValue.length&&c[d]&&(c=c[d]);f=h(c);for(e=0;f.length>e;e++)for(g=0;b.length>g;g++)if(l=b[g],!("collapsed"in l&&l.collapsed!==a.collapsed)&&C.is(f[e],l.selector))return f[e];return c}function v(a,c){var d;if(b[0].wrapper||(d=C.getParent(a,b[0].block)),
d||(d=C.getParent(3==a.nodeType?a.parentNode:a,f)),d&&b[0].wrapper&&(d=h(d,"ul,ol").reverse()[0]||d),!d)for(d=a;d[c]&&!W(d[c])&&(d=d[c],!u(d,"br")););return d||a}var x,z,A,E=a.startContainer,q=a.startOffset,y=a.endContainer,L=a.endOffset;if(1==E.nodeType&&E.hasChildNodes()&&(x=E.childNodes.length-1,E=E.childNodes[q>x?x:q],3==E.nodeType&&(q=0)),1==y.nodeType&&y.hasChildNodes()&&(x=y.childNodes.length-1,y=y.childNodes[L>x?x:L-1],3==y.nodeType&&(L=y.nodeValue.length)),E=r(E),y=r(y),(N(E.parentNode)||
N(E))&&(E=N(E)?E:E.parentNode,E=E.nextSibling||E,3==E.nodeType&&(q=0)),(N(y.parentNode)||N(y))&&(y=N(y)?y:y.parentNode,y=y.previousSibling||y,3==y.nodeType&&(L=y.length)),b[0].inline&&(a.collapsed&&(A=w(E,q,!0),A&&(E=A.container,q=A.offset),A=w(y,L),A&&(y=A.container,L=A.offset)),z=n(y,L),z.node)){for(;z.node&&0===z.offset&&z.node.previousSibling;)z=n(z.node.previousSibling);z.node&&0<z.offset&&3===z.node.nodeType&&" "===z.node.nodeValue.charAt(z.offset-1)&&1<z.offset&&(y=z.node,y.splitText(z.offset-
1))}return(b[0].inline||b[0].block_expand)&&(b[0].inline&&3==E.nodeType&&0!==q||(E=p(!0)),b[0].inline&&3==y.nodeType&&L!==y.nodeValue.length||(y=p())),b[0].selector&&b[0].expand!==Q&&!b[0].inline&&(E=k(E,"previousSibling"),y=k(y,"nextSibling")),(b[0].block||b[0].selector)&&(E=v(E,"previousSibling"),y=v(y,"nextSibling"),b[0].block&&(W(E)||(E=p(!0)),W(y)||(y=p()))),1==E.nodeType&&(q=U(E),E=E.parentNode),1==y.nodeType&&(L=U(y)+1,y=y.parentNode),{startContainer:E,startOffset:q,endContainer:y,endOffset:L}}
function F(a,b,c,d){var f,e,h;if(!A(c,a))return Q;if("all"!=a.remove)for(ba(a.styles,function(a,f){a=L(a,b);"number"==typeof f&&(f=a,d=0);d&&!u(q(d,f),a)||C.setStyle(c,f,"");h=1}),h&&""===C.getAttrib(c,"style")&&(c.removeAttribute("style"),c.removeAttribute("data-mce-style")),ba(a.attributes,function(a,f){var e;if(a=L(a,b),"number"==typeof f&&(f=a,d=0),!d||u(C.getAttrib(d,f),a)){if("class"==f&&(a=C.getAttrib(c,f),a&&(e="",ba(a.split(/\s+/),function(a){/mce\w+/.test(a)&&(e+=(e?" ":"")+a)}),e)))return C.setAttrib(c,
f,e),g;"class"==f&&c.removeAttribute("className");la.test(f)&&c.removeAttribute("data-mce-"+f);c.removeAttribute(f)}}),ba(a.classes,function(a){a=L(a,b);d&&!C.hasClass(d,a)||C.removeClass(c,a)}),e=C.getAttribs(c),f=0;e.length>f;f++)if(0!==e[f].nodeName.indexOf("_"))return Q;return"none"!=a.remove?(I(c,a),Z):g}function I(a,b){function c(a,b,d){return a=O(a,b,d),!a||"BR"==a.nodeName||W(a)}var d=a.parentNode,f;b.block&&(Y?d==C.getRoot()&&(b.list_block&&u(a,b.list_block)||ba(pa(a.childNodes),function(a){V(Y,
a.nodeName.toLowerCase())?f?f.appendChild(a):f=B(a,Y):f=0})):W(a)&&!W(d)&&(c(a,Q)||c(a.firstChild,Z,1)||a.insertBefore(C.create("br"),a.firstChild),c(a,Z)||c(a.lastChild,Q,1)||a.appendChild(C.create("br"))));b.selector&&b.inline&&!u(b.inline,a)||C.remove(a,1)}function O(a,b,c){if(a)for(b=b?"nextSibling":"previousSibling",a=c?a:a[b];a;a=a[b])if(1==a.nodeType||!D(a))return a}function N(a){return a&&1==a.nodeType&&"bookmark"==a.getAttribute("data-mce-type")}function R(a,b){function c(a,b){function d(a){var b=
{};return ba(C.getAttribs(a),function(c){c=c.nodeName.toLowerCase();0!==c.indexOf("_")&&"style"!==c&&(b[c]=C.getAttrib(a,c))}),b}function f(a,b){var c,d;for(d in a)if(a.hasOwnProperty(d)){if((c=b[d],c===da)||a[d]!=c)return Q;delete b[d]}for(d in b)if(b.hasOwnProperty(d))return Q;return Z}return a.nodeName!=b.nodeName?Q:f(d(a),d(b))?f(C.parseStyle(C.getAttrib(a,"style")),C.parseStyle(C.getAttrib(b,"style")))?Z:Q:Q}function d(a,b){for(f=a;f&&(3!=f.nodeType||0===f.nodeValue.length);f=f[b])if(1==f.nodeType&&
!N(f))return f;return a}var f,e;if(a&&b&&(a=d(a,"previousSibling"),b=d(b,"nextSibling"),c(a,b))){for(f=a.nextSibling;f&&f!=b;)e=f,f=f.nextSibling,a.appendChild(e);return C.remove(b),ba(pa(b.childNodes),function(b){a.appendChild(b)}),a}return b}function P(a,b){var f,g,h;return f=a[b?"startContainer":"endContainer"],g=a[b?"startOffset":"endOffset"],1==f.nodeType&&(h=f.childNodes.length-1,!b&&g&&g--,f=f.childNodes[g>h?h:g]),3===f.nodeType&&b&&g>=f.nodeValue.length&&(f=(new d(f,c.getBody())).next()||
f),3!==f.nodeType||b||0!==g||(f=(new d(f,c.getBody())).prev()||f),f}function K(a,b,f){function g(a){var b=C.create("span",{id:u,"data-mce-bogus":!0,style:z?"color:red":""});return a&&b.appendChild(c.getDoc().createTextNode(ca)),b}function h(a,b){for(;a;){if(3===a.nodeType&&a.nodeValue!==ca||1<a.childNodes.length)return!1;b&&1===a.nodeType&&b.push(a);a=a.firstChild}return!0}function m(a){for(;a;){if(a.id===u)return a;a=a.parentNode}}function p(a){var b;if(a)for(b=new d(a,a),a=b.current();a;a=b.next())if(3===
a.nodeType)return a}function n(a,b){var c,d;if(a)d=H.getRng(!0),h(a)?(!1!==b&&(d.setStartBefore(a),d.setEndBefore(a)),C.remove(a)):(c=p(a),c.nodeValue.charAt(0)===ca&&c.deleteData(0,1),C.remove(a,1)),H.setRng(d);else if(a=m(H.getStart()),!a)for(;a=C.get(u);)n(a,!1)}function w(){var a,c,d,e,h,n;a=H.getRng(!0);e=a.startOffset;n=a.startContainer.nodeValue;(c=m(H.getStart()))&&(d=p(c));n&&0<e&&n.length>e&&/\w/.test(n.charAt(e))&&/\w/.test(n.charAt(e-1))?(h=H.getBookmark(),a.collapse(!0),a=G(a,r(b)),a=
T.split(a),l(b,f,a),H.moveToBookmark(h)):(c&&d.nodeValue===ca?l(b,f,c):(c=g(!0),d=c.firstChild,a.insertNode(c),e=1,l(b,f,c)),H.setCursorLocation(d,e))}function k(){var a=H.getRng(!0),c,d,e,h,l,m=[];c=a.startContainer;d=a.startOffset;e=c;for(3==c.nodeType&&((d!=c.nodeValue.length||c.nodeValue===ca)&&(h=!0),e=e.parentNode);e;){if(E(e,b,f)){l=e;break}e.nextSibling&&(h=!0);m.push(e);e=e.parentNode}if(l)if(h)e=H.getBookmark(),a.collapse(!0),a=G(a,r(b),!0),a=T.split(a),x(b,f,a),H.moveToBookmark(e);else{e=
c=g();for(a=m.length-1;0<=a;a--)e.appendChild(C.clone(m[a],!1)),e=e.firstChild;e.appendChild(C.doc.createTextNode(ca));e=e.firstChild;C.insertAfter(c,l);H.setCursorLocation(e,1)}}function v(){var a;(a=m(H.getStart()))&&!C.isEmpty(a)&&Ja(a,function(a){1!=a.nodeType||a.id===u||C.isEmpty(a)||C.setAttrib(a,"data-mce-bogus",null)},"childNodes")}var u="_mce_caret",z=c.settings.caret_debug;c._hasCaretEvents||(Ba=function(){var a=[],b;if(h(m(H.getStart()),a))for(b=a.length;b--;)C.setAttrib(a[b],"data-mce-bogus",
"1")},ka=function(a){a=a.keyCode;n();8!=a&&37!=a&&39!=a||n(m(H.getStart()));v()},c.on("SetContent",function(a){a.selection&&v()}),c._hasCaretEvents=!0);"apply"==a?w():k()}function S(a){var b=a.startContainer,c=a.startOffset,f,h,l;if(3==b.nodeType&&c>=b.nodeValue.length&&(c=U(b),b=b.parentNode,f=!0),1==b.nodeType)for(h=b.childNodes,b=h[Math.min(c,h.length-1)],b=new d(b,C.getParent(b,C.isBlock)),(c>h.length-1||f)&&b.next(),c=b.current();c;c=b.next())if(3==c.nodeType&&!D(c))return l=C.create("a",null,
ca),c.parentNode.insertBefore(l,c),a.setStart(c,0),H.setRng(a),C.remove(l),g}var M={},C=c.dom,H=c.selection,T=new b(C),V=c.schema.isValidChild,W=C.isBlock,Y=c.settings.forced_root_block,U=C.nodeIndex,ca="\ufeff",la=/^(src|href|style)$/,Q=!1,Z=!0,ua,da,aa=C.getContentEditable,ka,Ba,ba=a.each,pa=a.grep,Ja=a.walk,ma=a.extend;ma(this,{get:r,register:n,apply:l,remove:x,toggle:function(a,b,c){var d=r(a);!z(a,b,c)||"toggle"in d[0]&&!d[0].toggle?l(a,b,c):x(a,b,c)},match:z,matchAll:function(a,b){var c,d=[],
f={};return c=H.getStart(),C.getParent(c,function(c){var e,g;for(e=0;a.length>e;e++)g=a[e],!f[g]&&E(c,g,b)&&(f[g]=!0,d.push(g))},C.getRoot()),d},matchNode:E,canApply:function(a){a=r(a);var b,c,d,f;if(a)for(b=H.getStart(),b=h(b),d=a.length-1;0<=d;d--){if(f=a[d].selector,!f)return Z;for(c=b.length-1;0<=c;c--)if(C.is(b[c],f))return Z}return Q},formatChanged:function(a,b,d){var f;return ua||(ua={},f={},c.on("NodeChange",function(a){var b=h(a.element),c={};ba(ua,function(a,d){ba(b,function(e){return E(e,
d,{},a.similar)?(f[d]||(ba(a,function(a){a(!0,{node:e,format:d,parents:b})}),f[d]=a),c[d]=a,!1):g})});ba(f,function(d,e){c[e]||(delete f[e],ba(d,function(c){c(!1,{node:a.element,format:e,parents:b})}))})})),ba(a.split(","),function(a){ua[a]||(ua[a]=[],ua[a].similar=d);ua[a].push(b)}),this}});(function(){n({alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},
defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:!1},
hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:!1},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(a,b,c){ba(c,function(b,
c){C.setAttrib(a,c,b)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]});ba("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(a){n(a,{block:a,remove:"all"})});n(c.settings.formats)})();(function(){c.addShortcut("ctrl+b","bold_desc","Bold");c.addShortcut("ctrl+i",
"italic_desc","Italic");c.addShortcut("ctrl+u","underline_desc","Underline");for(var a=1;6>=a;a++)c.addShortcut("ctrl+"+a,"",["FormatBlock",!1,"h"+a]);c.addShortcut("ctrl+7","",["FormatBlock",!1,"p"]);c.addShortcut("ctrl+8","",["FormatBlock",!1,"div"]);c.addShortcut("ctrl+9","",["FormatBlock",!1,"address"])})();c.on("BeforeGetContent",function(){Ba&&Ba()});c.on("mouseup keydown",function(a){ka&&ka(a)})}});h("tinymce/UndoManager",["tinymce/Env","tinymce/util/Tools"],function(d,b){var a=b.trim,c;return c=
/<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\/span>|<div[^>]+data-mce-bogus[^>]+><\/div>|\s?data-mce-selected="[^"]+"/gi,function(b){function h(){return a(b.getContent({format:"raw",no_events:1}).replace(c,""))}function k(){r.typing=!1;r.add()}var r,n=0,w=[],p;return b.on("init",function(){r.add()}),b.on("BeforeExecCommand",function(a){a=a.command;"Undo"!=a&&"Redo"!=a&&"mceRepaint"!=a&&r.beforeChange()}),b.on("ExecCommand",function(a){a=a.command;"Undo"!=a&&"Redo"!=a&&"mceRepaint"!=a&&r.add()}),
b.on("ObjectResizeStart",function(){r.beforeChange()}),b.on("SaveContent ObjectResized",k),b.dom.bind(b.dom.getRoot(),"dragend",k),b.dom.bind(b.getBody(),"focusout",function(){!b.removed&&r.typing&&k()}),b.on("KeyUp",function(a){var c=a.keyCode;(33<=c&&36>=c||37<=c&&40>=c||45==c||13==c||a.ctrlKey)&&(k(),b.nodeChanged());(46==c||8==c||d.isMac&&(91==c||93==c))&&b.nodeChanged()}),b.on("KeyDown",function(a){a=a.keyCode;return 33<=a&&36>=a||37<=a&&40>=a||45==a?(r.typing&&k(),g):((16>a||20<a)&&224!=a&&
91!=a&&!r.typing&&(r.beforeChange(),r.typing=!0,r.add()),g)}),b.on("MouseDown",function(){r.typing&&k()}),b.addShortcut("ctrl+z","undo_desc","Undo"),b.addShortcut("ctrl+y","redo_desc","Redo"),b.on("AddUndo Undo Redo ClearUndos MouseUp",function(a){a.isDefaultPrevented()||b.nodeChanged()}),r={data:w,typing:!1,beforeChange:function(){p=b.selection.getBookmark(2,!0)},add:function(a){var c;c=b.settings;var d;if((a=a||{},a.content=h(),b.fire("BeforeAddUndo",{level:a}).isDefaultPrevented())||(d=w[n],d&&
d.content==a.content))return null;if(w[n]&&(w[n].beforeBookmark=p),c.custom_undo_redo_levels&&w.length>c.custom_undo_redo_levels){for(c=0;w.length-1>c;c++)w[c]=w[c+1];w.length--;n=w.length}return a.bookmark=b.selection.getBookmark(2,!0),w.length-1>n&&(w.length=n+1),w.push(a),n=w.length-1,b.fire("AddUndo",{level:a,lastLevel:d}),b.isNotDirty=0,a},undo:function(){var a;return r.typing&&(r.add(),r.typing=!1),0<n&&(a=w[--n],b.setContent(a.content,{format:"raw"}),b.selection.moveToBookmark(a.beforeBookmark),
b.fire("undo",{level:a})),a},redo:function(){var a;return w.length-1>n&&(a=w[++n],b.setContent(a.content,{format:"raw"}),b.selection.moveToBookmark(a.bookmark),b.fire("redo",{level:a})),a},clear:function(){w=[];n=0;r.typing=!1;b.fire("ClearUndos")},hasUndo:function(){return 0<n||r.typing&&w[0]&&h()!=w[0].content},hasRedo:function(){return w.length-1>n&&!this.typing},transact:function(a){r.beforeChange();a();r.add()}}}});h("tinymce/EnterKey",["tinymce/dom/TreeWalker","tinymce/Env"],function(d,b){var a=
b.ie;return function(b){function f(f){function x(a){return a&&h.isBlock(a)&&!/^(TD|TH|CAPTION|FORM)$/.test(a.nodeName)&&!/^(fixed|absolute)/i.test(a.style.position)&&"true"!==h.getContentEditable(a)}function E(a){var b;h.isBlock(a)&&(b=k.getRng(),a.appendChild(h.create("span",null,"\u00a0")),k.select(a),a.lastChild.outerHTML="",k.setRng(b))}function z(a){for(var b=[],c;a=a.firstChild;){if(h.isBlock(a))return;1!=a.nodeType||p[a.nodeName.toLowerCase()]||b.push(a)}for(c=b.length;c--;)a=b[c],!a.hasChildNodes()||
a.firstChild==a.lastChild&&""===a.firstChild.nodeValue?h.remove(a):"A"==a.nodeName&&" "===(a.innerText||a.textContent)&&h.remove(a)}function A(a){var b,c,f,g=a,l;if(f=h.createRng(),a.hasChildNodes()){for(b=new d(a,a);c=b.current();){if(3==c.nodeType){f.setStart(c,0);f.setEnd(c,0);break}if(p[c.nodeName.toLowerCase()]){f.setStartBefore(c);f.setEndBefore(c);break}g=c;b.next()}c||(f.setStart(g,0),f.setEnd(g,0))}else"BR"==a.nodeName?a.nextSibling&&h.isBlock(a.nextSibling)?((!M||9>M)&&(l=h.create("br"),
a.parentNode.insertBefore(l,a)),f.setStartBefore(a),f.setEndBefore(a)):(f.setStartAfter(a),f.setEndAfter(a)):(f.setStart(a,0),f.setEnd(a,0));k.setRng(f);h.remove(l);k.scrollIntoView(a)}function u(b){var c=P,d,f;if(d=b||"TABLE"==W?h.create(b||U):S.cloneNode(!1),f=d,!1!==r.keep_styles){do/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(c.nodeName)&&"_mce_caret"!=c.id&&(b=c.cloneNode(!1),h.setAttrib(b,"id",""),d.hasChildNodes()?(b.appendChild(d.firstChild),d.appendChild(b)):(f=b,d.appendChild(b)));while(c=
c.parentNode)}return a||(f.innerHTML='<br data-mce-bogus="1">'),d}function q(a){var b,c,f;if(3==P.nodeType&&(a?0<K:P.nodeValue.length>K))return!1;if(P.parentNode==S&&ca&&!a||a&&1==P.nodeType&&P==S.firstChild)return!0;if("TABLE"===P.nodeName||P.previousSibling&&"TABLE"==P.previousSibling.nodeName)return ca&&!a||!ca&&a;b=new d(P,S);for(3==P.nodeType&&(a&&0===K?b.prev():a||K!=P.nodeValue.length||b.next());c=b.current();){if(1===c.nodeType){if(!c.getAttribute("data-mce-bogus")&&(f=c.nodeName.toLowerCase(),
p[f]&&"br"!==f))return!1}else if(3===c.nodeType&&!/^[ \t\r\n]*$/.test(c.nodeValue))return!1;a?b.prev():b.next()}return!0}function L(a,d){var f,e,g,l,p,n=U||"P";if(e=h.getParent(a,h.isBlock),p=b.getBody().nodeName.toLowerCase(),!e||!x(e)){if(e=e||R,!e.hasChildNodes())return f=h.create(n),e.appendChild(f),O.setStart(f,0),O.setEnd(f,0),f;for(l=a;l.parentNode!=e;)l=l.parentNode;for(;l&&!h.isBlock(l);)g=l,l=l.previousSibling;if(g&&w.isValidChild(p,n.toLowerCase())){f=h.create(n);g.parentNode.insertBefore(f,
g);for(l=g;l&&!h.isBlock(l);)e=l.nextSibling,f.appendChild(l),l=e;O.setStart(a,d);O.setEnd(a,d)}}return a}function D(){function a(b){for(var c=V[b?"firstChild":"lastChild"];c&&1!=c.nodeType;)c=c[b?"nextSibling":"previousSibling"];return c===S}function b(){var a=V.parentNode;return"LI"==a.nodeName?a:V}var c=V.parentNode.nodeName;/^(OL|UL|LI)$/.test(c)&&(U="LI");H=U?u(U):h.create("BR");a(!0)&&a()?"LI"==c?h.insertAfter(H,b()):h.replace(H,V):a(!0)?"LI"==c?(h.insertAfter(H,b()),H.appendChild(h.doc.createTextNode(" ")),
H.appendChild(V)):V.parentNode.insertBefore(H,V):a()?(h.insertAfter(H,b()),E(H)):(V=b(),N=O.cloneRange(),N.setStartAfter(S),N.setEndAfter(V),T=N.extractContents(),h.insertAfter(T,V),h.insertAfter(H,V));h.remove(S);A(H);n.add()}function B(){var b,c,f;if(P&&3==P.nodeType&&K>=P.nodeValue.length){if(!(f=a))a:{f=new d(P,S);for(var g;g=f.next();)if(p[g.nodeName.toLowerCase()]||0<g.length){f=!0;break a}f=void 0}f||(b=h.create("br"),O.insertNode(b),O.setStartAfter(b),O.setEndAfter(b),c=!0)}b=h.create("br");
O.insertNode(b);a&&"PRE"==W&&(!M||8>M)&&b.parentNode.insertBefore(h.doc.createTextNode("\r"),b);f=h.create("span",{},"&nbsp;");b.parentNode.insertBefore(f,b);k.scrollIntoView(f);h.remove(f);c?(O.setStartBefore(b),O.setEndBefore(b)):(O.setStartAfter(b),O.setEndAfter(b));k.setRng(O);n.add()}function G(a){do 3===a.nodeType&&(a.nodeValue=a.nodeValue.replace(/^[\r\n]+/,"")),a=a.firstChild;while(a)}function F(a){for(var b=h.getRoot(),c;a!==b&&"false"!==h.getContentEditable(a);)"true"===h.getContentEditable(a)&&
(c=a),a=a.parentNode;return a!==b?c:b}function I(b){var c;a||(b.normalize(),c=b.lastChild,(!c||/^(left|right)$/gi.test(h.getStyle(c,"float",!0)))&&h.add(b,"br"))}var O=k.getRng(!0),N,R,P,K,S,M,C,H,T,V,W,Y,U,ca;if(!O.collapsed)return b.execCommand("Delete"),g;if(!f.isDefaultPrevented()&&(P=O.startContainer,K=O.startOffset,U=(r.force_p_newlines?"p":"")||r.forced_root_block,U=U?U.toUpperCase():"",M=h.doc.documentMode,C=f.shiftKey,1==P.nodeType&&P.hasChildNodes()&&(ca=K>P.childNodes.length-1,P=P.childNodes[Math.min(K,
P.childNodes.length-1)]||P,K=ca&&3==P.nodeType?P.nodeValue.length:0),R=F(P))){if(n.beforeChange(),!h.isBlock(R)&&R!=h.getRoot())return(!U||C)&&B(),g;if((U&&!C||!U&&C)&&(P=L(P,K)),S=h.getParent(P,h.isBlock),V=S?h.getParent(S.parentNode,h.isBlock):null,W=S?S.nodeName.toUpperCase():"",Y=V?V.nodeName.toUpperCase():"","LI"!=Y||f.ctrlKey||(S=V,W=Y),"LI"==W){if(!U&&C)return B(),g;if(h.isEmpty(S))return D(),g}if("PRE"==W&&!1!==r.br_in_pre){if(!C)return B(),g}else if(!U&&!C&&"LI"!=W||U&&C)return B(),g;U&&
S===b.getBody()||(U=U||"P",q()?(H=/^(H[1-6]|PRE|FIGURE)$/.test(W)&&"HGROUP"!=Y?u(U):u(),r.end_container_on_empty_block&&x(V)&&h.isEmpty(S)?H=h.split(V,S):h.insertAfter(H,S),A(H)):q(!0)?(H=S.parentNode.insertBefore(u(),S),E(H)):(N=O.cloneRange(),N.setEndAfter(S),T=N.extractContents(),G(T),H=T.firstChild,h.insertAfter(T,S),z(H),I(S),A(H)),h.setAttrib(H,"id",""),n.add())}}var h=b.dom,k=b.selection,r=b.settings,n=b.undoManager,w=b.schema,p=w.getNonEmptyElements();b.on("keydown",function(a){13==a.keyCode&&
!1!==f(a)&&a.preventDefault()})}});h("tinymce/ForceBlocks",[],function(){return function(d){function b(){var b=f.getStart(),n=d.getBody(),w,p,l,k,E,z,A,u,q,L,D;if(D=a.forced_root_block,b&&1===b.nodeType&&D){for(;b&&b!=n;){if(h[b.nodeName])return;b=b.parentNode}if(w=f.getRng(),w.setStart){p=w.startContainer;l=w.startOffset;k=w.endContainer;E=w.endOffset;try{q=d.getDoc().activeElement===n}catch(B){}}else w.item&&(b=w.item(0),w=d.getDoc().body.createTextRange(),w.moveToElementText(b)),q=w.parentElement().ownerDocument===
d.getDoc(),b=w.duplicate(),b.collapse(!0),l=-1*b.move("character",-16777215),b.collapsed||(b=w.duplicate(),b.collapse(!1),E=-1*b.move("character",-16777215)-l);b=n.firstChild;for(L=n.nodeName.toLowerCase();b;)(3===b.nodeType||1==b.nodeType&&!h[b.nodeName])&&g.isValidChild(L,D.toLowerCase())?3===b.nodeType&&0===b.nodeValue.length?(A=b,b=b.nextSibling,c.remove(A)):(z||(z=c.create(D),b.parentNode.insertBefore(z,b),u=!0),A=b,b=b.nextSibling,z.appendChild(A)):(z=null,b=b.nextSibling);if(u&&q){if(w.setStart)w.setStart(p,
l),w.setEnd(k,E),f.setRng(w);else try{w=d.getDoc().body.createTextRange(),w.moveToElementText(n),w.collapse(!0),w.moveStart("character",l),0<E&&w.moveEnd("character",E),w.select()}catch(B){}d.nodeChanged()}}}var a=d.settings,c=d.dom,f=d.selection,g=d.schema,h=g.getBlockElements();a.forced_root_block&&d.on("KeyUp NodeChange",b)}});h("tinymce/EditorCommands",["tinymce/html/Serializer","tinymce/Env","tinymce/util/Tools"],function(d,b,a){var c=a.each,f=a.extend,h=a.map,k=a.inArray,r=a.explode,n=b.gecko,
w=b.ie;return function(a){function b(a,c,d){var f;return a=a.toLowerCase(),(f=L.exec[a])?(f(a,c,d),!0):!1}function x(a){var b;return a=a.toLowerCase(),(b=L.state[a])?b(a):-1}function E(a,b){b=b||"exec";c(a,function(a,d){c(d.toLowerCase().split(","),function(c){L[b][c]=a})})}function z(b,c,d){return c===g&&(c=!1),d===g&&(d=null),a.getDoc().execCommand(b,c,d)}function A(b,c){B.toggle(b,c?{value:c}:g);a.nodeChanged()}var u=a.dom,q=a.selection,L={state:{},exec:{},value:{}},D=a.settings,B=a.formatter,
G;f(this,{execCommand:b,queryCommandState:x,queryCommandValue:function(a){var b;return a=a.toLowerCase(),(b=L.value[a])?b(a):!1},addCommands:E});E({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){a.undoManager.add()},"Cut,Copy,Paste":function(b){var c=a.getDoc(),d;try{z(b)}catch(f){d=!0}(d||!c.queryCommandSupported(b))&&(n?a.windowManager.confirm(a.getLang("clipboard_msg"),function(a){a&&window.open("http://www.mozilla.org/editor/midasdemo/securityprefs.html",
"_blank")}):a.windowManager.alert("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."))},unlink:function(a){q.isCollapsed()&&q.select(q.getNode());z(a);q.collapse(!1)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(a){var d=a.substring(7);"full"==d&&(d="justify");c(["left","center","right","justify"],function(a){d!=a&&B.remove("align"+a)});A("align"+d);b("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(a){var b;
z(a);if(a=u.getParent(q.getNode(),"ol,ul"))b=a.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(b.nodeName)&&(G=q.getBookmark(void 0),u.split(b,a),q.moveToBookmark(G))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){A(a)},"ForeColor,HiliteColor,FontName":function(a,b,c){A(a,c)},FontSize:function(a,b,c){var d,f;1<=c&&7>=c&&(f=r(D.font_size_style_values),d=r(D.font_size_classes),c=d?d[c-1]||c:f[c-1]||c);A(a,c)},RemoveFormat:function(a){B.remove(a)},mceBlockQuote:function(){A("blockquote")},
FormatBlock:function(a,b,c){return A(c||"p")},mceCleanup:function(){var b=q.getBookmark();a.setContent(a.getContent({cleanup:!0}),{cleanup:!0});q.moveToBookmark(b)},mceRemoveNode:function(b,c,d){b=d||q.getNode();b!=a.getBody()&&(G=q.getBookmark(void 0),a.dom.remove(b,!0),q.moveToBookmark(G))},mceSelectNodeDepth:function(b,c,d){var f=0;u.getParent(q.getNode(),function(a){return 1==a.nodeType&&f++==d?(q.select(a),!1):g},a.getBody())},mceSelectNode:function(a,b,c){q.select(c)},mceInsertContent:function(b,
c,f){function g(a){function b(a){return d[a]&&3==d[a].nodeType}var c,d,f;return c=q.getRng(!0),d=c.startContainer,f=c.startOffset,3==d.nodeType&&(0<f?a=a.replace(/^&nbsp;/," "):b("previousSibling")||(a=a.replace(/^ /,"&nbsp;")),d.length>f?a=a.replace(/&nbsp;(<br>|)$/," "):b("nextSibling")||(a=a.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),a}var h,l,m,n,r,k,v,x;if(/^ | $/.test(f)&&(f=g(f)),h=a.parser,l=new d({},a.schema),r={content:f,format:"html",selection:!0},a.fire("BeforeSetContent",r),f=r.content,
-1==f.indexOf("{$caret}")&&(f+="{$caret}"),f=f.replace(/\{\$caret\}/,'<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>'),q.isCollapsed()||a.getDoc().execCommand("Delete",!1,null),m=q.getNode(),r={context:m.nodeName.toLowerCase()},n=h.parse(f,r),k=n.lastChild,"mce_marker"==k.attr("id"))for(f=k,k=k.prev;k;k=k.walk(!0))if(3==k.type||!u.isBlock(k.name)){k.parent.insert(f,k,"br"===k.name);break}if(r.invalid){q.setContent('<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>');m=
q.getNode();b=a.getBody();for(9==m.nodeType?m=k=b:k=m;k!==b;)m=k,k=k.parentNode;f=m==b?b.innerHTML:u.getOuterHTML(m);f=l.serialize(h.parse(f.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return l.serialize(n)})));m==b?u.setHTML(b,f):u.setOuterHTML(m,f)}else f=l.serialize(n),k=m.firstChild,x=m.lastChild,!k||k===x&&"BR"===k.nodeName?u.setHTML(m,f):q.setContent(f);f=u.get("mce_marker");k=u.getRect(f);h=u.getViewPort(a.getWin());(k.y+k.h>h.y+h.h||k.y<h.y||k.x>h.x+h.w||k.x<h.x)&&
(v=w?a.getDoc().documentElement:a.getBody(),v.scrollLeft=k.x,v.scrollTop=k.y-h.h+25);v=u.createRng();(k=f.previousSibling)&&3==k.nodeType?(v.setStart(k,k.nodeValue.length),w||(x=f.nextSibling,x&&3==x.nodeType&&(k.appendData(x.data),x.parentNode.removeChild(x)))):(v.setStartBefore(f),v.setEndBefore(f));u.remove(f);q.setRng(v);a.fire("SetContent",r);a.addVisual()},mceInsertRawHTML:function(b,c,d){q.setContent("tiny_mce_marker");a.setContent(a.getContent().replace(/tiny_mce_marker/g,function(){return d}))},
mceToggleFormat:function(a,b,c){A(c)},mceSetContent:function(b,c,d){a.setContent(d)},"Indent,Outdent":function(a){var b,d,f;b=D.indentation;d=/[a-z%]+$/i.exec(b);b=parseInt(b,10);x("InsertUnorderedList")||x("InsertOrderedList")?z(a):(D.forced_root_block||u.getParent(q.getNode(),u.isBlock)||B.apply("div"),c(q.getSelectedBlocks(),function(c){var e;"LI"!=c.nodeName&&(e="rtl"==u.getStyle(c,"direction",!0)?"paddingRight":"paddingLeft","outdent"==a?(f=Math.max(0,parseInt(c.style[e]||0,10)-b),u.setStyle(c,
e,f?f+d:"")):(f=parseInt(c.style[e]||0,10)+b+d,u.setStyle(c,e,f)))}))},mceRepaint:function(){if(n)try{G=q.getBookmark(!0),q.getSel()&&q.getSel().selectAllChildren(a.getBody()),q.collapse(!0),q.moveToBookmark(G)}catch(b){}},InsertHorizontalRule:function(){a.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){a.hasVisual=!a.hasVisual;a.addVisual()},mceReplaceContent:function(b,c,d){a.execCommand("mceInsertContent",!1,d.replace(/\{\$selection\}/g,q.getContent({format:"text"})))},
mceInsertLink:function(a,b,c){"string"==typeof c&&(c={href:c});a=u.getParent(q.getNode(),"a");c.href=c.href.replace(" ","%20");a&&c.href||B.remove("link");c.href&&B.apply("link",c,a)},selectAll:function(){var a=u.getRoot(),b=u.createRng();q.getRng().setStart?(b.setStart(a,0),b.setEnd(a,a.childNodes.length),q.setRng(b)):z("SelectAll")},mceNewDocument:function(){a.setContent("")}});E({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(a){var b="align"+a.substring(7);a=q.isCollapsed()?[u.getParent(q.getNode(),
u.isBlock)]:q.getSelectedBlocks();a=h(a,function(a){return!!B.matchNode(a,b)});return-1!==k(a,!0)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){return B.match(a)},mceBlockQuote:function(){return B.match("blockquote")},Outdent:function(){var a;return D.inline_styles&&((a=u.getParent(q.getStart(),u.isBlock))&&0<parseInt(a.style.paddingLeft,10)||(a=u.getParent(q.getEnd(),u.isBlock))&&0<parseInt(a.style.paddingLeft,10))?!0:x("InsertUnorderedList")||x("InsertOrderedList")||!D.inline_styles&&
!!u.getParent(q.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(a){var b=u.getParent(q.getNode(),"ul,ol");return b&&("insertunorderedlist"===a&&"UL"===b.tagName||"insertorderedlist"===a&&"OL"===b.tagName)}},"state");E({"FontSize,FontName":function(a){var b=0,c;return(c=u.getParent(q.getNode(),"span"))&&(b="fontsize"==a?c.style.fontSize:c.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),b}},"value");E({Undo:function(){a.undoManager.undo()},Redo:function(){a.undoManager.redo()}})}});
h("tinymce/util/URI",["tinymce/util/Tools"],function(d){function b(d,e){var h=this,r,n;return d=c(d),e=h.settings=e||{},/^([\w\-]+):([^\/]{2})/i.test(d)||/^\s*#/.test(d)?(h.source=d,g):(0===d.indexOf("/")&&0!==d.indexOf("//")&&(d=(e.base_uri?e.base_uri.protocol||"http":"http")+"://mce_host"+d),/^[\w\-]*:?\/\//.test(d)||(n=e.base_uri?e.base_uri.path:(new b(location.href)).directory,d=(e.base_uri&&e.base_uri.protocol||"http")+"://mce_host"+h.toAbsPath(n,d)),d=d.replace(/@@/g,"(mce_at)"),d=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(d),
a("source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),function(a,b){var c=d[b];c&&(c=c.replace(/\(mce_at\)/g,"@@"));h[a]=c}),r=e.base_uri,r&&(h.protocol||(h.protocol=r.protocol),h.userInfo||(h.userInfo=r.userInfo),h.port||"mce_host"!==h.host||(h.port=r.port),h.host&&"mce_host"!==h.host||(h.host=r.host),h.source=""),g)}var a=d.each,c=d.trim;return b.prototype={setPath:function(a){a=/^(.*?)\/?(\w+)?$/.exec(a);this.path=a[0];this.directory=
a[1];this.file=a[2];this.source="";this.getURI()},toRelative:function(a){var c;if("./"===a)return a;if(a=new b(a,{base_uri:this}),"mce_host"!=a.host&&this.host!=a.host&&a.host||this.port!=a.port||this.protocol!=a.protocol)return a.getURI();var d=this.getURI(),e=a.getURI();return d==e||"/"==d.charAt(d.length-1)&&d.substr(0,d.length-1)==e?d:(c=this.toRelPath(this.path,a.path),a.query&&(c+="?"+a.query),a.anchor&&(c+="#"+a.anchor),c)},toAbsolute:function(a,c){return a=new b(a,{base_uri:this}),a.getURI(this.host==
a.host&&this.protocol==a.protocol?c:0)},toRelPath:function(a,b){var c,d=0,e="",g,h;if(a=a.substring(0,a.lastIndexOf("/")),a=a.split("/"),c=b.split("/"),a.length>=c.length)for(g=0,h=a.length;h>g;g++)if(g>=c.length||a[g]!=c[g]){d=g+1;break}if(a.length<c.length)for(g=0,h=c.length;h>g;g++)if(g>=a.length||a[g]!=c[g]){d=g+1;break}if(1===d)return b;g=0;for(h=a.length-(d-1);h>g;g++)e+="../";g=d-1;for(h=c.length;h>g;g++)e+=g!=d-1?"/"+c[g]:c[g];return e},toAbsPath:function(b,c){var d,e=0,g=[],h,p;h=/\/$/.test(c)?
"/":"";b=b.split("/");c=c.split("/");a(b,function(a){a&&g.push(a)});b=g;d=c.length-1;for(g=[];0<=d;d--)0!==c[d].length&&"."!==c[d]&&(".."!==c[d]?0<e?e--:g.push(c[d]):e++);return d=b.length-e,p=0>=d?g.reverse().join("/"):b.slice(0,d).join("/")+"/"+g.reverse().join("/"),0!==p.indexOf("/")&&(p="/"+p),h&&p.lastIndexOf("/")!==p.length-1&&(p+=h),p},getURI:function(a){var b;return(!this.source||a)&&(b="",a||(this.protocol&&(b+=this.protocol+"://"),this.userInfo&&(b+=this.userInfo+"@"),this.host&&(b+=this.host),
this.port&&(b+=":"+this.port)),this.path&&(b+=this.path),this.query&&(b+="?"+this.query),this.anchor&&(b+="#"+this.anchor),this.source=b),this.source}},b});h("tinymce/util/Class",["tinymce/util/Tools"],function(d){function b(){}var a=d.each,c=d.extend,f,g;return b.extend=f=function(b){function d(){var a,b,c,f;if(!g&&(f=this,f.init&&f.init.apply(f,arguments),b=f.Mixins))for(a=b.length;a--;)c=b[a],c.init&&c.init.apply(f,arguments)}function e(){return this}function h(a,b){return function(){var c=this._super,
d;return this._super=p[a],d=b.apply(this,arguments),this._super=c,d}}var p=this.prototype,l,k,q;g=!0;l=new this;g=!1;b.Mixins&&(a(b.Mixins,function(a){for(var c in a)"init"!==c&&(b[c]=a[c])}),p.Mixins&&(b.Mixins=p.Mixins.concat(b.Mixins)));b.Methods&&a(b.Methods.split(","),function(a){b[a]=e});b.Properties&&a(b.Properties.split(","),function(a){var c="_"+a;b[a]=function(a){return void 0!==a?(this[c]=a,this):this[c]}});b.Statics&&a(b.Statics,function(a,b){d[b]=a});b.Defaults&&p.Defaults&&(b.Defaults=
c({},p.Defaults,b.Defaults));for(k in b)q=b[k],l[k]="function"==typeof q&&p[k]?h(k,q):q;return d.prototype=l,d.constructor=d,d.extend=f,d},b});h("tinymce/ui/Selector",["tinymce/util/Class","tinymce/util/Tools"],function(d,b){function a(a){for(var b=[],c=a.length,d;c--;)d=a[c],d.__checked||(b.push(d),d.__checked=1);for(c=b.length;c--;)delete b[c].__checked;return b}var c=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,f=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
h=/^\s*|\s*$/g,k,r=d.extend({init:function(a){function b(a){return a?(a=a.toLowerCase(),function(b){return"*"===a||b.type===a}):g}function d(a){return a?function(b){return b._name===a}:g}function e(a){return a?(a=a.split("."),function(b){for(var c=a.length;c--;)if(!b.hasClass(a[c]))return!1;return!0}):g}function r(a,b,c){return a?function(d){d=d[a]?d[a]():"";return b?"="===b?d===c:"*="===b?0<=d.indexOf(c):"~="===b?0<=(" "+d+" ").indexOf(" "+c+" "):"!="===b?d!=c:"^="===b?0===d.indexOf(c):"$="===b?
d.substr(d.length-c.length)===c:!1:!!c}:g}function k(a){var b;return a?(a=/(?:not\((.+)\))|(.+)/i.exec(a),a[1]?(b=A(a[1],[]),function(a){return!u(a,b)}):(a=a[2],function(b,c,d){return"first"===a?0===c:"last"===a?c===d-1:"even"===a?0===c%2:"odd"===a?1===c%2:b[a]?b[a]():!1})):g}function v(a,f,g){function n(a){a&&f.push(a)}var u;return u=c.exec(a.replace(h,"")),n(b(u[1])),n(d(u[2])),n(e(u[3])),n(r(u[4],u[5],u[6])),n(k(u[7])),f.psuedo=!!u[7],f.direct=g,f}function A(a,b){var c=[],d,e;do if(f.exec(""),
e=f.exec(a),e&&(a=e[3],c.push(e[1]),e[2])){d=e[3];break}while(e);d&&A(d,b);a=[];for(d=0;c.length>d;d++)">"!=c[d]&&a.push(v(c[d],[],">"===c[d-1]));return b.push(a),b}var u=this.match;this._selectors=A(a,[])},match:function(a,c){var d,f,e,g,h,m,r,k,v,q,B,G,F;c=c||this._selectors;d=0;for(f=c.length;f>d;d++){h=c[d];g=h.length;F=a;G=0;for(e=g-1;0<=e;e--)for(k=h[e];F;){k.psuedo&&(B=F.parent().items(),v=b.inArray(F,B),q=B.length);m=0;for(r=k.length;r>m;m++)if(!k[m](F,v,q)){m=r+1;break}if(m===r){G++;break}if(e===
g-1)break;F=F.parent()}if(G===g)return!0}return!1},find:function(b){function c(a,b,f){var e,g,h,l,m,n=b[f];e=0;for(g=a.length;g>e;e++){m=a[e];h=0;for(l=n.length;l>h;h++)if(!n[h](m,e,g)){h=l+1;break}if(h===l)f==b.length-1?d.push(m):m.items&&c(m.items(),b,f+1);else if(n.direct)break;m.items&&c(m.items(),b,f)}}var d=[],f,e,g=this._selectors;if(b.items){f=0;for(e=g.length;e>f;f++)c(b.items(),g[f],0);1<e&&(d=a(d))}return k||(k=r.Collection),new k(d)}});return r});h("tinymce/ui/Collection",["tinymce/util/Tools",
"tinymce/ui/Selector","tinymce/util/Class"],function(d,b,a){var c,f,h=Array.prototype.push,k=Array.prototype.slice;return f={length:0,init:function(a){a&&this.add(a)},add:function(a){return d.isArray(a)?h.apply(this,a):a instanceof c?this.add(a.toArray()):h.call(this,a),this},set:function(a){var b=this.length;this.length=0;this.add(a);for(a=this.length;b>a;a++)delete this[a];return this},filter:function(a){var d,f,e=[],g,h;"string"==typeof a?(a=new b(a),h=function(b){return a.match(b)}):h=a;d=0;for(f=
this.length;f>d;d++)g=this[d],h(g)&&e.push(g);return new c(e)},slice:function(){return new c(k.apply(this,arguments))},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},each:function(a){return d.each(this,a),this},toArray:function(){return d.toArray(this)},indexOf:function(a){for(var b=this.length;b--&&this[b]!==a;);return b},reverse:function(){return new c(d.toArray(this).reverse())},hasClass:function(a){return this[0]?this[0].hasClass(a):!1},prop:function(a,b){var c;return void 0!==
b?(this.each(function(c){c[a]&&c[a](b)}),this):(c=this[0],c&&c[a]?c[a]():g)},exec:function(a){var b=d.toArray(arguments).slice(1);return this.each(function(c){c[a]&&c[a].apply(c,b)}),this}},d.each("fire on off show hide addClass removeClass append prepend before after reflow".split(" "),function(a){f[a]=function(){var b=d.toArray(arguments);return this.each(function(c){a in c&&c[a].apply(c,b)}),this}}),d.each("text name width height disabled active selected checked visible parent value data".split(" "),
function(a){f[a]=function(b){return this.prop(a,b)}}),c=a.extend(f),b.Collection=c,c});h("tinymce/ui/DomUtils",["tinymce/util/Tools","tinymce/dom/DOMUtils"],function(d,b){return{id:function(){return b.DOM.uniqueId()},createFragment:function(a){return b.DOM.createFragment(a)},getWindowSize:function(){return b.DOM.getViewPort()},getSize:function(a){return b.DOM.getSize(a)},getPos:function(a,c){return b.DOM.getPos(a,c)},get:function(a){return document.getElementById(a)},addClass:function(a,c){return b.DOM.addClass(a,
c)},removeClass:function(a,c){return b.DOM.removeClass(a,c)},hasClass:function(a,c){return b.DOM.hasClass(a,c)},toggleClass:function(a,c,d){return b.DOM.toggleClass(a,c,d)},css:function(a,c,d){return b.DOM.setStyle(a,c,d)},on:function(a,c,d,e){return b.DOM.bind(a,c,d,e)},off:function(a,c,d){return b.DOM.unbind(a,c,d)},fire:function(a,c,d){return b.DOM.fire(a,c,d)}}});h("tinymce/ui/Control",["tinymce/util/Class","tinymce/util/Tools","tinymce/ui/Collection","tinymce/ui/DomUtils"],function(d,b,a,c){var f=
b.makeMap("focusin focusout scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave wheel keydown keypress keyup contextmenu"," "),h={},k="onmousewheel"in document,r=d.extend({Statics:{controlIdLookup:{}},classPrefix:"mce-",getContainerElm:function(){return document.body},getParentCtrl:function(a){for(var b;a&&!(b=r.controlIdLookup[a.id]);)a=a.parentNode;return b},init:function(a){var d=this,f,e;if(d.settings=a=b.extend({},d.Defaults,a),d._id=c.id(),d._text=d._name=
"",d._width=d._height=0,d._aria={role:a.role},f=a.classes)for(f=f.split(" "),f.map={},e=f.length;e--;)f.map[f[e]]=!0;d._classes=f||[];d.visible(!0);b.each("title text width height name classes visible disabled active value".split(" "),function(b){var c=a[b];void 0!==c?d[b](c):void 0===d["_"+b]&&(d["_"+b]=!1)});d.on("click",function(){return d.disabled()?!1:g});a.classes&&b.each(a.classes.split(" "),function(a){d.addClass(a)});d.settings=a;d._borderBox=d.parseBox(a.border);d._paddingBox=d.parseBox(a.padding);
d._marginBox=d.parseBox(a.margin);a.hidden&&d.hide()},Properties:"parent,title,text,width,height,disabled,active,name,value",Methods:"renderHtml,refresh",parseBox:function(a){var b;if(a)return"number"==typeof a?(a=a||0,{top:a,left:a,bottom:a,right:a}):(a=a.split(" "),b=a.length,1===b?a[1]=a[2]=a[3]=a[0]:2===b?(a[2]=a[0],a[3]=a[1]):3===b&&(a[3]=a[1]),{top:parseInt(a[0],10)||0,right:parseInt(a[1],10)||0,bottom:parseInt(a[2],10)||0,left:parseInt(a[3],10)||0})},borderBox:function(){return this._borderBox},
paddingBox:function(){return this._paddingBox},marginBox:function(){return this._marginBox},measureBox:function(a,b){function c(b){var d=document.defaultView;return d?(b=b.replace(/[A-Z]/g,function(a){return"-"+a}),d.getComputedStyle(a,null).getPropertyValue(b)):a.currentStyle[b]}function d(a){a=parseInt(c(a),10);return isNaN(a)?0:a}return{top:d(b+"TopWidth"),right:d(b+"RightWidth"),bottom:d(b+"BottomWidth"),left:d(b+"LeftWidth")}},initLayoutRect:function(){var a=this.settings,b,c,d=this.getEl(),
f,e,h,m,r,k;b=this._borderBox=this._borderBox||this.measureBox(d,"border");this._paddingBox=this._paddingBox||this.measureBox(d,"padding");this._marginBox=this._marginBox||this.measureBox(d,"margin");r=a.minWidth;k=a.minHeight;e=r||d.offsetWidth;h=k||d.offsetHeight;d=a.width;f=a.height;m=a.autoResize;m=m!==g?m:!d&&!f;d=d||e;f=f||h;var v=b.left+b.right;b=b.top+b.bottom;var q=a.maxWidth||65535,B=a.maxHeight||65535;return this._layoutRect=c={x:a.x||0,y:a.y||0,w:d,h:f,deltaW:v,deltaH:b,contentW:d-v,contentH:f-
b,innerW:d-v,innerH:f-b,startMinWidth:r||0,startMinHeight:k||0,minW:Math.min(e,q),minH:Math.min(h,B),maxW:q,maxH:B,autoResize:m,scrollW:0},this._lastLayoutRect={},c},layoutRect:function(a){var b=this._layoutRect,c,d,f,e,g;return b||(b=this.initLayoutRect()),a?(f=b.deltaW,e=b.deltaH,void 0!==a.x&&(b.x=a.x),void 0!==a.y&&(b.y=a.y),void 0!==a.minW&&(b.minW=a.minW),void 0!==a.minH&&(b.minH=a.minH),d=a.w,void 0!==d&&(d=b.minW>d?b.minW:d,d=d>b.maxW?b.maxW:d,b.w=d,b.innerW=d-f),d=a.h,void 0!==d&&(d=b.minH>
d?b.minH:d,d=d>b.maxH?b.maxH:d,b.h=d,b.innerH=d-e),d=a.innerW,void 0!==d&&(d=b.minW-f>d?b.minW-f:d,d=d>b.maxW-f?b.maxW-f:d,b.innerW=d,b.w=d+f),d=a.innerH,void 0!==d&&(d=b.minH-e>d?b.minH-e:d,d=d>b.maxH-e?b.maxH-e:d,b.innerH=d,b.h=d+e),void 0!==a.contentW&&(b.contentW=a.contentW),void 0!==a.contentH&&(b.contentH=a.contentH),c=this._lastLayoutRect,(c.x!==b.x||c.y!==b.y||c.w!==b.w||c.h!==b.h)&&(g=r.repaintControls,g&&g.map&&!g.map[this._id]&&(g.push(this),g.map[this._id]=!0),c.x=b.x,c.y=b.y,c.w=b.w,
c.h=b.h),this):b},repaint:function(){var a,b,c,d,f=0;d=0;var e;a=this.getEl().style;c=this._layoutRect;e=this._lastRepaintRect||{};d=this._borderBox;f=d.left+d.right;d=d.top+d.bottom;c.x!==e.x&&(a.left=c.x+"px",e.x=c.x);c.y!==e.y&&(a.top=c.y+"px",e.y=c.y);c.w!==e.w&&(a.width=c.w-f+"px",e.w=c.w);c.h!==e.h&&(a.height=c.h-d+"px",e.h=c.h);this._hasBody&&c.innerW!==e.innerW&&(b=this.getEl("body").style,b.width=c.innerW+"px",e.innerW=c.innerW);this._hasBody&&c.innerH!==e.innerH&&(b=b||this.getEl("body").style,
b.height=c.innerH+"px",e.innerH=c.innerH);this._lastRepaintRect=e;this.fire("repaint",{},!1)},on:function(a,b){function c(a){var b,f;return function(c){return b||d.parents().each(function(c){var d=c.settings.callbacks;return d&&(b=d[a])?(f=c,!1):g}),b.call(f,c)}}var d=this,e,h,m,r;if(b)for("string"==typeof b&&(b=c(b)),m=a.toLowerCase().split(" "),r=m.length;r--;)a=m[r],(e=d._bindings)||(e=d._bindings={}),(h=e[a])||(h=e[a]=[]),h.push(b),f[a]&&(d._nativeEvents?d._nativeEvents[a]=!0:d._nativeEvents=
{name:!0},d._rendered&&d.bindPendingEvents());return d},off:function(a,b){var c,d=this._bindings,f,e,g,h;if(d)if(a)for(g=a.toLowerCase().split(" "),c=g.length;c--;){if(a=g[c],f=d[a],!a){for(e in d)d[e].length=0;break}if(f)if(b)for(h=f.length;h--;)f[h]===b&&f.splice(h,1);else f.length=0}else this._bindings=[];return this},fire:function(a,b,c){function d(){return!1}function f(){return!0}var e,g,h;if(a=a.toLowerCase(),b=b||{},b.type||(b.type=a),b.control||(b.control=this),b.preventDefault||(b.preventDefault=
function(){b.isDefaultPrevented=f},b.stopPropagation=function(){b.isPropagationStopped=f},b.stopImmediatePropagation=function(){b.isImmediatePropagationStopped=f},b.isDefaultPrevented=d,b.isPropagationStopped=d,b.isImmediatePropagationStopped=d),this._bindings&&(h=this._bindings[a]))for(e=0,g=h.length;g>e&&(b.isImmediatePropagationStopped()||!1!==h[e].call(this,b));e++);if(!1!==c)for(c=this.parent();c&&!b.isPropagationStopped();)c.fire(a,b,!1),c=c.parent();return b},parents:function(b){for(var c=
this,d=new a,c=c.parent();c;c=c.parent())d.add(c);return b&&(d=d.filter(b)),d},next:function(){var a=this.parent().items();return a[a.indexOf(this)+1]},prev:function(){var a=this.parent().items();return a[a.indexOf(this)-1]},findCommonAncestor:function(a,b){for(var c;a;){for(c=b;c&&a!=c;)c=c.parent();if(a==c)break;a=a.parent()}return a},hasClass:function(a,b){var c=this._classes[b||"control"];return a=this.classPrefix+a,c&&!!c.map[a]},addClass:function(a,b){var c,d;return a=this.classPrefix+a,c=this._classes[b||
"control"],c||(c=[],c.map={},this._classes[b||"control"]=c),c.map[a]||(c.map[a]=a,c.push(a),this._rendered&&(d=this.getEl(b),d&&(d.className=c.join(" ")))),this},removeClass:function(a,b){var c,d,f;if(a=this.classPrefix+a,c=this._classes[b||"control"],c&&c.map[a])for(delete c.map[a],d=c.length;d--;)c[d]===a&&c.splice(d,1);return this._rendered&&(f=this.getEl(b),f&&(f.className=c.join(" "))),this},toggleClass:function(a,b,c){return b?this.addClass(a,c):this.removeClass(a,c),this},classes:function(a){return(a=
this._classes[a||"control"])?a.join(" "):""},getEl:function(a,b){var d=a?this._id+"-"+a:this._id;return h[d]=(!0===b?null:h[d])||c.get(d)},visible:function(a){var b;return a!==g?(this._visible!==a&&(this._rendered&&(this.getEl().style.display=a?"":"none"),this._visible=a,b=this.parent(),b&&(b._lastRect=null),this.fire(a?"show":"hide")),this):this._visible},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(a){}},blur:function(){this.getEl().blur()},
aria:function(a,b){var c=this.getEl();return b===g?this._aria[a]:(this._aria[a]=b,this._rendered&&("label"==a&&c.setAttribute("aria-labeledby",this._id),c.setAttribute("role"==a?a:"aria-"+a,b)),this)},encode:function(a,b){return!1!==b&&r.translate&&(a=r.translate(a)),(a||"").replace(/[&<>"]/g,function(a){return"&#"+a.charCodeAt(0)+";"})},before:function(a){var b=this.parent();return b&&b.insert(a,b.items().indexOf(this),!0),this},after:function(a){var b=this.parent();return b&&b.insert(a,b.items().indexOf(this)),
this},remove:function(){var a=this,b=a.getEl(),d=a.parent(),f;if(a.items)for(var e=a.items().toArray(),g=e.length;g--;)e[g].remove();return d&&d.items&&(f=[],d.items().each(function(b){b!==a&&f.push(b)}),d.items().set(f),d._lastRect=null),a._eventsRoot&&a._eventsRoot==a&&c.off(b),delete r.controlIdLookup[a._id],b.parentNode&&b.parentNode.removeChild(b),a},renderBefore:function(a){return a.parentNode.insertBefore(c.createFragment(this.renderHtml()),a),this.postRender(),this},renderTo:function(a){return a=
a||this.getContainerElm(),a.appendChild(c.createFragment(this.renderHtml())),this.postRender(),this},postRender:function(){var a=this.settings,b,d,f,e,g;for(e in a)0===e.indexOf("on")&&this.on(e.substr(2),a[e]);if(this._eventsRoot){for(f=this.parent();!g&&f;f=f.parent())g=f._eventsRoot;if(g)for(e in g._nativeEvents)this._nativeEvents[e]=!0}this.bindPendingEvents();a.style&&(b=this.getEl(),b&&(b.setAttribute("style",a.style),b.style.cssText=a.style));this._visible||c.css(this.getEl(),"display","none");
this.settings.border&&(d=this.borderBox(),c.css(this.getEl(),{"border-top-width":d.top,"border-right-width":d.right,"border-bottom-width":d.bottom,"border-left-width":d.left}));r.controlIdLookup[this._id]=this;for(var h in this._aria)this.aria(h,this._aria[h]);this.fire("postrender",{},!1)},scrollIntoView:function(a){var b=this.getEl(),c=b.parentNode,d,f,e,g,h;e=b;for(d=f=0;e&&e!=c&&e.nodeType;)d+=e.offsetLeft||0,f+=e.offsetTop||0,e=e.offsetParent;e=b.offsetWidth;b=b.offsetHeight;g=c.clientWidth;
h=c.clientHeight;"end"==a?(d-=g-e,f-=h-b):"center"==a&&(d-=g/2-e/2,f-=h/2-b/2);c.scrollLeft=d;c.scrollTop=f},bindPendingEvents:function(){function a(b){var c=e.getParentCtrl(b.target);c&&c.fire(b.type,b)}function b(){var a=r._lastHoverCtrl;a&&(a.fire("mouseleave",{target:a.getEl()}),a.parents().each(function(a){a.fire("mouseleave",{target:a.getEl()})}),r._lastHoverCtrl=null)}function d(a){var b=e.getParentCtrl(a.target);a=r._lastHoverCtrl;var c=0,f,g;if(b!==a){if(r._lastHoverCtrl=b,g=b.parents().toArray().reverse(),
g.push(b),a){b=a.parents().toArray().reverse();b.push(a);for(c=0;b.length>c&&g[c]===b[c];c++);for(f=b.length-1;f>=c;f--)a=b[f],a.fire("mouseleave",{target:a.getEl()})}for(f=c;g.length>f;f++)b=g[f],b.fire("mouseenter",{target:b.getEl()})}}function f(a){a.preventDefault();"mousewheel"==a.type?(a.deltaY=-.025*a.wheelDelta,a.wheelDeltaX&&(a.deltaX=-.025*a.wheelDeltaX)):(a.deltaX=0,a.deltaY=a.detail);e.fire("wheel",a)}var e=this,g,h,m,r,q,L;if(e._rendered=!0,q=e._nativeEvents){m=e.parents().toArray();
m.unshift(e);g=0;for(h=m.length;!r&&h>g;g++)r=m[g]._eventsRoot;r||(r=m[m.length-1]||e);e._eventsRoot=r;h=g;for(g=0;h>g;g++)m[g]._eventsRoot=r;for(L in q){if(!q)return!1;"wheel"!==L?("mouseenter"===L||"mouseleave"===L?r._hasMouseEnter||(c.on(r.getEl(),"mouseleave",b),c.on(r.getEl(),"mouseover",d),r._hasMouseEnter=1):r[L]||(c.on(r.getEl(),L,a),r[L]=!0),q[L]=!1):k?c.on(e.getEl(),"mousewheel",f):c.on(e.getEl(),"DOMMouseScroll",f)}}},reflow:function(){return this.repaint(),this}});return r});h("tinymce/ui/Factory",
[],function(){var d={},b;return{add:function(a,b){d[a.toLowerCase()]=b},has:function(a){return!!d[a.toLowerCase()]},create:function(a,c){var f,g,h;if(!b){h=tinymce.ui;for(g in h)d[g.toLowerCase()]=h[g];b=!0}if("string"==typeof a?(c=c||{},c.type=a):(c=a,a=c.type),a=a.toLowerCase(),f=d[a],!f)throw Error("Could not find control by type: "+a);return f=new f(c),f.type=a,f}}});h("tinymce/ui/Container","tinymce/ui/Control tinymce/ui/Collection tinymce/ui/Selector tinymce/ui/Factory tinymce/util/Tools tinymce/ui/DomUtils".split(" "),
function(d,b,a,c,f,h){var k={};return d.extend({layout:"",innerClass:"container-inner",init:function(a){this._super(a);a=this.settings;this._items=new b;this.addClass("container");this.addClass("container-body","body");a.containerCls&&this.addClass(a.containerCls);this._layout=c.create((a.layout||this.layout)+"layout");this.settings.items&&this.add(this.settings.items);this._hasBody=!0},items:function(){return this._items},find:function(b){return b=k[b]=k[b]||new a(b),b.find(this)},add:function(a){return this.items().add(this.create(a)).parent(this),
this},focus:function(){return this.keyNav?this.keyNav.focusFirst():this._super(),this},replace:function(a,b){for(var c,d=this.items(),f=d.length;f--;)if(d[f]===a){d[f]=b;break}0<=f&&(c=b.getEl(),c&&c.parentNode.removeChild(c),c=a.getEl(),c&&c.parentNode.removeChild(c));b.parent(this)},create:function(a){var b=this,g,h=[];return f.isArray(a)||(a=[a]),f.each(a,function(a){a&&(a instanceof d||("string"==typeof a&&(a={type:a}),g=f.extend({},b.settings.defaults,a),a.type=g.type=g.type||a.type||b.settings.defaultType||
(g.defaults?g.defaults.type:null),a=c.create(g)),h.push(a))}),h},renderNew:function(){var a=this;return a.items().each(function(b,c){var d,f;b.parent(a);b._rendered||(d=a.getEl("body"),f=h.createFragment(b.renderHtml()),d.hasChildNodes()&&d.childNodes.length-1>=c?d.insertBefore(f,d.childNodes[c]):d.appendChild(f),b.postRender())}),a._layout.applyClasses(a),a._lastRect=null,a},append:function(a){return this.add(a).renderNew()},prepend:function(a){return this.items().set(this.create(a).concat(this.items().toArray())),
this.renderNew()},insert:function(a,b,c){var d,f,e;return a=this.create(a),d=this.items(),c||(b+=1),0<=b&&d.length>b&&(f=d.slice(0,b).toArray(),e=d.slice(b).toArray(),d.set(f.concat(a,e))),this.renderNew()},preRender:function(){},renderHtml:function(){var a=this._layout;return this.preRender(),a.preRender(this),'<div id="'+this._id+'" class="'+this.classes()+'" role="'+this.settings.role+'"><div id="'+this._id+'-body" class="'+this.classes("body")+'">'+(this.settings.html||"")+a.renderHtml(this)+
"</div></div>"},postRender:function(){var a;return this.items().exec("postRender"),this._super(),this._layout.postRender(this),this._rendered=!0,this.settings.style&&h.css(this.getEl(),this.settings.style),this.settings.border&&(a=this.borderBox(),h.css(this.getEl(),{"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left})),this},initLayoutRect:function(){var a=this._super();return this._layout.recalc(this),a},recalc:function(){var a=this._layoutRect,
b=this._lastRect;return b&&b.w==a.w&&b.h==a.h?g:(this._layout.recalc(this),a=this.layoutRect(),this._lastRect={x:a.x,y:a.y,w:a.w,h:a.h},!0)},reflow:function(){var a;if(this.visible()){d.repaintControls=[];d.repaintControls.map={};this.recalc();for(a=d.repaintControls.length;a--;)d.repaintControls[a].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint();d.repaintControls=[]}return this}})});h("tinymce/ui/DragHelper",["tinymce/ui/DomUtils"],function(d){return function(b,
a){var c,f=document,h,k,r,n,w;a=a||{};r=function(b){return b.button!==h?k(b):(b.deltaX=b.screenX-n,b.deltaY=b.screenY-w,b.preventDefault(),a.drag(b),g)};k=function(b){d.off(f,"mousemove",r);d.off(f,"mouseup",k);c.parentNode.removeChild(c);a.stop&&a.stop(b)};this.destroy=function(){d.off(f.getElementById(a.handle||b))};d.on(f.getElementById(a.handle||b),"mousedown",function(g){var l;l=document;var x,q,z,A,u,y,L,D,B=Math.max;l=(x=l.documentElement,q=l.body,z=B(x.scrollWidth,q.scrollWidth),A=B(x.clientWidth,
q.clientWidth),u=B(x.offsetWidth,q.offsetWidth),y=B(x.scrollHeight,q.scrollHeight),L=B(x.clientHeight,q.clientHeight),D=B(x.offsetHeight,q.offsetHeight),{width:u>z?A:z,height:D>y?L:y});g.preventDefault();h=g.button;x=f.getElementById(a.handle||b);n=g.screenX;w=g.screenY;x=window.getComputedStyle?window.getComputedStyle(x,null).getPropertyValue("cursor"):x.runtimeStyle.cursor;c=f.createElement("div");d.css(c,{position:"absolute",top:0,left:0,width:l.width,height:l.height,zIndex:65535,opacity:1E-4,
background:"red",cursor:x});f.body.appendChild(c);d.on(f,"mousemove",r);d.on(f,"mouseup",k);a.start(g)})}});h("tinymce/ui/Scrollable",["tinymce/ui/DomUtils","tinymce/ui/DragHelper"],function(d,b){return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){function a(){function a(p,l,k,v,w,A){var u,q,L;if(u=f.getEl("scroll"+p)){if(q=l.toLowerCase(),L=k.toLowerCase(),f.getEl("absend")&&d.css(f.getEl("absend"),q,f.layoutRect()[v]-1),!w)return d.css(u,"display","none"),g;d.css(u,
"display","block");v=f.getEl("body");p=f.getEl("scroll"+p+"t");w=v["client"+k]-2*h;w-=b&&c?u["client"+A]:0;k=v["scroll"+k];k=w/k;A={};A[q]=v["offset"+l]+h;A[L]=w;d.css(u,A);A={};A[q]=v["scroll"+l]*k;A[L]=w*k;d.css(p,A)}}var b,c,k;k=f.getEl("body");b=k.scrollWidth>k.clientWidth;c=k.scrollHeight>k.clientHeight;a("h","Left","Width","contentW",b,"Height");a("v","Top","Height","contentH",c,"Width")}function c(){function a(c,g,k,p,l){var v,q=f._id+"-scroll"+c,z=f.classPrefix;f.getEl().appendChild(d.createFragment('<div id="'+
q+'" class="'+z+"scrollbar "+z+"scrollbar-"+c+'"><div id="'+q+'t" class="'+z+'scrollbar-thumb"></div></div>'));f.draghelper=new b(q+"t",{start:function(){v=f.getEl("body")["scroll"+g];d.addClass(d.get(q),z+"active")},drag:function(a){var b,d,e;d=f.layoutRect();b=d.contentW>d.innerW;d=d.contentH>d.innerH;e=f.getEl("body")["client"+k]-2*h;e-=b&&d?f.getEl("scroll"+c)["client"+l]:0;b=e/f.getEl("body")["scroll"+k];f.getEl("body")["scroll"+g]=v+a["delta"+p]/b},stop:function(){d.removeClass(d.get(q),z+"active")}})}
f.addClass("scroll");a("v","Top","Height","Y","Width");a("h","Left","Width","X","Height")}var f=this,h=2;f.settings.autoScroll&&(f._hasScroll||(f._hasScroll=!0,c(),f.on("wheel",function(b){var c=f.getEl("body");c.scrollLeft+=10*(b.deltaX||0);c.scrollTop+=10*b.deltaY;a()}),d.on(f.getEl("body"),"scroll",a)),a())}}});h("tinymce/ui/Panel",["tinymce/ui/Container","tinymce/ui/Scrollable"],function(d,b){return d.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[b],fromJSON:function(a){for(var b in a)this.find("#"+
b).value(a[b]);return this},toJSON:function(){var a={};return this.find("*").each(function(b){var d=b.name();b=b.value();d&&b!==g&&(a[d]=b)}),a},renderHtml:function(){var a=this._layout,b=this.settings.html;return this.preRender(),a.preRender(this),b===g?b='<div id="'+this._id+'-body" class="'+this.classes("body")+'">'+a.renderHtml(this)+"</div>":("function"==typeof b&&(b=b.call(this)),this._hasBody=!1),'<div id="'+this._id+'" class="'+this.classes()+'" hideFocus="1" tabIndex="-1">'+(this._preBodyHtml||
"")+b+"</div>"}})});h("tinymce/ui/Movable",["tinymce/ui/DomUtils"],function(d){return{moveRel:function(b,a){var c,f,g,h,r,n,k,p;return f=d.getPos(b),g=f.x,h=f.y,c=this.getEl(),r=c.offsetWidth,n=c.offsetHeight,k=b.offsetWidth,p=b.offsetHeight,a=(a||"").split(""),"b"===a[0]&&(h+=p),"r"===a[1]&&(g+=k),"c"===a[0]&&(h+=Math.round(p/2)),"c"===a[1]&&(g+=Math.round(k/2)),"b"===a[3]&&(h-=n),"r"===a[4]&&(g-=r),"c"===a[3]&&(h-=Math.round(n/2)),"c"===a[4]&&(g-=Math.round(r/2)),this.moveTo(g,h),this},moveBy:function(b,
a){var c=this.layoutRect();return this.moveTo(c.x+b,c.y+a),this},moveTo:function(b,a){return this._rendered?this.layoutRect({x:b,y:a}).repaint():(this.settings.x=b,this.settings.y=a),this.fire("move",{x:b,y:a}),this}}});h("tinymce/ui/Resizable",["tinymce/ui/DomUtils"],function(d){return{resizeToContent:function(){this._layoutRect.autoResize=!0;this._lastRect=null;this.reflow()},resizeTo:function(b,a){if(1>=b||1>=a){var c=d.getWindowSize();b=1>=b?b*c.w:b;a=1>=a?a*c.h:a}return this._layoutRect.autoResize=
!1,this.layoutRect({minW:b,minH:a,w:b,h:a}).reflow()},resizeBy:function(b,a){var c=this.layoutRect();return this.resizeTo(c.w+b,c.h+a)}}});h("tinymce/ui/FloatPanel",["tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/DomUtils"],function(d,b,a,c){function f(a){var b;for(b=r.length;b--;)r[b]===a&&r.splice(b,1)}var g,h,r=[],n=[],k,p=d.extend({Mixins:[b,a],init:function(a){function b(){var a,d=p.zIndex||65535,e;if(n.length)for(a=0;n.length>a;a++)n[a].modal&&(d++,e=n[a]),n[a].getEl().style.zIndex=
d,n[a].zIndex=d,d++;a=document.getElementById(f.classPrefix+"modal-block");e?c.css(a,"z-index",e.zIndex-1):a&&(a.parentNode.removeChild(a),k=!1);p.currentZIndex=d}function d(a){var b=document.body.scrollTop||window.pageYOffset||document.documentElement.scrollTop;a.settings.autofix&&(b>(a._absY||a.layoutRect().y)?(a._absY=a._absY||a.layoutRect().y,a.getEl().style.position="fixed",a.layoutRect({y:0}).repaint()):(a.getEl().style.position="absolute",a.layoutRect({y:a._absY}).repaint()))}var f=this;f._super(a);
f._eventsRoot=f;f.addClass("floatpanel");a.autohide&&(g||(g=function(a){var b=f.getParentCtrl(a.target);for(a=r.length;a--;){var c=r[a];if(c.settings.autohide){var d;if(d=b){a:{d=b;for(var e=c;d;){if(d==e){d=!0;break a}d=d.parent()}d=void 0}d=d||c.parent()===b}d||c.hide()}}},c.on(document,"click",g)),r.push(f));a.autofix&&(h||(h=function(){var a;for(a=r.length;a--;)d(r[a])},c.on(window,"scroll",h)),f.on("move",function(){d(this)}));f.on("postrender show",function(a){if(a.control==f){var d,e=f.classPrefix;
f.modal&&!k&&(d=c.createFragment('<div id="'+e+'modal-block" class="'+e+"reset "+e+'fade"></div>'),d=d.firstChild,f.getContainerElm().appendChild(d),setTimeout(function(){c.addClass(d,e+"in");c.addClass(f.getEl(),e+"in")},0),k=!0);n.push(f);b()}});f.on("close hide",function(a){if(a.control==f){for(a=n.length;a--;)n[a]===f&&n.splice(a,1);b()}});a.popover&&(f._preBodyHtml='<div class="'+f.classPrefix+'arrow"></div>',f.addClass("popover").addClass("bottom").addClass("start"))},show:function(){var a,
b=this._super();for(a=r.length;a--&&r[a]!==this;);return-1===a&&r.push(this),b},hide:function(){return f(this),this._super()},hideAll:function(){p.hideAll()},close:function(){return this.fire("close"),this.remove()},remove:function(){f(this);this._super()}});return p.hideAll=function(){for(var a=r.length;a--;){var b=r[a];b.settings.autohide&&(b.fire("cancel",{},!1),b.hide(),r.splice(a,1))}},p});h("tinymce/ui/KeyboardNavigation",["tinymce/ui/DomUtils"],function(d){return function(b){function a(){if(!x)if(x=
[],w.find)w.find("*").each(function(a){a.canFocus&&x.push(a.getEl())});else for(var a=w.getEl().getElementsByTagName("*"),b=0;a.length>b;b++)a[b].id&&a[b]&&x.push(a[b])}function c(a){return a=a||document.getElementById(q),a&&a.getAttribute("role")}function f(a){for(var b=a||document.getElementById(q);b=b.parentNode;)if(a=c(b))return a}function h(a){var b=document.getElementById(q);return b?b.getAttribute("aria-"+a):g}function k(){var a=document.getElementById(q);if(!a||"TEXTAREA"!=a.nodeName&&"text"!=
a.type)return b.onAction?b.onAction(q):d.fire(document.getElementById(q),"click",{keyboard:!0}),!0}function r(){var a;b.onCancel?((a=document.getElementById(q))&&a.blur(),b.onCancel()):b.root.fire("cancel")}function n(c){var d=-1,f;a();for(f=x.length;f--;)if(x[f].id===q){d=f;break}d+=c;0>d?d=x.length-1:d>=x.length&&(d=0);c=x[d];c.focus();q=c.id;b.actOnFocus&&k()}var w=b.root,p=!1!==b.enableUpDown,l=!1!==b.enableLeftRight,x=b.items,q;return w.on("keydown",function(a){var d;switch(a.keyCode){case 37:l&&
(b.leftAction?b.leftAction():n(-1),d=!0);break;case 39:l&&("menuitem"==c()&&"menu"==f()?h("haspopup")&&k():n(1),d=!0);break;case 38:p&&(n(-1),d=!0);break;case 40:p&&("menuitem"==c()&&"menubar"==f()?k():"button"==c()&&h("haspopup")?k():n(1),d=!0);break;case 9:d=!0;a.shiftKey?n(-1):n(1);break;case 27:d=!0;r();break;case 14:case 13:case 32:d=k()}d&&(a.stopPropagation(),a.preventDefault())}),w.on("focusin",function(b){a();q=b.target.id}),{moveFocus:n,focusFirst:function(){var d,f;f=c(b.root.getEl());
a();for(d=x.length;d--;)if("toolbar"==f&&x[d].id===q)return x[d].focus(),g;x[0].focus()},cancel:r}}});h("tinymce/ui/Window",["tinymce/ui/FloatPanel","tinymce/ui/Panel","tinymce/ui/DomUtils","tinymce/ui/KeyboardNavigation","tinymce/ui/DragHelper"],function(d,b,a,c,f){return d.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(a){var c=this;c._super(a);
c.addClass("window");a.buttons&&(c.statusbar=new b({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:"end",defaults:{type:"button"},items:a.buttons}),c.statusbar.addClass("foot"),c.statusbar.parent(c));c.on("click",function(a){-1!=a.target.className.indexOf(c.classPrefix+"close")&&c.close()});c.aria("label",a.title);c._fullscreen=!1},recalc:function(){var b=this.statusbar,c,d,f;this._fullscreen&&(this.layoutRect(a.getWindowSize()),this.layoutRect().contentH=this.layoutRect().innerH);
this._super();c=this.layoutRect();this.settings.title&&!this._fullscreen&&(d=c.headerW,d>c.w&&(this.layoutRect({w:d}),f=!0));b&&(b.layoutRect({w:this.layoutRect().innerW}).recalc(),d=b.layoutRect().minW+c.deltaW,d>c.w&&(this.layoutRect({w:d}),f=!0));f&&this.recalc()},initLayoutRect:function(){var b=this._super(),c=0,d;this.settings.title&&!this._fullscreen&&(d=this.getEl("head"),b.headerW=d.offsetWidth,b.headerH=d.offsetHeight,c+=b.headerH);this.statusbar&&(c+=this.statusbar.layoutRect().h);b.deltaH+=
c;b.minH+=c;b.h+=c;c=a.getWindowSize();return b.x=Math.max(0,c.w/2-b.w/2),b.y=Math.max(0,c.h/2-b.h/2),b},renderHtml:function(){var a=this._layout,b=this._id,c=this.classPrefix,d=this.settings,f="",e="",h=d.html;return this.preRender(),a.preRender(this),d.title&&(f='<div id="'+b+'-head" class="'+c+'window-head"><div class="'+c+'title">'+this.encode(d.title)+'</div><button type="button" class="'+c+'close" aria-hidden="true">&times;</button><div id="'+b+'-dragh" class="'+c+'dragh"></div></div>'),d.url&&
(h='<iframe src="'+d.url+'" tabindex="-1"></iframe>'),h===g&&(h=a.renderHtml(this)),this.statusbar&&(e=this.statusbar.renderHtml()),'<div id="'+b+'" class="'+this.classes()+'" hideFocus="1" tabIndex="-1">'+f+'<div id="'+b+'-body" class="'+this.classes("body")+'">'+h+"</div>"+e+"</div>"},fullscreen:function(b){var c=this,d=document.documentElement,f,e=c.classPrefix,g;b!=c._fullscreen&&((a.on(window,"resize",function(){var b;if(c._fullscreen)if(f)c._timer||(c._timer=setTimeout(function(){var b=a.getWindowSize();
c.moveTo(0,0).resizeTo(b.w,b.h);c._timer=0},50));else{b=(new Date).getTime();var d=a.getWindowSize();c.moveTo(0,0).resizeTo(d.w,d.h);50<(new Date).getTime()-b&&(f=!0)}}),g=c.layoutRect(),c._fullscreen=b,b)?(c._initial={x:g.x,y:g.y,w:g.w,h:g.h},c._borderBox=c.parseBox("0"),c.getEl("head").style.display="none",g.deltaH-=g.headerH+2,a.addClass(d,e+"fullscreen"),a.addClass(document.body,e+"fullscreen"),c.addClass("fullscreen"),b=a.getWindowSize(),c.moveTo(0,0).resizeTo(b.w,b.h)):(c._borderBox=c.parseBox(c.settings.border),
c.getEl("head").style.display="",g.deltaH+=g.headerH,a.removeClass(d,e+"fullscreen"),a.removeClass(document.body,e+"fullscreen"),c.removeClass("fullscreen"),c.moveTo(c._initial.x,c._initial.y).resizeTo(c._initial.w,c._initial.h)));return c.reflow()},postRender:function(){var a,b,d=this,e=[],g,h;setTimeout(function(){d.addClass("in")},0);d.keyboardNavigation=new c({root:d,enableLeftRight:!1,enableUpDown:!1,items:e,onCancel:function(){d.close()}});d.find("*").each(function(a){a.canFocus&&(h=h||a.settings.autofocus,
g=g||a,"filepicker"==a.type?(e.push(a.getEl("inp")),a.getEl("open")&&e.push(a.getEl("open").firstChild)):e.push(a.getEl()))});d.statusbar&&d.statusbar.find("*").each(function(a){a.canFocus&&(h=h||a.settings.autofocus,g=g||a,e.push(a.getEl()))});d._super();d.statusbar&&d.statusbar.postRender();!h&&g&&g.focus();this.dragHelger=new f(d._id+"-dragh",{start:function(){a=d.layoutRect().x;b=d.layoutRect().y},drag:function(c){d.moveTo(a+c.deltaX,b+c.deltaY)}});d.on("submit",function(a){a.isDefaultPrevented()||
d.close()})},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){this._super();this.dragHelger.destroy();this.statusbar&&this.statusbar.remove()}})});h("tinymce/ui/MessageBox",["tinymce/ui/Window"],function(d){var b=d.extend({init:function(a){a={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}};this._super(a)},
Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(a){var c,f=a.callback||function(){};switch(a.buttons){case b.OK_CANCEL:c=[{type:"button",text:"Ok",subtype:"primary",onClick:function(a){a.control.parents()[1].close();f(!0)}},{type:"button",text:"Cancel",onClick:function(a){a.control.parents()[1].close();f(!1)}}];break;case b.YES_NO:c=[{type:"button",text:"Ok",subtype:"primary",onClick:function(a){a.control.parents()[1].close();f(!0)}}];break;case b.YES_NO_CANCEL:c=[{type:"button",
text:"Ok",subtype:"primary",onClick:function(a){a.control.parents()[1].close()}}];break;default:c=[{type:"button",text:"Ok",subtype:"primary",onClick:function(a){a.control.parents()[1].close()}}]}return(new d({padding:20,x:a.x,y:a.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:c,title:a.title,items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:a.text},onClose:a.onClose})).renderTo(document.body).reflow()},alert:function(a,c){return"string"==typeof a&&
(a={text:a}),a.callback=c,b.msgBox(a)},confirm:function(a,c){return"string"==typeof a&&(a={text:a}),a.callback=c,a.buttons=b.OK_CANCEL,b.msgBox(a)}}});return b});h("tinymce/WindowManager",["tinymce/ui/Window","tinymce/ui/MessageBox"],function(d,b){return function(a){var c=[];this.windows=c;this.open=function(b){var g;return b.url=b.url||b.file,b.url&&(b.width=parseInt(b.width||320,10),b.height=parseInt(b.height||240,10)),b.body&&(b.items={defaults:b.defaults,type:b.bodyType||"form",items:b.body}),
b.url||b.buttons||(b.buttons=[{text:"Ok",subtype:"primary",minWidth:50,onclick:function(){g.find("form")[0].submit();g.close()}},{text:"Cancel",onclick:function(){g.close()}}]),g=new d(b),c.push(g),g.on("close",function(){for(var b=c.length;b--;)c[b]===g&&c.splice(b,1);a.focus()}),b.data&&g.on("postRender",function(){this.find("*").each(function(a){var c=a.name();c in b.data&&a.value(b.data[c])})}),a.nodeChanged(),g.renderTo(document.body).reflow()};this.alert=function(a,c,d){b.alert(a,function(){c.call(d||
this)})};this.confirm=function(a,c,d){b.confirm(a,function(a){c.call(d||this,a)})};this.close=function(){c.length&&c[window.length-1].win.close()}}});h("tinymce/util/Quirks","tinymce/util/VK tinymce/dom/RangeUtils tinymce/html/Node tinymce/html/Entities tinymce/Env tinymce/util/Tools".split(" "),function(d,b,a,c,f,h){return function(k){function r(a,b){try{k.getDoc().execCommand(a,!1,b)}catch(c){}}function n(){var a=k.getDoc().documentMode;return a?a:6}function w(){function a(b){var c,d,f,e,g;c=H.getRng();
var l=[c.startContainer,c.startOffset,c.endContainer,c.endOffset];c.collapsed||(b=!0);e=c[(b?"start":"end")+"Container"];g=c[(b?"start":"end")+"Offset"];if(3==e.nodeType){d=C.getParent(c.startContainer,C.isBlock);b&&(d=C.getNext(d,C.isBlock));var p;if(!(p=!d)){a:{if(3==e.nodeType){if(b&&g==e.length){e=!0;break a}if(!b&&0===g){e=!0;break a}}e=void 0}p=!e&&c.collapsed}p||(f=C.create("em",{id:"__mceDel"}),K(h.grep(d.childNodes),function(a){f.appendChild(a)}),d.appendChild(f))}if(c=C.createRng(),c.setStart(l[0],
l[1]),c.setEnd(l[2],l[3]),H.setRng(c),k.getDoc().execCommand(b?"ForwardDelete":"Delete",!1,null),f){for(b=H.getBookmark();c=C.get("__mceDel");)C.remove(c,!0);H.moveToBookmark(b)}}k.on("keydown",function(b){var c;c=b.keyCode==M;b.isDefaultPrevented()||!c&&b.keyCode!=S||d.modifierPressed(b)||(b.preventDefault(),a(c))});k.addCommand("Delete",function(){a()})}function p(){k.on("keydown",function(a){!a.isDefaultPrevented()&&65==a.keyCode&&d.metaKeyPressed(a)&&(a.preventDefault(),k.execCommand("SelectAll"))})}
function l(){k.settings.content_editable||(C.bind(k.getDoc(),"focusin",function(){H.setRng(H.getRng())}),C.bind(k.getDoc(),"mousedown",function(a){a.target==k.getDoc().documentElement&&(k.getWin().focus(),H.setRng(H.getRng()))}))}function x(){k.on("keydown",function(a){if(!a.isDefaultPrevented()&&a.keyCode===S&&H.isCollapsed()&&0===H.getRng(!0).startOffset){var b=H.getNode().previousSibling;b&&b.nodeName&&"hr"===b.nodeName.toLowerCase()&&(C.remove(b),a.preventDefault())}})}function q(){window.Range.prototype.getClientRects||
k.on("mousedown",function(a){if(!a.isDefaultPrevented()&&"HTML"===a.target.nodeName){var b=k.getBody();b.blur();setTimeout(function(){b.focus()},0)}})}function z(){k.on("click",function(a){a=a.target;/^(IMG|HR)$/.test(a.nodeName)&&H.getSel().setBaseAndExtent(a,0,a,1);"A"==a.nodeName&&C.hasClass(a,"mceItemAnchor")&&H.select(a);k.nodeChanged()})}function A(){function a(){var b=C.getAttribs(H.getStart().cloneNode(!1));return function(){var a=H.getStart();a!==k.getBody()&&(C.setAttrib(a,"style",null),
K(b,function(b){a.setAttributeNode(b.cloneNode(!0))}))}}function b(){return!H.isCollapsed()&&C.getParent(H.getStart(),C.isBlock)!=C.getParent(H.getEnd(),C.isBlock)}k.on("keypress",function(c){var d;return c.isDefaultPrevented()||8!=c.keyCode&&46!=c.keyCode||!b()?g:(d=a(),k.getDoc().execCommand("delete",!1,null),d(),c.preventDefault(),!1)});C.bind(k.getDoc(),"cut",function(c){var d;!c.isDefaultPrevented()&&b()&&(d=a(),setTimeout(function(){d()},0))})}function u(){var a,c;k.on("selectionchange",function(){c&&
(clearTimeout(c),c=0);c=window.setTimeout(function(){var c=H.getRng();a&&b.compareRanges(c,a)||(k.nodeChanged(),a=c)},50)})}function y(){7<n()||(r("RespectVisibilityInDesign",!0),k.contentStyles.push(".mceHideBrInPre pre br {display: none}"),C.addClass(k.getBody(),"mceHideBrInPre"),V.addNodeFilter("pre",function(b){for(var c=b.length,d,f,e,g;c--;)for(d=b[c].getAll("br"),f=d.length;f--;)e=d[f],(g=e.prev)&&3===g.type&&"\n"!=g.value.charAt(g.value-1)?g.value+="\n":e.parent.insert(new a("#text",3),e,
!0).value="\n"}),W.addNodeFilter("pre",function(a){for(var b=a.length,c,d,f;b--;)for(c=a[b].getAll("br"),d=c.length;d--;)f=c[d],(f=f.prev)&&3==f.type&&(f.value=f.value.replace(/\r?\n$/,""))}))}function L(){C.bind(k.getBody(),"mouseup",function(){var a,b=H.getNode();"IMG"==b.nodeName&&((a=C.getStyle(b,"width"))&&(C.setAttrib(b,"width",a.replace(/[^0-9%]+/g,"")),C.setStyle(b,"width","")),(a=C.getStyle(b,"height"))&&(C.setAttrib(b,"height",a.replace(/[^0-9%]+/g,"")),C.setStyle(b,"height","")))})}function D(){k.on("keydown",
function(a){var b,c,f,g,h,l;(b=a.keyCode==M,a.isDefaultPrevented()||!b&&a.keyCode!=S||d.modifierPressed(a)||(c=H.getRng(),f=c.startContainer,g=c.startOffset,l=c.collapsed,!(3==f.nodeType&&0<f.nodeValue.length&&(0===g&&!l||l&&g===(b?0:1)))))||(h=f.previousSibling,h&&"IMG"==h.nodeName)||(c=k.schema.getNonEmptyElements(),a.preventDefault(),a=C.create("br",{id:"__tmp"}),f.parentNode.insertBefore(a,f),k.getDoc().execCommand(b?"ForwardDelete":"Delete",!1,null),f=H.getRng().startContainer,(h=f.previousSibling)&&
1==h.nodeType&&!C.isBlock(h)&&C.isEmpty(h)&&!c[h.nodeName.toLowerCase()]&&C.remove(h),C.remove("__tmp"))})}function B(){function a(){k._refreshContentEditable();r("StyleWithCSS",!1);r("enableInlineTableEditing",!1);T.object_resizing||r("enableObjectResizing",!1)}T.readonly||k.on("BeforeExecCommand MouseDown",a)}function G(){function a(){K(C.select("a"),function(a){var b=a.parentNode,c=C.getRoot();if(b.lastChild===a){for(;b&&!C.isBlock(b);){if(b.parentNode.lastChild!==b||b===c)return;b=b.parentNode}C.add(b,
"br",{"data-mce-bogus":1})}})}k.on("SetContent ExecCommand",function(b){"setcontent"!=b.type&&"mceInsertLink"!==b.command||a()})}function F(){T.forced_root_block&&k.on("init",function(){r("DefaultParagraphSeparator",T.forced_root_block)})}function I(){k.on("Undo Redo SetContent",function(a){a.initial||k.execCommand("mceRepaint")})}function O(){k.on("keydown",function(a){var b;a.isDefaultPrevented()||a.keyCode!=S||(b=k.getDoc().selection.createRange(),b&&b.item&&(a.preventDefault(),k.undoManager.beforeChange(),
C.remove(b.item(0)),k.undoManager.add()))})}function N(){var a;10<=n()&&(a="",K("p div h1 h2 h3 h4 h5 h6".split(" "),function(b,c){a+=(0<c?",":"")+b+":empty"}),k.contentStyles.push(a+"{padding-right: 1px !important}"))}function R(){9>n()&&(V.addNodeFilter("noscript",function(a){for(var b=a.length,c,d;b--;)c=a[b],(d=c.firstChild)&&c.attr("data-mce-innertext",d.value)}),W.addNodeFilter("noscript",function(b){for(var d=b.length,f,e,g;d--;)f=b[d],(e=b[d].firstChild)?e.value=c.decode(e.value):(g=f.attributes.map["data-mce-innertext"],
g&&(f.attr("data-mce-innertext",null),e=new a("#text",3),e.value=g,e.raw=!0,f.append(e)))}))}function P(){function a(b,c){var d=f.createTextRange();try{d.moveToPoint(b,c)}catch(e){d=null}return d}function b(d){var f;d.button?(f=a(d.x,d.y),f&&(0<f.compareEndPoints("StartToStart",g)?f.setEndPoint("StartToStart",g):f.setEndPoint("EndToEnd",g),f.select())):c()}function c(){var a=d.selection.createRange();g&&!a.item&&0===a.compareEndPoints("StartToEnd",a)&&g.select();C.unbind(d,"mouseup",c);C.unbind(d,
"mousemove",b);g=e=0}var d=C.doc,f=d.body,e,g,h;d.documentElement.unselectable=!0;C.bind(d,"mousedown contextmenu",function(f){"HTML"!==f.target.nodeName||(e&&c(),h=d.documentElement,h.scrollHeight>h.clientHeight)||(e=1,(g=a(f.x,f.y))&&(C.bind(d,"mouseup",c),C.bind(d,"mousemove",b),C.win.focus(),g.select()))})}var K=h.each,S=d.BACKSPACE,M=d.DELETE,C=k.dom,H=k.selection,T=k.settings,V=k.parser,W=k.serializer,Y=f.gecko,U=f.ie,ca=f.webkit;(function(){k.on("keydown",function(a){if(!a.isDefaultPrevented()&&
a.keyCode===S&&H.isCollapsed()&&0===H.getRng(!0).startOffset){var b=H.getNode().previousSibling;if(b&&b.nodeName&&"table"===b.nodeName.toLowerCase())return a.preventDefault(),!1}})})();(function(){k.on("keydown",function(a){var b,c,f,g,h;if(!a.isDefaultPrevented()&&a.keyCode==d.BACKSPACE&&(b=H.getRng(),c=b.startContainer,f=b.startOffset,g=C.getRoot(),h=c,b.collapsed&&0===f)){for(;h&&h.parentNode&&h.parentNode.firstChild==h&&h.parentNode!=g;)h=h.parentNode;"BLOCKQUOTE"===h.tagName&&(k.formatter.toggle("blockquote",
null,h),b=C.createRng(),b.setStart(c,0),b.setEnd(c,0),H.setRng(b))}})})();(function(){function a(b){var c=C.create("body");b=b.cloneContents();return c.appendChild(b),H.serializer.serialize(c,{format:"html"})}k.on("keydown",function(b){var c=b.keyCode,d;if(!(b.isDefaultPrevented()||c!=M&&c!=S||(d=k.selection.isCollapsed(),d&&!C.isEmpty(k.getBody()))||U&&!d)){if(c=!d)c=k.selection.getRng(),c=a(c),d=C.createRng(),d.selectNode(k.getBody()),d=a(d),c=c!==d;c||(b.preventDefault(),k.setContent(""),k.selection.setCursorLocation(k.getBody(),
0),k.nodeChanged())}})})();(function(){k.on("keyup focusin",function(a){65==a.keyCode&&d.metaKeyPressed(a)||H.normalize()})})();ca&&(D(),w(),l(),z(),F(),f.iOS?u():p());U&&(x(),document.body.setAttribute("role","application"),y(),L(),O(),N(),R(),P());Y&&(x(),q(),A(),B(),G(),I())}});h("tinymce/util/Observable",["tinymce/util/Tools"],function(d){function b(){return!1}function a(){return!0}var c=d.makeMap("focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave keydown keypress keyup contextmenu dragend dragover draggesture dragdrop drop drag",
" ");return{fire:function(c,d,e){var g,h,k,p;if(c=c.toLowerCase(),d=d||{},d.type=c,d.target||(d.target=this),d.preventDefault||(d.preventDefault=function(){d.isDefaultPrevented=a},d.stopPropagation=function(){d.isPropagationStopped=a},d.stopImmediatePropagation=function(){d.isImmediatePropagationStopped=a},d.isDefaultPrevented=b,d.isPropagationStopped=b,d.isImmediatePropagationStopped=b),this.__bindings&&(g=this.__bindings[c]))for(h=0,k=g.length;k>h&&(g[h]=p=g[h],!d.isImmediatePropagationStopped());h++)if(!1===
p.call(this,d))return d.preventDefault(),d;if(!1!==e&&this.parent)for(e=this.parent();e&&!d.isPropagationStopped();)e.fire(c,d,!1),e=e.parent();return d},on:function(a,b){var d,e,g,h;if(!1===b&&(b=function(){return!1}),b)for(g=a.toLowerCase().split(" "),h=g.length;h--;)a=g[h],(d=this.__bindings)||(d=this.__bindings={}),(e=d[a])||(e=d[a]=[],this.bindNative&&c[a]&&this.bindNative(a)),e.push(b);return this},off:function(a,b){var d,e=this.__bindings,g,h,k,l;if(e)if(a)for(k=a.toLowerCase().split(" "),
d=k.length;d--;){if(a=k[d],g=e[a],!a){for(h in e)e[a].length=0;break}if(g){if(b)for(l=g.length;l--;)g[l]===b&&g.splice(l,1);else g.length=0;!g.length&&this.unbindNative&&c[a]&&(this.unbindNative(a),delete e[a])}}else{if(this.unbindNative)for(a in e)this.unbindNative(a);this.__bindings=[]}return this}}});h("tinymce/Shortcuts",["tinymce/util/Tools","tinymce/Env"],function(d,b){var a=d.each,c=d.explode,f={f9:120,f10:121,f11:122};return function(d){var e={};d.on("keyup keypress keydown",function(c){(c.altKey||
c.ctrlKey||c.metaKey)&&a(e,function(a){if(a.ctrl==(b.isMac?c.metaKey:c.ctrlKey)&&a.alt==c.altKey&&a.shift==c.shiftKey)return c.keyCode==a.keyCode||c.charCode&&c.charCode==a.charCode?(c.preventDefault(),"keydown"==c.type&&a.func.call(a.scope),!0):g})});this.add=function(b,g,h,k){var l;return l=h,"string"==typeof h?h=function(){d.execCommand(l,!1,null)}:h.length&&(h=function(){d.execCommand(l[0],l[1],l[2])}),a(c(b.toLowerCase()),function(b){var l={func:h,scope:k||d,desc:d.translate(g),alt:!1,ctrl:!1,
shift:!1};a(c(b,"+"),function(a){switch(a){case "alt":case "ctrl":case "shift":l[a]=!0;break;default:l.charCode=a.charCodeAt(0),l.keyCode=f[a]||a.toUpperCase().charCodeAt(0)}});e[(l.ctrl?"ctrl":"")+","+(l.alt?"alt":"")+","+(l.shift?"shift":"")+","+l.keyCode]=l}),!0}}});h("tinymce/Editor","tinymce/dom/DOMUtils tinymce/AddOnManager tinymce/html/Node tinymce/dom/Serializer tinymce/html/Serializer tinymce/dom/Selection tinymce/Formatter tinymce/UndoManager tinymce/EnterKey tinymce/ForceBlocks tinymce/EditorCommands tinymce/util/URI tinymce/dom/ScriptLoader tinymce/dom/EventUtils tinymce/WindowManager tinymce/html/Schema tinymce/html/DomParser tinymce/util/Quirks tinymce/Env tinymce/util/Tools tinymce/util/Observable tinymce/Shortcuts".split(" "),
function(d,b,a,c,f,h,k,r,n,w,p,l,x,q,z,A,u,y,L,D,B,G){function F(a,b){return"selectionchange"==b?a.getDoc():!a.inline&&/^mouse|click|contextmenu/.test(b)?a.getDoc():a.getBody()}function I(a,c,d){var f,e;f=this.documentBaseUrl=d.documentBaseURL;e=d.baseURI;this.settings=c=P({id:a,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:f,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,
doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",directionality:"ltr",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",
indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:this.convertURL,url_converter_scope:this,ie7_compat:!0},c);b.settings=c;b.baseURL=d.baseURL;this.id=c.id=a;this.isNotDirty=!1;this.plugins={};this.documentBaseURI=new l(c.document_base_url||f,{base_uri:e});this.baseURI=e;this.contentCSS=[];this.contentStyles=[];this.shortcuts=
new G(this);this.execCommands={};this.queryStateCommands={};this.queryValueCommands={};this.suffix=d.suffix;this.editorManager=d;this.inline=c.inline;this.execCallback("setup",this)}var O=d.DOM,N=b.ThemeManager,R=b.PluginManager,P=D.extend,K=D.each,S=D.explode,M=D.inArray,C=D.trim,H=D.resolve,T=q.Event,V=L.gecko,W=L.ie,Y=L.opera;return I.prototype={render:function(){function a(){var d=x.ScriptLoader;c.language&&d.add(b.editorManager.baseURL+"/langs/"+c.language+".js");c.theme&&"function"!=typeof c.theme&&
"-"!=c.theme.charAt(0)&&!N.urls[c.theme]&&N.load(c.theme,"themes/"+c.theme+"/theme"+f+".js");D.isArray(c.plugins)&&(c.plugins=c.plugins.join(" "));K(c.plugins.split(/[ ,]/),function(a){if(a=C(a),a&&!R.urls[a])"-"==a.charAt(0)?(a=a.substr(1,a.length),a=R.dependencies(a),K(a,function(a){a=R.createUrl({prefix:"plugins/",resource:a,suffix:"/plugin"+f+".js"},a);R.load(a.resource,a)})):R.load(a,{prefix:"plugins/",resource:a,suffix:"/plugin"+f+".js"})});d.loadQueue(function(){b.removed||b.init()})}var b=
this,c=b.settings,d=b.id,f=b.suffix;if(!T.domLoaded)return O.bind(window,"ready",function(){b.render()}),g;if(b.editorManager.settings=c,b.getElement()&&L.contentEditable){c.inline?b.inline=!0:(b.orgVisibility=b.getElement().style.visibility,b.getElement().style.visibility="hidden");var e=b.getElement().form||O.getParent(d,"form");e&&(b.formElement=e,c.hidden_input&&!/TEXTAREA|INPUT/i.test(b.getElement().nodeName)&&O.insertAfter(O.create("input",{type:"hidden",name:d}),d),b.formEventDelegate=function(a){b.fire(a.type,
a)},O.bind(e,"submit reset",b.formEventDelegate),b.on("reset",function(){b.setContent(b.startContent,{format:"raw"})}),!c.submit_patch||e.submit.nodeType||e.submit.length||e._mceOldSubmit||(e._mceOldSubmit=e.submit,e.submit=function(){return b.editorManager.triggerSave(),b.isNotDirty=1,e._mceOldSubmit(e)}));b.windowManager=new z(b);"xml"==c.encoding&&b.on("GetContent",function(a){a.save&&(a.content=O.encode(a.content))});c.add_form_submit_trigger&&b.on("submit",function(){b.initialized&&(b.save(),
b.isNotDirty=1)});c.add_unload_trigger&&(b._beforeUnload=function(){!b.initialized||b.destroyed||b.isHidden()||b.save({format:"raw",no_events:!0})},b.editorManager.on("BeforeUnload",b._beforeUnload));a()}},init:function(){function a(c){var d=R.get(c),f,e;f=R.urls[c]||b.documentBaseUrl.replace(/\/$/,"");c=C(c);d&&-1===M(k,c)&&(K(R.dependencies(c),function(b){a(b)}),e=new d(b,f),b.plugins[c]=e,e.init&&(e.init(b,f),k.push(c)))}var b=this,c=b.settings,d=b.getElement(),f,e,g,h,l,m,k=[];if(b.editorManager.add(b),
c.aria_label=c.aria_label||O.getAttrib(d,"aria-label",b.getLang("aria.rich_text_area")),c.theme&&("function"!=typeof c.theme?(c.theme=c.theme.replace(/-/,""),h=N.get(c.theme),b.theme=new h(b,N.urls[c.theme]),b.theme.init&&b.theme.init(b,N.urls[c.theme]||b.documentBaseUrl.replace(/\/$/,""))):b.theme=c.theme),K(c.plugins.replace(/\-/g,"").split(/[ ,]/),a),b.fire("BeforeRenderUI"),c.render_ui&&b.theme&&(b.orgDisplay=d.style.display,"function"!=typeof c.theme?(f=c.width||d.style.width||d.offsetWidth,
e=c.height||d.style.height||d.offsetHeight,g=c.min_height||100,m=/^[0-9\.]+(|px)$/i,m.test(""+f)&&(f=Math.max(parseInt(f,10)+(h.deltaWidth||0),100)),m.test(""+e)&&(e=Math.max(parseInt(e,10)+(h.deltaHeight||0),g)),h=b.theme.renderUI({targetNode:d,width:f,height:e,deltaWidth:c.delta_width,deltaHeight:c.delta_height}),c.content_editable||(O.setStyles(h.sizeContainer||h.editorContainer,{wi2dth:f,h2eight:e}),e=(h.iframeHeight||e)+("number"==typeof e?h.deltaHeight||0:""),g>e&&(e=g))):(h=c.theme(b,d),h.editorContainer.nodeType&&
(h.editorContainer=h.editorContainer.id=h.editorContainer.id||b.id+"_parent"),h.iframeContainer.nodeType&&(h.iframeContainer=h.iframeContainer.id=h.iframeContainer.id||b.id+"_iframecontainer"),e=h.iframeHeight||d.offsetHeight),b.editorContainer=h.editorContainer),c.content_css&&K(S(c.content_css),function(a){b.contentCSS.push(b.documentBaseURI.toAbsolute(a))}),c.content_style&&b.contentStyles.push(c.content_style),c.content_editable)return d=h=null,b.initContentBody();document.domain&&location.hostname!=
document.domain&&(b.editorManager.relaxedDomain=document.domain);b.iframeHTML=c.doctype+"<html><head>";c.document_base_url!=b.documentBaseUrl&&(b.iframeHTML+='<base href="'+b.documentBaseURI.getURI()+'" />');!L.caretAfter&&c.ie7_compat&&(b.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />');b.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';for(d=0;b.contentCSS.length>d;d++)b.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+b.contentCSS[d]+
'" />';b.contentCSS=[];d=c.body_id||"tinymce";-1!=d.indexOf("=")&&(d=b.getParam("body_id","","hash"),d=d[b.id]||d);c=c.body_class||"";-1!=c.indexOf("=")&&(c=b.getParam("body_class","","hash"),c=c[b.id]||"");b.iframeHTML+='</head><body id="'+d+'" class="mce-content-body '+c+'" onload="window.parent.tinymce.get(\''+b.id+"').fire('load');\"><br></body></html>";b.editorManager.relaxedDomain&&(W||Y&&11>parseFloat(window.opera.version()))&&(l='javascript:(function(){document.open();document.domain="'+document.domain+
'";var ed = window.parent.tinymce.get("'+b.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody();})()');O.add(h.iframeContainer,"iframe",{id:b.id+"_ifr",src:l||'javascript:""',frameBorder:"0",allowTransparency:"true",title:b.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:e,display:"block"}});b.contentAreaContainer=h.iframeContainer;h.editorContainer&&(O.get(h.editorContainer).style.display=
b.orgDisplay);O.get(b.id).style.display="none";O.setAttrib(b.id,"aria-hidden",!0);b.editorManager.relaxedDomain&&l||b.initContentBody();d=h=null},initContentBody:function(){var b=this,f=b.settings,g=O.get(b.id),l=b.getDoc(),x;f.inline||(b.getElement().style.visibility=b.orgVisibility);W&&b.editorManager.relaxedDomain||f.content_editable||(l.open(),l.write(b.iframeHTML),l.close(),b.editorManager.relaxedDomain&&(l.domain=b.editorManager.relaxedDomain));f.content_editable&&(O.addClass(g,"mce-content-body"),
g.tabIndex=-1,b.contentDocument=l=f.content_document||document,b.contentWindow=f.content_window||window,b.bodyElement=g,f.content_document=f.content_window=null,f.root_name=g.nodeName.toLowerCase());g=b.getBody();g.disabled=!0;f.readonly||(g.contentEditable=b.getParam("content_editable_state",!0));g.disabled=!1;b.schema=new A(f);b.dom=new d(l,{keep_values:!0,url_converter:b.convertURL,url_converter_scope:b,hex_colors:f.force_hex_style_colors,class_filter:f.class_filter,update_styles:!0,root_element:f.content_editable?
b.id:null,schema:b.schema,onSetAttrib:function(a){b.fire("SetAttrib",a)}});b.parser=new u(f,b.schema);b.parser.addAttributeFilter("src,href,style",function(a,c){for(var d=a.length,f,e=b.dom,g,h;d--;)f=a[d],g=f.attr(c),h="data-mce-"+c,f.attributes.map[h]||("style"===c?f.attr(h,e.serializeStyle(e.parseStyle(g),f.name)):f.attr(h,b.convertURL(g,c,f.name)))});b.parser.addNodeFilter("script",function(a){for(var b=a.length,c;b--;)c=a[b],c.attr("type","mce-"+(c.attr("type")||"text/javascript"))});b.parser.addNodeFilter("#cdata",
function(a){for(var b=a.length,c;b--;)c=a[b],c.type=8,c.name="#comment",c.value="[CDATA["+c.value+"]]"});b.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(c){for(var d=c.length,f,e=b.schema.getNonEmptyElements();d--;)f=c[d],f.isEmpty(e)&&(f.empty().append(new a("br",1)).shortEnded=!0)});b.serializer=new c(f,b);b.selection=new h(b.dom,b.getWin(),b.serializer,b);b.formatter=new k(b);b.undoManager=new r(b);b.forceBlocks=new w(b);b.enterKey=new n(b);b.editorCommands=new p(b);b.fire("PreInit");
f.browser_spellcheck||f.gecko_spellcheck||(l.body.spellcheck=!1);b.fire("PostRender");b.quirks=y(b);f.directionality&&(g.dir=f.directionality);f.nowrap&&(g.style.whiteSpace="nowrap");f.protect&&b.on("BeforeSetContent",function(a){K(f.protect,function(b){a.content=a.content.replace(b,function(a){return"\x3c!--mce:protected "+escape(a)+"--\x3e"})})});b.on("SetContent",function(){b.addVisual(b.getBody())});f.padd_empty_editor&&b.on("PostProcess",function(a){a.content=a.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,
"")});b.load({initial:!0,format:"html"});b.startContent=b.getContent({format:"raw"});b.initialized=!0;K(b._pendingNativeEvents,function(a){b.dom.bind(F(b,a),a,function(a){b.fire(a.type,a)})});b.fire("init");b.focus(!0);b.nodeChanged({initial:!0});b.execCallback("init_instance_callback",b);0<b.contentStyles.length&&(x="",K(b.contentStyles,function(a){x+=a+"\r\n"}),b.dom.addStyle(x));K(b.contentCSS,function(a){b.dom.loadCSS(a)});f.auto_focus&&setTimeout(function(){var a=b.editorManager.get(f.auto_focus);
a.selection.select(a.getBody(),1);a.selection.collapse(1);a.getBody().focus();a.getWin().focus()},100);g=l=g=null},focus:function(a){var b,c=this.selection,d=this.settings.content_editable,f,e,g=this.getDoc(),h;a||(f=c.getRng(),f.item&&(e=f.item(0)),this._refreshContentEditable(),d||this.getWin().focus(),(V||d)&&(h=this.getBody(),h.setActive?h.setActive():h.focus(),d&&c.normalize()),e&&e.ownerDocument==g&&(f=g.body.createControlRange(),f.addElement(e),f.select()));this.editorManager.activeEditor!=
this&&((b=this.editorManager.activeEditor)&&b.fire("deactivate",{relatedTarget:this}),this.fire("activate",{relatedTarget:b}));this.editorManager.activeEditor=this},execCallback:function(a){var b=this.settings[a],c;if(b)return this.callbackLookup&&(c=this.callbackLookup[a])&&(b=c.func,c=c.scope),"string"==typeof b&&(c=b.replace(/\.\w+$/,""),c=c?H(c):0,b=H(b),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[a]={func:b,scope:c}),b.apply(c||this,Array.prototype.slice.call(arguments,1))},
translate:function(a){var b=this.settings.language||"en",c=this.editorManager.i18n;return a?c[b+"."+a]||a.replace(/\{\#([^\}]+)\}/g,function(a,d){return c[b+"."+d]||"{#"+d+"}"}):""},getLang:function(a,b){return this.editorManager.i18n[(this.settings.language||"en")+"."+a]||(b!==g?b:"{#"+a+"}")},getParam:function(a,b,c){a=a in this.settings?this.settings[a]:b;var d;return"hash"===c?(d={},"string"==typeof a?K(0<a.indexOf("=")?a.split(/[;,](?![^=;,]*(?:[;,]|$))/):a.split(","),function(a){a=a.split("=");
d[C(a[0])]=1<a.length?C(a[1]):C(a)}):d=a,d):a},nodeChanged:function(){var a=this.selection,b,c,d;this.initialized&&!this.settings.disable_nodechange&&(d=this.getBody(),b=a.getStart()||d,b=W&&b.ownerDocument!=this.getDoc()?this.getBody():b,"IMG"==b.nodeName&&a.isCollapsed()&&(b=b.parentNode),c=[],this.dom.getParent(b,function(a){return a===d?!0:(c.push(a),g)}),this.fire("NodeChange",{element:b,parents:c}))},addButton:function(a,b){var c=this;b.cmd&&(b.onclick=function(){c.execCommand(b.cmd)});c.buttons=
c.buttons||{};b.tooltip=b.tooltip||b.title;b.icon=b.icon||(!1!==b.icon?a:!1);c.buttons[a]=b},addMenuItem:function(a,b){var c=this;b.cmd&&(b.onclick=function(){c.execCommand(b.cmd)});c.menuItems=c.menuItems||{};c.menuItems[a]=b},addCommand:function(a,b,c){this.execCommands[a]={func:b,scope:c||this}},addQueryStateHandler:function(a,b,c){this.queryStateCommands[a]={func:b,scope:c||this}},addQueryValueHandler:function(a,b,c){this.queryValueCommands[a]={func:b,scope:c||this}},addShortcut:function(a,b,
c,d){this.shortcuts.add(a,b,c,d)},execCommand:function(a,b,c,d){var f=this,e=0,h;return/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(a)||d&&d.skip_focus||f.focus(),d=P({},d),f.fire("BeforeExecCommand",{command:a,ui:b,value:c}),d.terminate?!1:(h=f.execCommands[a])&&!0!==h.func.call(h.scope,b,c)?(f.fire("ExecCommand",{command:a,ui:b,value:c}),!0):(K(f.plugins,function(d){return d.execCommand&&d.execCommand(a,b,c)?(f.fire("ExecCommand",{command:a,ui:b,value:c}),e=!0,!1):g}),
e?e:f.theme&&f.theme.execCommand&&f.theme.execCommand(a,b,c)?(f.fire("ExecCommand",{command:a,ui:b,value:c}),!0):f.editorCommands.execCommand(a,b,c)?(f.fire("ExecCommand",{command:a,ui:b,value:c}),!0):(f.getDoc().execCommand(a,b,c),f.fire("ExecCommand",{command:a,ui:b,value:c}),g))},queryCommandState:function(a){var b,c;if(!this._isHidden()){if((b=this.queryStateCommands[a])&&(c=b.func.call(b.scope),!0!==c)||(c=this.editorCommands.queryCommandState(a),-1!==c))return c;try{return this.getDoc().queryCommandState(a)}catch(d){}}},
queryCommandValue:function(a){var b,c;if(!this._isHidden()){if((b=this.queryValueCommands[a])&&(c=b.func.call(b.scope),!0!==c)||(c=this.editorCommands.queryCommandValue(a),c!==g))return c;try{return this.getDoc().queryCommandValue(a)}catch(d){}}},show:function(){O.show(this.getContainer());O.hide(this.id);this.load();this.fire("show")},hide:function(){var a=this.getDoc();W&&a&&a.execCommand("SelectAll");this.save();O.hide(this.getContainer());O.setStyle(this.id,"display",this.orgDisplay);this.fire("hide")},
isHidden:function(){return!O.isHidden(this.id)},setProgressState:function(a,b){this.fire("ProgressState",{state:a,time:b})},load:function(a){var b=this.getElement(),c;return b?(a=a||{},a.load=!0,c=this.setContent(b.value!==g?b.value:b.innerHTML,a),a.element=b,a.no_events||this.fire("LoadContent",a),a.element=null,c):g},save:function(a){var b=this,c=b.getElement(),d,f;if(c&&b.initialized)return a=a||{},a.save=!0,a.element=c,d=a.content=b.getContent(a),a.no_events||b.fire("SaveContent",a),d=a.content,
/TEXTAREA|INPUT/i.test(c.nodeName)?c.value=d:(c.innerHTML=d,(f=O.getParent(b.id,"form"))&&K(f.elements,function(a){return a.name==b.id?(a.value=d,!1):g})),a.element=c=null,d},setContent:function(a,b){var c=this.getBody(),d;return b=b||{},b.format=b.format||"html",b.set=!0,b.content=a,b.no_events||this.fire("BeforeSetContent",b),a=b.content,W||0!==a.length&&!/^\s+$/.test(a)?("raw"!==b.format&&(a=(new f({},this.schema)).serialize(this.parser.parse(a,{isRootContent:!0}))),b.content=C(a),this.dom.setHTML(c,
b.content),b.no_events||this.fire("SetContent",b),this.settings.content_editable&&document.activeElement!==this.getBody()||this.selection.normalize(),b.content):(d=this.settings.forced_root_block,a=d&&this.schema.isValidChild(c.nodeName.toLowerCase(),d.toLowerCase())?"<"+d+'><br data-mce-bogus="1"></'+d+">":'<br data-mce-bogus="1">',c.innerHTML=a,this.selection.select(c,!0),this.selection.collapse(!0),g)},getContent:function(a){var b,c=this.getBody();return a=a||{},a.format=a.format||"html",a.get=
!0,a.getInner=!0,a.no_events||this.fire("BeforeGetContent",a),b="raw"==a.format?c.innerHTML:"text"==a.format?c.innerText||c.textContent:this.serializer.serialize(c,a),a.content="text"!=a.format?C(b):b,a.no_events||this.fire("GetContent",a),a.content},insertContent:function(a){this.execCommand("mceInsertContent",!1,a)},isDirty:function(){return!this.isNotDirty&&this.undoManager.hasUndo()},getContainer:function(){return this.container||(this.container=O.get(this.editorContainer||this.id+"_parent")),
this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return O.get(this.settings.content_element||this.id)},getWin:function(){var a;return this.contentWindow||(a=O.get(this.id+"_ifr"),a&&(this.contentWindow=a.contentWindow)),this.contentWindow},getDoc:function(){var a;return this.contentDocument||(a=this.getWin(),a&&(this.contentDocument=a.document)),this.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(a,
b,c){var d=this.settings;return d.urlconverter_callback?this.execCallback("urlconverter_callback",a,c,!0,b):!d.convert_urls||c&&"LINK"==c.nodeName||0===a.indexOf("file:")||0===a.length?a:d.relative_urls?this.documentBaseURI.toRelative(a):this.documentBaseURI.toAbsolute(a,d.remove_script_host)},addVisual:function(a){var b=this,c=b.settings,d=b.dom,f;a=a||b.getBody();b.hasVisual===g&&(b.hasVisual=c.visual);K(d.select("table,a",a),function(a){var e;switch(a.nodeName){case "TABLE":return f=c.visual_table_class||
"mce-item-table",e=d.getAttrib(a,"border"),e&&"0"!=e||(b.hasVisual?d.addClass(a,f):d.removeClass(a,f)),g;case "A":return d.getAttrib(a,"href",!1)||(e=d.getAttrib(a,"name")||a.id,f="mce-item-anchor",e&&(b.hasVisual?d.addClass(a,f):d.removeClass(a,f))),g}});b.fire("VisualAid",{element:a,hasVisual:b.hasVisual})},remove:function(){var a=this.getContainer(),b=this.getDoc();this.removed||(this.removed=1,W&&b&&b.execCommand("SelectAll"),this.save(),O.setStyle(this.id,"display",this.orgDisplay),this.settings.content_editable||
(T.unbind(this.getWin()),T.unbind(this.getDoc())),T.unbind(this.getBody()),T.unbind(a),this.fire("remove"),this.editorManager.remove(this),O.remove(a))},bindNative:function(a){var b=this;b.initialized?b.dom.bind(F(b,a),a,function(c){b.fire(a,c)}):b._pendingNativeEvents?b._pendingNativeEvents.push(a):b._pendingNativeEvents=[a]},unbindNative:function(a){this.initialized&&this.dom.unbind(a)},destroy:function(a){var b;this.destroyed||(V&&(T.unbind(this.getDoc()),T.unbind(this.getWin()),T.unbind(this.getBody())),
a||(this.editorManager.off(this._beforeUnload),this.theme&&this.theme.destroy&&this.theme.destroy(),this.selection.destroy(),this.dom.destroy()),b=this.formElement,b&&(b.submit=b._mceOldSubmit,b._mceOldSubmit=null,O.unbind(b,"submit reset",this.formEventDelegate)),this.contentAreaContainer=this.formElement=this.container=null,this.settings.content_element=this.bodyElement=this.contentDocument=this.contentWindow=null,this.selection&&(this.selection=this.selection.win=this.selection.dom=this.selection.dom.doc=
null),this.destroyed=1)},_refreshContentEditable:function(){var a,b;this._isHidden()&&(a=this.getBody(),b=a.parentNode,b.removeChild(a),b.appendChild(a),a.focus())},_isHidden:function(){var a;return V?(a=this.selection.getSel(),!a||!a.rangeCount||0===a.rangeCount):0}},P(I.prototype,B),I});h("tinymce/util/I18n",[],function(){var d={};return{add:function(b,a){for(var c in a)d[c]=a[c]},translate:function(b){if(b===g)return b;if("string"!=typeof b&&b.raw)return b.raw;if(b.push){var a=b.slice(1);b=(d[b[0]]||
b[0]).replace(/\{([^\}]+)\}/g,function(b,d){return a[d]})}return d[b]||b},data:d}});h("tinymce/FocusManager",["tinymce/dom/DOMUtils"],function(d){function b(a){a.on("AddEditor",function(c){var f=c.editor,g,h;f.on("init",function(){"onbeforedeactivate"in document?f.dom.bind(f.getBody(),"beforedeactivate",function(){var a=f.getDoc().selection;h=a&&a.createRange?a.createRange():f.selection.getRng()}):f.inline&&f.on("nodechange",function(){for(var a,b=document.activeElement;b;){if(b==f.getBody()){a=!0;
break}b=b.parentNode}a&&(h=f.selection.getRng())})});f.on("focusin",function(){var b=a.focusedEditor;g&&(f.selection.setRng(g),g=null);b!=f&&(b&&b.fire("blur",{focusedEditor:f}),f.fire("focus",{blurredEditor:b}),f.focus(!1),a.focusedEditor=f)});f.on("focusout",function(){g=h;window.setTimeout(function(){var c=a.focusedEditor;c!=f&&(g=null);var h;try{h=document.activeElement}catch(k){h=document.body}d.DOM.getParent(h,b.isEditorUIElement)||c!=f||(f.fire("blur",{focusedEditor:null}),a.focusedEditor=
null,g=null)},0)})})}return b.isEditorUIElement=function(a){return-1!==a.className.indexOf("mce-")},b});h("tinymce/EditorManager","tinymce/Editor tinymce/dom/DOMUtils tinymce/util/URI tinymce/Env tinymce/util/Tools tinymce/util/Observable tinymce/util/I18n tinymce/FocusManager".split(" "),function(d,b,a,c,f,h,k,r){var n=b.DOM,w=f.explode,p=f.each,l=f.extend,x=0,q;b={majorVersion:"4",minorVersion:"0b2",releaseDate:"2013-04-24",editors:[],i18n:k,activeEditor:null,setup:function(){var b,c,d="",f;if(c=
document.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(c)||(c+="/"),f=window.tinymce||window.tinyMCEPreInit)b=f.base||f.baseURL,d=f.suffix;else for(f=document.getElementsByTagName("script");0<f.length;){b=f[0].src;d=".min";b=b.substring(0,b.lastIndexOf("/"));break}this.baseURL=(new a(c)).toAbsolute(b);this.documentBaseURL=c;this.baseURI=new a(this.baseURL);this.suffix=d;this.focusManager=new r(this)},init:function(a){function b(a){var c=a.id;return c||(c=a.name,c=
c&&!n.get(c)?a.name:n.uniqueId(),a.setAttribute("id",c)),c}function c(a,b,d){var f=a[b];if(f)return f.apply(d||this,Array.prototype.slice.call(arguments,2))}function f(a,b){return b.constructor===RegExp?b.test(a.className):n.hasClass(a,b)}var g=this,h=[],m;g.settings=a;n.bind(window,"ready",function(){var k,r;switch(c(a,"onpageload"),a.mode){case "exact":k=a.elements||"";0<k.length&&p(w(k),function(b){n.get(b)?(m=new d(b,a,g),h.push(m),m.render(!0)):p(document.forms,function(c){p(c.elements,function(c){c.name===
b&&(b="mce_editor_"+x++,n.setAttrib(c,"id",b),m=new d(b,a,g),h.push(m),m.render(1))})})});break;case "textareas":case "specific_textareas":p(n.select("textarea"),function(c){a.editor_deselector&&f(c,a.editor_deselector)||(!a.editor_selector||f(c,a.editor_selector))&&(m=new d(b(c),a,g),h.push(m),m.render(!0))});break;default:a.types?p(a.types,function(c){p(n.select(c.selector),function(f){f=new d(b(f),l({},a,c),g);h.push(f);f.render(1)})}):a.selector&&p(n.select(a.selector),function(c){c=new d(b(c),
a,g);h.push(c);c.render(1)})}a.oninit&&(k=r=0,p(h,function(b){r++;b.initialized?k++:b.on("init",function(){k++;k==r&&c(a,"oninit")});k==r&&c(a,"oninit")}))})},get:function(a){return a===g?this.editors:this.editors[a]},add:function(a){var b=this,c=b.editors;return c[a.id]=a,c.push(a),b.activeEditor=a,b.fire("AddEditor",{editor:a}),q||(q=function(){b.fire("BeforeUnload")},n.bind(window,"beforeunload",q)),a},createEditor:function(a){return this.add(new d(a))},remove:function(a){var b,c=this.editors;
if(!c[a.id])return null;delete c[a.id];for(b=0;c.length>b;b++)if(c[b]==a){c.splice(b,1);break}return this.activeEditor==a&&(this.activeEditor=c[0]),a.destroy(),this.fire("RemoveEditor",{editor:a}),c.length||n.unbind(window,"beforeunload",q),a},execCommand:function(a,b,c){var f=this.get(c);switch(a){case "mceAddEditor":return this.get(c)||(new d(c,this.settings,this)).render(),!0;case "mceRemoveEditor":return f&&f.remove(),!0;case "mceToggleEditor":return f?(f.isHidden()?f.show():f.hide(),!0):(this.execCommand("mceAddEditor",
0,c),!0)}return this.activeEditor?this.activeEditor.execCommand(a,b,c):!1},triggerSave:function(){p(this.editors,function(a){a.save()})},addI18n:function(a,b){k.add(a,b)},translate:function(a){return k.translate(a)}};return l(b,h),b.setup(),window.tinymce=window.tinyMCE=b,b});h("tinymce/LegacyInput",["tinymce/EditorManager","tinymce/util/Tools"],function(d,b){var a=b.each,c=b.explode;d.on("AddEditor",function(b){var d=b.editor;d.on("preInit",function(){function b(c,d){a(d,function(a,b){a&&h.setStyle(c,
b,a)});h.rename(c,"span")}function f(b){h=d.dom;l.convert_fonts_to_spans&&a(h.select("font,u,strike",b.node),function(a){e[a.nodeName.toLowerCase()](h,a)})}var e,g,h,l=d.settings;l.inline_styles&&(g=c(l.font_size_legacy_values),e={font:function(a,c){b(c,{backgroundColor:c.style.backgroundColor,color:c.color,fontFamily:c.face,fontSize:g[parseInt(c.size,10)-1]})},u:function(a,c){b(c,{textDecoration:"underline"})},strike:function(a,c){b(c,{textDecoration:"line-through"})}},d.on("PreProcess SetContent",
f))})})});h("tinymce/util/XHR",[],function(){return{send:function(d){function b(){!d.async||4==a.readyState||1E4<c++?(d.success&&1E4>c&&200==a.status?d.success.call(d.success_scope,""+a.responseText,a,d):d.error&&d.error.call(d.error_scope,1E4<c?"TIMED_OUT":"GENERAL",a,d),a=null):setTimeout(b,10)}var a,c=0;if(d.scope=d.scope||this,d.success_scope=d.success_scope||d.scope,d.error_scope=d.error_scope||d.scope,d.async=!1===d.async?!1:!0,d.data=d.data||"",a=new XMLHttpRequest){if(a.overrideMimeType&&
a.overrideMimeType(d.content_type),a.open(d.type||(d.data?"POST":"GET"),d.url,d.async),d.content_type&&a.setRequestHeader("Content-Type",d.content_type),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.send(d.data),!d.async)return b();setTimeout(b,10)}}}});h("tinymce/util/JSON",[],function(){function d(b,a){var c,f,g,h;if(a=a||'"',null===b)return"null";if(g=typeof b,"string"==g)return f="\bb\tt\nn\ff\rr\"\"''\\\\",a+b.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(b,d){return'"'===
a&&"'"===b?b:(c=f.indexOf(d),c+1?"\\"+f.charAt(c+1):(b=d.charCodeAt().toString(16),"\\u"+"0000".substring(b.length)+b))})+a;if("object"==g){if(b.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(b)){c=0;for(f="[";b.length>c;c++)f+=(0<c?",":"")+d(b[c],a);return f+"]"}f="{";for(h in b)b.hasOwnProperty(h)&&(f+="function"!=typeof b[h]?(1<f.length?","+a:a)+h+a+":"+d(b[h],a):"");return f+"}"}return""+b}return{serialize:d,parse:function(b){try{return window[String.fromCharCode(101)+"val"]("("+
b+")")}catch(a){}}}});h("tinymce/util/JSONRequest",["tinymce/util/JSON","tinymce/util/XHR","tinymce/util/Tools"],function(d,b,a){function c(a){this.settings=f({},a);this.count=0}var f=a.extend;return c.sendRPC=function(a){return(new c).send(a)},c.prototype={send:function(a){var c=a.error,h=a.success;a=f(this.settings,a);a.success=function(b,f){b=d.parse(b);b===g&&(b={error:"JSON Parse error."});b.error?c.call(a.error_scope||a.scope,b.error,f):h.call(a.success_scope||a.scope,b.result)};a.error=function(b,
d){c&&c.call(a.error_scope||a.scope,b,d)};a.data=d.serialize({id:a.id||"c"+this.count++,method:a.method,params:a.params});a.content_type="application/json";b.send(a)}},c});h("tinymce/util/JSONP",["tinymce/dom/DOMUtils"],function(d){return{callbacks:{},count:0,send:function(b){var a=this,c=d.DOM,f=b.count!==g?b.count:a.count,h="tinymce_jsonp_"+f;a.callbacks[f]=function(d){c.remove(h);delete a.callbacks[f];b.callback(d)};c.add(c.doc.body,"script",{id:h,src:b.url,type:"text/javascript"});a.count++}}});
h("tinymce/util/LocalStorage",[],function(){function d(){k=[];for(var a in h)k.push(a);c.length=k.length}function b(){function a(b){var d,f;return f=b!==g?k+b:c.indexOf(",",k),-1===f||f>c.length?null:(d=c.substring(k,f),k=f+1,d)}var b,c,l,k=0;h={};f.load(r);c=f.getAttribute(r)||"";do b=a(parseInt(a(),32)||0),null!==b&&(l=a(parseInt(a(),32)||0),h[b]=l);while(null!==b);d()}function a(){var a,b="",c;for(c in h)a=h[c],b+=(b?",":"")+c.length.toString(32)+","+c+","+a.length.toString(32)+","+a;f.setAttribute(r,
b);f.save(r);d()}var c,f,h,k,r;return window.localStorage?localStorage:(r="tinymce",f=document.documentElement,f.addBehavior("#default#userData"),c={key:function(a){return k[a]},getItem:function(a){return a in h?h[a]:null},setItem:function(b,c){h[b]=""+c;a()},removeItem:function(b){delete h[b];a()},clear:function(){h={};a()}},b(),c)});h("tinymce/Compat","tinymce/dom/DOMUtils tinymce/dom/EventUtils tinymce/dom/ScriptLoader tinymce/AddOnManager tinymce/util/Tools tinymce/Env".split(" "),function(d,
b,a,c,f,g){var h=window.tinymce;return h.DOM=d.DOM,h.ScriptLoader=a.ScriptLoader,h.PluginManager=c.PluginManager,h.ThemeManager=c.ThemeManager,h.dom=h.dom||{},h.dom.Event=b.Event,f.each(f,function(a,b){h[b]=a}),f.each(["isOpera","isWebKit","isIE","isGecko","isMac"],function(a){h[a]=g[a.substr(2).toLowerCase()]}),{}});h("tinymce/ui/Layout",["tinymce/util/Class","tinymce/util/Tools"],function(d,b){return d.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(a){this.settings=
b.extend({},this.Defaults,a)},preRender:function(a){a.addClass(this.settings.containerClass,"body")},applyClasses:function(a){var b=this.settings,d,e;a=a.items().filter(":visible");d=b.firstControlClass;e=b.lastControlClass;a.each(function(a){a.removeClass(d).removeClass(e);b.controlClass&&a.addClass(b.controlClass)});a.eq(0).addClass(d);a.eq(-1).addClass(e)},renderHtml:function(a){var b=this.settings,d,e="";return d=a.items(),d.eq(0).addClass(b.firstControlClass),d.eq(-1).addClass(b.lastControlClass),
d.each(function(a){b.controlClass&&a.addClass(b.controlClass);e+=a.renderHtml()}),e},recalc:function(){},postRender:function(){}})});h("tinymce/ui/AbsoluteLayout",["tinymce/ui/Layout"],function(d){return d.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(b){b.items().filter(":visible").each(function(a){var b=a.settings;a.layoutRect({x:b.x,y:b.y,w:b.w,h:b.h});a.recalc&&a.recalc()})},renderHtml:function(b){return'<div id="'+b._id+'-absend" class="'+b.classPrefix+
'abs-end"></div>'+this._super(b)}})});h("tinymce/ui/Tooltip",["tinymce/ui/Control","tinymce/ui/Movable"],function(d,b){return d.extend({Mixins:[b],Defaults:{classes:"widget tooltip tooltip-n"},text:function(a){return a!==g?(this._value=a,this._rendered&&(this.getEl().lastChild.innerHTML=this.encode(a)),this):this._value},renderHtml:function(){var a=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes()+'" role="presentation"><div class="'+a+'tooltip-arrow"></div><div class="'+a+'tooltip-inner">'+
this.encode(this._text)+"</div></div>"},repaint:function(){var a,b;a=this.getEl().style;b=this._layoutRect;a.left=b.x+"px";a.top=b.y+"px";a.zIndex=131070}})});h("tinymce/ui/Widget",["tinymce/ui/Control","tinymce/ui/Tooltip"],function(d,b){var a;return d.extend({init:function(a){var b=this;b._super(a);b.canFocus=!0;a.tooltip&&b.on("mouseenter mouseleave",function(d){d.control==b&&"mouseenter"==d.type?b.tooltip().moveTo(-65535).text(a.tooltip).show().moveRel(b.getEl(),"bc tc"):b.tooltip().moveTo(-65535).hide()});
b.aria("label",a.tooltip)},tooltip:function(){return a||(a=new b({type:"tooltip"}),a.renderTo(this.getContainerElm())),a},active:function(a){return void 0!==a&&(this.aria("pressed",a),this.toggleClass("active",a)),this._super(a)},disabled:function(a){return void 0!==a&&(this.aria("disabled",a),this.toggleClass("disabled",a)),this._super(a)},postRender:function(){var a=this,b=a.settings;a._rendered=!0;a._super();a.parent()||!b.width&&!b.height||(a.initLayoutRect(),a.repaint());b.autofocus&&setTimeout(function(){a.focus()},
0)},remove:function(){this._super();a&&(a.remove(),a=null)}})});h("tinymce/ui/Button",["tinymce/ui/Widget"],function(d){return d.extend({Defaults:{classes:"widget btn",role:"button"},init:function(b){var a;this.on("click mousedown",function(a){a.preventDefault()});this._super(b);a=b.size;b.subtype&&this.addClass(b.subtype);a&&this.addClass("btn-"+a)},repaint:function(){var b=this.getEl().firstChild.style;b.width=b.height="100%";this._super()},renderHtml:function(){var b=this._id,a=this.classPrefix,
c=this.settings.icon,d="";return this.settings.image&&(c="none",d=" style=\"background-image: url('"+this.settings.image+"')\""),c=this.settings.icon?a+"ico "+a+"i-"+c:"",'<div id="'+b+'" class="'+this.classes()+'" tabindex="-1"><button role="presentation" tabindex="-1">'+(c?'<i class="'+c+'"'+d+"></i>":"")+(this._text?(c?" ":"")+this.encode(this._text):"")+"</button></div>"}})});h("tinymce/ui/ButtonGroup",["tinymce/ui/Container"],function(d){return d.extend({Defaults:{defaultType:"button",role:"toolbar"},
renderHtml:function(){var b=this._layout;return this.addClass("btn-group"),this.preRender(),b.preRender(this),'<div id="'+this._id+'" class="'+this.classes()+'"><div id="'+this._id+'-body">'+(this.settings.html||"")+b.renderHtml(this)+"</div></div>"}})});h("tinymce/ui/Checkbox",["tinymce/ui/Widget"],function(d){return d.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(b){var a=this;a._super(b);a.on("click mousedown",function(a){a.preventDefault()});a.on("click",function(b){b.preventDefault();
a.disabled()||a.checked(!a.checked())});a.checked(a.settings.checked)},checked:function(b){return b!==g?(b?this.addClass("checked"):this.removeClass("checked"),this._checked=b,this.aria("checked",b),this):this._checked},value:function(b){return this.checked(b)},renderHtml:function(){var b=this._id,a=this.classPrefix;return'<div id="'+b+'" class="'+this.classes()+'" unselectable="on" aria-labeledby="'+b+'-al" tabindex="-1"><i class="'+a+"ico "+a+'i-checkbox"></i><span id="'+b+'-al" class="'+a+'label">'+
this.encode(this._text)+"</span></div>"}})});h("tinymce/ui/CheckboxGroup",["tinymce/ui/Container"],function(d){return d.extend({})});h("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(d,b){return d.extend({showPanel:function(){var a=this,c=a.settings;c.panel.popover=!0;c.panel.autohide=!0;a.active(!0);a.panel?a.panel.show():a.panel=(new b(c.panel)).on("hide",function(){a.active(!1)}).parent(a).renderTo(a.getContainerElm()).reflow().moveRel(a.getEl(),c.popoverAlign||
"bc-tc")},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var a=this;return a.on("click",function(b){b.control===a&&a.showPanel()}),a._super()}})});h("tinymce/ui/ColorButton",["tinymce/ui/PanelButton"],function(d){return d.extend({init:function(b){this._super(b);this.addClass("colorbutton")},showPreview:function(b){this.getEl("preview").style.backgroundColor=b},renderHtml:function(){var b=this._id,a=this.classPrefix,c=this.settings.icon?a+"ico "+a+"i-"+this.settings.icon:
"",d=this.settings.image?" style=\"background-image: url('"+this.settings.image+"')\"":"";return'<div id="'+b+'" class="'+this.classes()+'" tabindex="-1"><button role="presentation" tabindex="-1">'+(c?'<i class="'+c+'"'+d+"></i>":"")+'<span id="'+b+'-preview" class="'+a+'preview"></span>'+(this._text?(c?" ":"")+this.encode(this._text):"")+"</button></div>"}})});h("tinymce/ui/ComboBox",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(d,b){return d.extend({init:function(a){var c=this;c._super(a);
c.addClass("combobox");c.on("click",function(a){for(a=a.target;a;)a.id&&-1!=a.id.indexOf("-open")&&c.fire("action"),a=a.parentNode});c.on("keydown",function(a){"INPUT"==a.target.nodeName&&13==a.keyCode&&c.parents().reverse().each(function(b){return a.preventDefault(),c.fire("change"),b.submit?(b.submit(),!1):g})});a.placeholder&&(c.addClass("placeholder"),c.on("focusin",function(){c._hasOnChange||(b.on(c.getEl("inp"),"change",function(){c.fire("change")}),c._hasOnChange=!0);c.hasClass("placeholder")&&
(c.getEl("inp").value="",c.removeClass("placeholder"))}),c.on("focusout",function(){0===c.value().length&&(c.getEl("inp").value=a.placeholder,c.addClass("placeholder"))}))},value:function(a){return a!==g?(this._value=a,this.removeClass("placeholder"),this._rendered&&(this.getEl("inp").value=a),this):this._rendered?(a=this.getEl("inp").value,a!=this.settings.placeholder?a:""):this._value},repaint:function(){var a=this.getEl(),c=this.getEl("open"),d=this.layoutRect();return c?b.css(a.firstChild,{width:d.w-
c.offsetWidth-10}):b.css(a.firstChild,{width:d.w-10}),this._super(),this},disabled:function(a){this._super(a);this._rendered&&(this.getEl().disabled=a)},focus:function(){this.getEl("inp").focus()},postRender:function(){var a=this;return b.on(this.getEl("inp"),"change",function(){a.fire("change")}),a._super()},renderHtml:function(){var a=this._id,b=this.settings,d=this.classPrefix,e=b.value||b.placeholder||"",g,h,k="";return g=b.icon?d+"ico "+d+"i-"+b.icon:"",h=this._text,(g||h)&&(k='<div id="'+a+
'-open" class="'+d+"btn "+d+'open" tabIndex="-1"><button id="'+a+'-action" hidefocus tabindex="-1">'+(g?'<i class="'+g+'"></i>':'<i class="'+d+'caret"></i>')+(h?(g?" ":"")+h:"")+"</button></div>",this.addClass("has-open")),'<div id="'+a+'" class="'+this.classes()+'"><input id="'+a+'-inp" class="'+d+"textbox "+d+'placeholder" value="'+e+'" hidefocus="true">'+k+"</div>"}})});h("tinymce/ui/Path",["tinymce/ui/Control","tinymce/ui/KeyboardNavigation"],function(d,b){return d.extend({Defaults:{delimiter:"\u00bb"},
init:function(a){var b=this;b._super(a);b.addClass("path");b.canFocus=!0;b.on("click",function(a){var d;(d=a.target.getAttribute("data-index"))&&b.fire("select",{value:b.data()[d],index:d})})},focus:function(){return this.keyNav=new b({root:this,enableLeftRight:!0}),this.keyNav.focusFirst(),this},data:function(a){return a!==g?(this._data=a,this.update(),this):this._data},update:function(){this.getEl().innerHTML=this._getPathHtml()},postRender:function(){this._super();this.data(this.settings.data)},
renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classPrefix+'path">'+this._getPathHtml()+"</div>"},_getPathHtml:function(){var a=this._data||[],b,d,e="",g=this.classPrefix;b=0;for(d=a.length;d>b;b++)e+=(0<b?'<div class="'+g+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+g+"path-item"+(b==d-1?" "+g+"last":"")+'" data-index="'+b+'" tabindex="-1" id="'+this._id+"-"+b+'">'+a[b].name+"</div>";return e||(e='<div class="'+g+'path-item">&nbsp;</div>'),
e}})});h("tinymce/ui/ElementPath",["tinymce/ui/Path","tinymce/EditorManager"],function(d,b){return d.extend({postRender:function(){function a(a){return 1===a.nodeType&&("BR"==a.nodeName||!!a.getAttribute("data-mce-bogus"))}var c=this,d=b.activeEditor;return c.on("select",function(b){for(var c=[],e=d.selection.getNode(),g=d.getBody();e&&(a(e)||c.push(e),e=e.parentNode,e!=g););d.focus();d.selection.select(c[c.length-1-b.index]);d.nodeChanged()}),d.on("nodeChange",function(b){var e=[];b=b.parents;for(var g=
b.length;g--;)if(!a(b[g])){var h=d.fire("ResolveName",{name:b[g].nodeName.toLowerCase(),target:b[g]});e.push({name:h.name})}c.data(e)}),c._super()}})});h("tinymce/ui/FormItem",["tinymce/ui/Container"],function(d){return d.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var b=this._layout,a=this.classPrefix;return this.addClass("formitem"),b.preRender(this),'<div id="'+this._id+'" class="'+this.classes()+'" hideFocus="1" tabIndex="-1">'+(this.settings.title?
'<div id="'+this._id+'-title" class="'+a+'title">'+this.settings.title+"</div>":"")+'<div id="'+this._id+'-body" class="'+this.classes("body")+'">'+(this.settings.html||"")+b.renderHtml(this)+"</div></div>"}})});h("tinymce/ui/Form",["tinymce/ui/Container","tinymce/ui/FormItem"],function(d,b){return d.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10},preRender:function(){var a=this;a.items().each(function(c){var d,e=c.settings.label;
e&&(d=new b({layout:"flex",autoResize:"overflow",defaults:{flex:1},items:[{type:"label",text:e,flex:0,forId:c._id}]}),d.type="formitem",c.settings.flex===g&&(c.settings.flex=1),a.replace(c,d),d.add(c))})},recalcLabels:function(){var a=0,b=[],d,e;if(!1!==this.settings.labelGapCalc)for(this.items().filter("formitem").each(function(d){d=d.items()[0];var f=d.getEl().clientWidth;a=f>a?f:a;b.push(d)}),e=this.settings.labelGap||0,d=b.length;d--;)b[d].settings.minWidth=a+e},visible:function(a){var b=this._super(a);
return!0===a&&this._rendered&&this.recalcLabels(),b},fromJSON:function(a){if(a)for(var b in a)this.find("#"+b).value(a[b]);return this},toJSON:function(){var a={};return this.find("*").each(function(b){var d=b.name();b=b.value();d&&b!==g&&(a[d]=b)}),a},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super();this.recalcLabels();this.fromJSON(this.settings.data)}})});h("tinymce/ui/FieldSet",["tinymce/ui/Form"],function(d){return d.extend({Defaults:{containerCls:"fieldset",
layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var b=this._layout,a=this.classPrefix;return this.preRender(),b.preRender(this),'<fieldset id="'+this._id+'" class="'+this.classes()+'" hideFocus="1" tabIndex="-1">'+(this.settings.title?'<legend id="'+this._id+'-title" class="'+a+'fieldset-title">'+this.settings.title+"</legend>":"")+'<div id="'+this._id+'-body" class="'+this.classes("body")+'">'+(this.settings.html||
"")+b.renderHtml(this)+"</div></fieldset>"}})});h("tinymce/ui/FilePicker",["tinymce/ui/ComboBox"],function(d){return d.extend({init:function(b){var a=this,c=tinymce.activeEditor,d;b.spellcheck=!1;(d=c.settings.file_browser_callback)&&(b.icon="browse",b.onaction=function(){d(a.getEl("inp").id,a.getEl("inp").value,b.filetype,window)});a._super(b)}})});h("tinymce/ui/FitLayout",["tinymce/ui/AbsoluteLayout"],function(d){return d.extend({recalc:function(b){var a=b.layoutRect(),c=b.paddingBox();b.items().filter(":visible").each(function(b){b.layoutRect({x:c.left,
y:c.top,w:a.innerW-c.right-c.left,h:a.innerH-c.top-c.bottom});b.recalc&&b.recalc()})}})});h("tinymce/ui/FlexLayout",["tinymce/ui/AbsoluteLayout"],function(d){return d.extend({recalc:function(b){var a,c,d,e,g,h,k,w,p,l,x,q,z,A=[],u,y,L,D,B,G,F,I,O,N,R,P,K,S,M,C,H,T,V=Math.max,W=Math.min;d=b.items().filter(":visible");e=b.layoutRect();g=b._paddingBox;h=b.settings;a=h.direction;k=h.align;w=h.pack;h=h.spacing||0;("row-reversed"==a||"column-reverse"==a)&&(d=d.set(d.toArray().reverse()),a=a.split("-")[0]);
"column"==a?(B="y",L="h",D="minH",G="maxH",I="innerH",F="top",O="deltaH",N="contentH",M="left",K="w",R="x",P="innerW",S="minW",C="right",H="deltaW",T="contentW"):(B="x",L="w",D="minW",G="maxW",I="innerW",F="left",O="deltaW",N="contentW",M="top",K="h",R="y",P="innerH",S="minH",C="bottom",H="deltaH",T="contentH");l=e[I]-g[F]-g[F];a=y=p=0;for(c=d.length;c>a;a++)x=d[a],q=x.layoutRect(),z=x.settings,z=z.flex,l-=c-1>a?h:0,0<z&&(p+=z,q[G]&&A.push(x),q.flex=z),l-=q[D],z=g[M]+q[S]+g[C],z>y&&(y=z);if(u={},
u[D]=0>l?e[D]-l+e[O]:e[I]-l+e[O],u[S]=y+e[H],u[N]=e[I]-l,u[T]=y,u.minW=W(u.minW,e.maxW),u.minH=W(u.minH,e.maxH),u.minW=V(u.minW,e.startMinWidth),u.minH=V(u.minH,e.startMinHeight),!e.autoResize||u.minW==e.minW&&u.minH==e.minH){b=l/p;a=0;for(c=A.length;c>a;a++)x=A[a],q=x.layoutRect(),u=q[G],z=q[D]+Math.ceil(q.flex*b),z>u?(l-=q[G]-q[D],p-=q.flex,q.flex=0,q.maxFlexSize=u):q.maxFlexSize=0;b=l/p;A=g[F];u={};0===p&&("end"==w?A=l+g[F]:"center"==w?(A=Math.round(e[I]/2-(e[I]-l)/2)+g[F],0>A&&(A=g[F])):"justify"==
w&&(A=g[F],h=Math.floor(l/(d.length-1))));u[R]=g[M];a=0;for(c=d.length;c>a;a++)x=d[a],q=x.layoutRect(),z=q.maxFlexSize||q[D],"center"===k?u[R]=Math.round(e[P]/2-q[K]/2):"stretch"===k?(u[K]=V(q[S]||0,e[P]-g[M]-g[C]),u[R]=g[M]):"end"===k&&(u[R]=e[P]-q[K]-g.top),0<q.flex&&(z+=Math.ceil(q.flex*b)),u[L]=z,u[B]=A,x.layoutRect(u),x.recalc&&x.recalc(),A+=z+h}else(u.w=u.minW,u.h=u.minH,b.layoutRect(u),this.recalc(b),null===b._lastRect)&&(d=b.parent())&&(d._lastRect=null,d.recalc())}})});h("tinymce/ui/FlowLayout",
["tinymce/ui/Layout"],function(d){return d.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(b){b.items().filter(":visible").each(function(a){a.recalc&&a.recalc()})}})});h("tinymce/ui/FormatControls",["tinymce/ui/Factory","tinymce/ui/Control","tinymce/ui/FloatPanel","tinymce/util/Tools","tinymce/EditorManager"],function(d,b,a,c,f){function h(a){var b=f.activeEditor,c,d,e=b.dom,k="",m,v;return v=b.settings.preview_styles,!1===v?"":(v||
(v="font-family font-size font-weight text-decoration text-transform color background-color border border-radius"),(a=b.formatter.get(a))?(a=a[0],c=a.block||a.inline||"span",d=e.create(c),r(a.styles,function(a,b){(a=a.replace(/%(\w+)/g,""))&&e.setStyle(d,b,a)}),r(a.attributes,function(a,b){(a=a.replace(/%(\w+)/g,""))&&e.setAttrib(d,b,a)}),r(a.classes,function(a){a=a.replace(/%(\w+)/g,"");e.hasClass(d,a)||e.addClass(d,a)}),b.fire("PreviewFormats"),e.setStyles(d,{position:"absolute",left:-65535}),b.getBody().appendChild(d),
m=e.getStyle(b.getBody(),"fontSize",!0),m=/px$/.test(m)?parseInt(m,10):0,r(v.split(" "),function(a){var c=e.getStyle(d,a,!0);if(!("background-color"==a&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(c)&&(c=e.getStyle(b.getBody(),a,!0),"#ffffff"==e.toHex(c).toLowerCase())||"color"==a&&"#000000"==e.toHex(c).toLowerCase())){if("font-size"==a&&/em|%$/.test(c)){if(0===m)return;c=parseFloat(c,10)/(/%$/.test(c)?100:1);c=c*m+"px"}"border"==a&&c&&(k+="padding:0 2px;");k+=a+":"+c+";"}}),b.fire("AfterPreviewFormats"),
e.remove(d),k):g)}function k(a){a=a.split(";");for(var b=a.length;b--;)a[b]=a[b].split("=");return a}var r=c.each;b.translate=function(a){return f.translate(a)};f.on("AddEditor",function(b){function g(){var a=this;a.disabled(!(x.undoManager&&x.undoManager.hasUndo()));x.on("Undo Redo AddUndo",function(){a.disabled(!(x.undoManager&&x.undoManager.hasUndo()))})}function p(){var a=this;a.disabled(!(x.undoManager&&x.undoManager.hasRedo()));x.on("Undo Redo AddUndo",function(){a.disabled(!(x.undoManager&&
x.undoManager.hasRedo()))})}function l(a){a.control&&(a=a.control.settings.format);a&&f.activeEditor.execCommand("mceToggleFormat",!1,a)}var x=b.editor,q;q=function(){function a(d){var f=[];if(d)return r(d,function(d){var e={text:{raw:d.title},icon:d.icon};if(d.items)e.menu=a(d.items);else{var g=d.format||"custom"+b++;d.format||(d.name=g,c.push(d));e.textStyle=function(){return h(g)};e.onclick=function(){l(g)}}f.push(e)}),f}var b=0,c=[],d=[{title:"Headers",items:[{title:"Header 1",format:"h1"},{title:"Header 2",
format:"h2"},{title:"Header 3",format:"h3"},{title:"Header 4",format:"h4"},{title:"Header 5",format:"h5"},{title:"Header 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",
icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];x.on("init",function(){r(c,function(a){x.formatter.register(a.name,a)})});
return a(x.settings.style_formats||d)}();r({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(a,b){x.addButton(b,{tooltip:a,onPostRender:function(){var a=this;x.formatter?x.formatter.formatChanged(b,function(b){a.active(b)}):x.on("init",function(){x.formatter.formatChanged(b,function(b){a.active(b)})})},onclick:function(){l(b)}})});r({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut",
"Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],hr:["Insert horizontal rule","InsertHorizontalRule"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(a,b){x.addButton(b,{tooltip:a[0],cmd:a[1]})});r({blockquote:["Toggle blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bulleted list","InsertUnorderedList"],
subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"]},function(a,b){x.addButton(b,{tooltip:a[0],cmd:a[1],onPostRender:function(){var a=this;x.formatter?x.formatter.formatChanged(b,function(b){a.active(b)}):x.on("init",function(){x.formatter.formatChanged(b,function(b){a.active(b)})})}})});x.addButton("undo",{tooltip:"Undo",
onPostRender:g,cmd:"undo"});x.addButton("redo",{tooltip:"Redo",onPostRender:p,cmd:"redo"});x.addMenuItem("newdocument",{text:"New document",shortcut:"Ctrl+N",icon:"newdocument",cmd:"mceNewDocument"});x.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Ctrl+Z",onPostRender:g,cmd:"undo"});x.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Ctrl+Y",onPostRender:p,cmd:"redo"});x.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function(){var a=this;x.on("VisualAid",function(b){a.active(b.hasVisual)});
a.active(x.hasVisual)},cmd:"mceToggleVisualAid"});r({cut:["Cut","Cut","Ctrl+X"],copy:["Copy","Copy","Ctrl+C"],paste:["Paste","Paste","Ctrl+V"],selectall:["Select all","SelectAll","Ctrl+A"],bold:["Bold","Bold","Ctrl+B"],italic:["Italic","Italic","Ctrl+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(a,b){x.addMenuItem(b,{text:a[0],
icon:b,shortcut:a[2],cmd:a[1]})});x.on("mousedown",function(){a.hideAll()});d.add("styleselect",function(a){var b=[].concat(q);return d.create("menubutton",c.extend({text:"Formats",menu:b},a))});d.add("formatselect",function(a){var b=[],f=k("Paragraph=p;Address=address;Pre=pre;Header 1=h1;Header 2=h2;Header 3=h3;Header 4=h4;Header 5=h5;Header 6=h6");return r(f,function(a){b.push({text:{raw:a[0]},format:a[1],textStyle:function(){return h(a[1])}})}),d.create("listbox",c.extend({text:{raw:f[0][0]},menu:b,
onclick:l},a))});d.add("fontselect",function(a){var b=[],g=k("Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats");
return r(g,function(a){b.push({text:{raw:a[0]},format:a[1],style:-1==a[1].indexOf("dings")?"font-family:"+a[1]:""})}),d.create("listbox",c.extend({text:"Font Family",menu:b,onclick:function(a){a.control.settings.format&&f.activeEditor.execCommand("FontName",!1,a.control.settings.format)}},a))});d.add("fontsizeselect",function(a){var b=[];return r("8pt 10pt 12pt 14pt 18pt 24pt 36pt".split(" "),function(a){b.push({text:a,format:a})}),d.create("listbox",c.extend({text:"Font Sizes",menu:b,onclick:function(a){a.control.settings.format&&
f.activeEditor.execCommand("FontSize",!1,a.control.settings.format)}},a))});x.addMenuItem("formats",{text:"Formats",menu:q})})});h("tinymce/ui/GridLayout",["tinymce/ui/AbsoluteLayout"],function(d){return d.extend({recalc:function(b){var a=b.settings,c,d,e,g,h,k,w,p,l,x,q,z,A,u,y,L,D,B=[],G=[],a=b.settings;e=b.items().filter(":visible");g=b.layoutRect();d=a.columns||Math.ceil(Math.sqrt(e.length));c=Math.ceil(e.length/d);u=a.spacingH||a.spacing||0;y=a.spacingV||a.spacing||0;L=a.alignH||a.align;D=a.alignV||
a.align;z=b._paddingBox;for(p=0;d>p;p++)B.push(0);for(l=0;c>l;l++)G.push(0);for(l=0;c>l;l++)for(p=0;d>p&&(w=e[l*d+p],w);p++)k=w.layoutRect(),x=k.minW,k=k.minH,B[p]=x>B[p]?x:B[p],G[l]=k>G[l]?k:G[l];k=g.innerW-z.left-z.right;for(p=x=0;d>p;p++)x+=B[p]+(0<p?u:0),k-=(0<p?u:0)+B[p];q=g.innerH-z.top-z.bottom;for(l=p=0;c>l;l++)p+=G[l]+(0<l?y:0),q-=(0<l?y:0)+G[l];if(x+=z.left+z.right,p+=z.top+z.bottom,h={},h.minW=x+(g.w-g.innerW),h.minH=p+(g.h-g.innerH),h.contentW=h.minW-g.deltaW,h.contentH=h.minH-g.deltaH,
h.minW=Math.min(h.minW,g.maxW),h.minH=Math.min(h.minH,g.maxH),h.minW=Math.max(h.minW,g.startMinWidth),h.minH=Math.max(h.minH,g.startMinHeight),!g.autoResize||h.minW==g.minW&&h.minH==g.minH){g.autoResize&&(h=b.layoutRect(h),h.contentW=h.minW-g.deltaW,h.contentH=h.minH-g.deltaH);b="start"==a.packV?0:0<q?Math.floor(q/c):0;l=0;if(a=a.flexWidths)for(p=0;a.length>p;p++)l+=a[p];else l=d;l=k/l;for(p=0;d>p;p++)B[p]+=a?Math.ceil(a[p]*l):l;x=z.top;for(l=0;c>l;l++){h=z.left;g=G[l]+b;for(p=0;d>p&&(w=e[l*d+p],
w);p++)q=w.settings,k=w.layoutRect(),a=B[p],k.x=h,k.y=x,A=q.alignH||L,"center"==A?k.x=h+a/2-k.w/2:"right"==A?k.x=h+a-k.w:"stretch"==A&&(k.w=a),A=q.alignV||D,"center"==A?k.y=x+g/2-k.h/2:"bottom"==A?k.y=x+g-k.h:"stretch"==A&&(k.h=g),w.layoutRect(k),h+=a+u,w.recalc&&w.recalc();x+=g+y}}else(h.w=h.minW,h.h=h.minH,b.layoutRect(h),this.recalc(b),null===b._lastRect)&&(c=b.parent())&&(c._lastRect=null,c.recalc())}})});h("tinymce/ui/Iframe",["tinymce/ui/Widget"],function(d){return d.extend({renderHtml:function(){return this.addClass("iframe"),
this.canFocus=!1,'<iframe id="'+this._id+'" class="'+this.classes()+'" tabindex="-1" src="'+(this.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(b){this.getEl().src=b},html:function(b){return this.getEl().contentWindow.document.body.innerHTML=b,this}})});h("tinymce/ui/Label",["tinymce/ui/Widget"],function(d){return d.extend({init:function(b){this._super(b);this.addClass("widget");this.addClass("label");this.canFocus=!1;b.multiline&&this.addClass("autoscroll");b.strong&&
this.addClass("strong")},initLayoutRect:function(){var b=this._super();return this.settings.multiline&&(this.getEl().offsetWidth>b.maxW&&(b.minW=b.maxW,this.addClass("multiline")),this.getEl().style.width=b.minW+"px",b.startMinH=b.h=b.minH=Math.min(b.maxH,this.getEl().offsetHeight)),b},disabled:function(b){return void 0!==b&&(this.toggleClass("label-disabled",b),this._rendered&&(this.getEl()[0].className=this.classes())),this._super(b)},repaint:function(){return this.settings.multiline||(this.getEl().style.lineHeight=
this.layoutRect().h+"px"),this._super()},text:function(b){return this._rendered&&b&&(this.getEl().innerHTML=this.encode(b)),this._super(b)},renderHtml:function(){var b=this.settings.forId;return'<label id="'+this._id+'" class="'+this.classes()+'"'+(b?' for="'+b:"")+'">'+this.encode(this._text)+"</label>"}})});h("tinymce/ui/Toolbar",["tinymce/ui/Container","tinymce/ui/KeyboardNavigation"],function(d,b){return d.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(a){this._super(a);this.addClass("toolbar")},
postRender:function(){return this.items().addClass("toolbar-item"),this.keyNav=new b({root:this,enableLeftRight:!0}),this._super()}})});h("tinymce/ui/MenuBar",["tinymce/ui/Toolbar"],function(d){return d.extend({Defaults:{role:"menubar",containerCls:"menubar",defaults:{type:"menubutton"}}})});h("tinymce/ui/MenuButton",["tinymce/ui/Button","tinymce/ui/Factory","tinymce/ui/MenuBar"],function(d,b,a){var c=d.extend({init:function(a){this._renderOpen=!0;this._super(a);this.addClass("menubtn");this.aria("haspopup",
!0);this.hasPopup=!0},showMenu:function(){var a=this,c=a.settings,d;a.menu||(d=c.menu||[],d.length?d={type:"menu",items:d}:d.type=d.type||"menu",a.menu=b.create(d).parent(a).renderTo(a.getContainerElm()),a.fire("createmenu"),a.menu.reflow(),a.menu.on("cancel",function(b){b.control===a.menu&&a.focus()}),a.menu.on("show hide",function(b){b.control==a.menu&&a.activeMenu("show"==b.type)}).fire("show"),a.aria("expanded",!0));a.menu.show();a.menu.layoutRect({w:a.layoutRect().w});a.menu.moveRel(a.getEl(),
"bl-tl")},hideMenu:function(){this.menu&&(this.menu.items().each(function(a){a.hideMenu&&a.hideMenu()}),this.menu.hide(),this.aria("expanded",!1))},activeMenu:function(a){this.toggleClass("active",a)},renderHtml:function(){var b=this._id,c=this.classPrefix,d=this.settings.icon?c+"ico "+c+"i-"+this.settings.icon:"";return this.aria("role",this.parent()instanceof a?"menuitem":"button"),'<div id="'+b+'" class="'+this.classes()+'" tabindex="-1"><button id="'+b+'-open" role="presentation" tabindex="-1">'+
(d?'<i class="'+d+'"></i>':"")+(this._text?(d?" ":"")+this.encode(this._text):"")+' <i class="'+c+'caret"></i></button></div>'},postRender:function(){var a=this;return a.on("click",function(b){var c;if(c=b.control===a)a:{c=b.target;for(var d=a.getEl();c;){if(d===c){c=!0;break a}c=c.parentNode}c=!1}c&&(a.showMenu(),b.keyboard&&a.menu.items()[0].focus())}),a.on("mouseenter",function(b){var d=b.control;b=a.parent();var e;d&&b&&d instanceof c&&d.parent()==b&&(b.items().filter("MenuButton").each(function(a){a.hideMenu&&
a!=d&&(a.menu&&a.menu.visible()&&(e=!0),a.hideMenu())}),e&&d.showMenu())}),a._super()},text:function(a){var b,c;if(this._rendered)for(c=this.getEl("open").childNodes,b=0;c.length>b;b++)3==c[b].nodeType&&(c[b].data=this.encode(a));return this._super(a)},remove:function(){this._super();this.menu&&this.menu.remove()}});return c});h("tinymce/ui/ListBox",["tinymce/ui/MenuButton"],function(d){return d.extend({init:function(b){var a=this,c,d,e,g,h;if(a._values=c=b.values,c){for(d=0;c.length>d;d++)(e=c[d].selected||
b.value===c[d].value)&&(g=g||c[d].text,a._value=c[d].value);b.menu=c}b.text=b.text||g||c[0].text;a._super(b);a.addClass("listbox");a.on("select",function(c){var d=c.control;h&&(c.lastControl=h);b.multiple?d.active(!d.active()):a.value(c.control.settings.value);h=d})},value:function(b){function a(b,e){b.items().each(function(b){(c=b.value()===e)&&(d=d||b.text());b.active(c);b.menu&&a(b.menu,e)})}var c,d,e,h;if(b!==g){if(this.menu)a(this.menu,b);else for(e=this.settings.menu,h=0;e.length>h;h++)(c=e[h].value==
b)&&(d=d||e[h].text),e[h].active=c;this.text(d)}return this._super(b)}})});h("tinymce/ui/MenuItem",["tinymce/ui/Widget","tinymce/ui/Factory"],function(d,b){return d.extend({Defaults:{border:0,role:"menuitem"},init:function(a){var b=this;b.hasPopup=!0;b._super(a);a=b.settings;b.addClass("menu-item");a.menu&&b.addClass("menu-item-expand");("-"===b._text||"|"===b._text)&&(b.addClass("menu-item-sep"),b.aria("role","separator"),b.canFocus=!1,b._text="-");a.selectable&&(b.aria("role","menuitemcheckbox"),
b.aria("checked",!0),b.addClass("menu-item-checkbox"),a.icon="selected");b.on("mousedown",function(a){a.preventDefault()});b.on("mouseenter click",function(d){d.control===b&&(a.menu||"click"!==d.type?(b.showMenu(),d.keyboard&&setTimeout(function(){b.menu.items()[0].focus()},0)):(b.parent().hideAll(),b.fire("cancel"),b.fire("select")))});a.menu&&b.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var a=this,c=a.settings,d;a.parent().items().each(function(b){b!==
a&&b.hideMenu()});c.menu&&(a.menu?a.menu.show():(d=c.menu,d.length?d={type:"menu",items:d}:d.type=d.type||"menu",a.menu=b.create(d).parent(a).renderTo(a.getContainerElm()),a.menu.reflow(),a.menu.fire("show"),a.menu.on("cancel",function(){a.focus()}),a.menu.on("hide",function(b){b.control===a.menu&&a.removeClass("selected")})),a.menu._parentMenu=a.parent(),a.menu.addClass("menu-sub"),a.menu.moveRel(a.getEl(),"tr-tl"),a.addClass("selected"),a.aria("expanded",!0))},hideMenu:function(){return this.menu&&
(this.menu.items().each(function(a){a.hideMenu&&a.hideMenu()}),this.menu.hide(),this.aria("expanded",!1)),this},renderHtml:function(){var a=this._id,b=this.settings,d=this.classPrefix,e=this.encode(this._text),g=this.settings.icon;return g&&this.parent().addClass("menu-has-icons"),g=d+"ico "+d+"i-"+(this.settings.icon||"none"),'<div id="'+a+'" class="'+this.classes()+'" tabindex="-1">'+("-"!==e?'<i class="'+g+'"></i>&nbsp;':"")+("-"!==e?'<span id="'+a+'-text" class="'+d+'text">'+e+"</span>":"")+(b.shortcut?
'<div id="'+a+'-shortcut" class="'+d+'menu-shortcut">'+b.shortcut+"</div>":"")+(b.menu?'<div class="'+d+'caret"></div>':"")+"</div>"},postRender:function(){var a=this.settings.textStyle;if("function"==typeof a&&(a=a()),a){var b=this.getEl("text");b&&b.setAttribute("style",a)}return this._super()},remove:function(){this._super();this.menu&&this.menu.remove()}})});h("tinymce/ui/Menu",["tinymce/ui/FloatPanel","tinymce/ui/KeyboardNavigation","tinymce/ui/MenuItem"],function(d,b,a){return d.extend({Defaults:{defaultType:"menuitem",
border:1,layout:"stack",role:"menu"},init:function(c){var d=this;c.autohide=!0;d._super(c);d.addClass("menu");d.keyNav=new b({root:d,enableUpDown:!0,enableLeftRight:!0,leftAction:function(){d.parent()instanceof a&&d.keyNav.cancel()},onCancel:function(){d.fire("cancel",{},!1);d.hide()}})},repaint:function(){return this.toggleClass("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll();this.fire("cancel");this.fire("select")},
hideAll:function(){return this.find("menuitem").exec("hideMenu"),this._super()},preRender:function(){var a=this;return a.items().each(function(b){b=b.settings;return b.icon||b.selectable?(a._hasIcons=!0,!1):g}),a._super()}})});h("tinymce/ui/Radio",["tinymce/ui/Widget"],function(d){return d.extend({Defaults:{classes:"radio",checked:!1},init:function(b){var a=this;a._super(b);a.on("click",function(b){b.preventDefault();a.disabled()||a.checked()||(a.parent().items().filter("radio:checked").exec("checked",
!1),a.checked(!0))});a.checked(b.checked)},checked:function(b){return b!==g?(b?this.addClass("checked"):this.removeClass("checked"),this._checked=b,this):this._checked},renderHtml:function(){var b=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes()+'" role="radio" unselectable="on"><i class="'+b+"ico "+b+'radio"></i>'+this._text+"</div>"}})});h("tinymce/ui/RadioGroup",["tinymce/ui/Container"],function(d){return d.extend({})});h("tinymce/ui/ResizeHandle",["tinymce/ui/Widget","tinymce/ui/DragHelper",
"tinymce/ui/DomUtils"],function(d,b,a){return d.extend({renderHtml:function(){var a=this.classPrefix;return this.addClass("resizehandle"),this.settings.both&&this.addClass("resizehandle-both"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes()+'"><i class="'+a+"ico "+a+'i-resize"></i></div>'},postRender:function(){function c(a){return{width:a.clientWidth,height:a.clientHeight}}var d=this,e,g=d.settings.editor;d._super();d.resizeDragHelper=new b(this._id,{start:function(){e=c(g.getContentAreaContainer().firstChild)},
drag:function(b){var h=e.width+b.deltaX;b=e.height+b.deltaY;var k,p,l,x,q=g.settings;k=g.getContainer();p=g.getContentAreaContainer().firstChild;l=c(k);x=c(p);h=Math.max(q.min_width||100,h);b=Math.max(q.min_height||100,b);h=Math.min(q.max_width||65535,h);b=Math.min(q.max_height||65535,b);d.settings.both&&a.css(k,"width",h+(l.width-x.width));a.css(k,"height",b+(l.height-x.height));d.settings.both&&a.css(p,"width",h);a.css(p,"height",b);g.fire("ResizeEditor")},end:function(){}})}})});h("tinymce/ui/Spacer",
["tinymce/ui/Widget"],function(d){return d.extend({renderHtml:function(){return this.addClass("spacer"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes()+'"></div>'}})});h("tinymce/ui/SplitButton",["tinymce/ui/MenuButton","tinymce/dom/DOMUtils"],function(d,b){var a=b.DOM;return d.extend({Defaults:{classes:"widget btn splitbtn",role:"splitbutton"},repaint:function(){var b=this.getEl(),d=this.layoutRect(),e,g,h;return this._super(),e=b.firstChild,g=b.lastChild,a.css(e,{width:d.w-g.offsetWidth,
height:d.h-2}),a.css(g,{height:d.h-2}),h=e.firstChild.style,h.width=h.height="100%",h=g.firstChild.style,h.width=h.height="100%",this},activeMenu:function(b){a.toggleClass(this.getEl().lastChild,this.classPrefix+"active",b)},renderHtml:function(){var a=this.classPrefix,b=this.settings.icon?a+"ico "+a+"i-"+this.settings.icon:"";return'<div id="'+this._id+'" class="'+this.classes()+'"><button hidefocus tabindex="-1">'+(b?'<i class="'+b+'"></i>':"")+(this._text?(b?" ":"")+this._text:"")+'</button><button class="'+
a+'open" hidefocus tabindex="-1">'+(this._menuBtnText?(b?" ":"")+this._menuBtnText:"")+' <i class="'+a+'caret"></i></button></div>'},postRender:function(){var b=this.settings.onclick;return this.on("click",function(d){d.control!=this||a.getParent(d.target,"."+this.classPrefix+"open")||(d.stopImmediatePropagation(),b.call(this,d))}),delete this.settings.onclick,this._super()}})});h("tinymce/ui/StackLayout",["tinymce/ui/FlowLayout"],function(d){return d.extend({Defaults:{containerClass:"stack-layout",
controlClass:"stack-layout-item",endClass:"break"}})});h("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/ui/DomUtils"],function(d,b){"use stict";return d.extend({lastIdx:0,Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(a){this.activeTabId&&b.removeClass(this.getEl(this.activeTabId),this.classPrefix+"active");this.activeTabId="t"+a;b.addClass(this.getEl("t"+a),this.classPrefix+"active");a!=this.lastIdx&&(this.items()[this.lastIdx].hide(),this.lastIdx=a);this.items()[a].show().fire("showtab");
this.reflow()},renderHtml:function(){var a=this,b=a._layout,d="",e=a.classPrefix;return a.preRender(),b.preRender(a),a.items().each(function(b,c){d+='<div id="'+a._id+"-t"+c+'" class="'+e+'tab" unselectable="on">'+a.encode(b.settings.title)+"</div>"}),'<div id="'+a._id+'" class="'+a.classes()+'" hideFocus="1" tabIndex="-1"><div id="'+a._id+'-head" class="'+e+'tabs">'+d+'</div><div id="'+a._id+'-body" class="'+a.classes("body")+'">'+b.renderHtml(a)+"</div></div>"},postRender:function(){var a=this;
a._super();a.settings.activeTab=a.settings.activeTab||0;a.activateTab(a.settings.activeTab);this.on("click",function(b){var d=b.target.parentNode;if(b.target.parentNode.id==a._id+"-head")for(var e=d.childNodes.length;e--;)d.childNodes[e]==b.target&&a.activateTab(e)})},initLayoutRect:function(){var a=this,b,d,e;d=e=0;a.items().each(function(b,c){d=Math.max(d,b.layoutRect().minW);e=Math.max(e,b.layoutRect().minH);a.settings.activeTab!=c&&b.hide()});a.items().each(function(a){a.settings.x=0;a.settings.y=
0;a.settings.w=d;a.settings.h=e;a.layoutRect({x:0,y:0,w:d,h:e})});var g=a.getEl("head").offsetHeight;return a.settings.minWidth=d,a.settings.minHeight=e+g,b=a._super(),b.deltaH+=a.getEl("head").offsetHeight,b.innerH=b.h-b.deltaH,b}})});h("tinymce/ui/TextBox",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(d,b){return d.extend({init:function(a){var b=this;b._super(a);b._value=a.value||"";b.addClass("textbox");a.multiline?b.addClass("multiline"):b.on("keydown",function(a){13==a.keyCode&&b.parents().reverse().each(function(b){return a.preventDefault(),
b.submit?(b.submit(),!1):g})})},value:function(a){return a!==g?(this._value=a,this._rendered&&(this.getEl().value=a),this):this._rendered?this.getEl().value:this._value},repaint:function(){var a,b,d,e=0,g=0,h;return a=this.getEl().style,b=this._layoutRect,h=this._lastRepaintRect||{},d=this._borderBox,e=d.left+d.right+8,g=d.top+d.bottom+(this.settings.multiline?8:0),b.x!==h.x&&(a.left=b.x+"px",h.x=b.x),b.y!==h.y&&(a.top=b.y+"px",h.y=b.y),b.w!==h.w&&(a.width=b.w-e+"px",h.w=b.w),b.h!==h.h&&(a.height=
b.h-g+"px",h.h=b.h),this._lastRepaintRect=h,this.fire("repaint",{},!1),this},renderHtml:function(){var a=this._id,b=this.settings,d=this.encode(this._value,!1),e="";return"spellcheck"in b&&(e+=' spellcheck="'+b.spellcheck+'"'),b.maxLength&&(e+=' maxlength="'+b.maxLength+'"'),b.size&&(e+=' size="'+b.size+'"'),b.subtype&&(e+=' type="'+b.subtype+'"'),b.multiline?'<textarea id="'+a+'" class="'+this.classes()+'" '+(b.rows?' rows="'+b.rows+'"':"")+' hidefocus="true"'+e+">"+d+"</textarea>":'<input id="'+
a+'" class="'+this.classes()+'" value="'+d+'" hidefocus="true"'+e+">"},postRender:function(){var a=this;return b.on(a.getEl(),"change",function(b){a.fire("change",b)}),a._super()}})});h("tinymce/ui/Throbber",["tinymce/ui/DomUtils"],function(d){return function(b){var a=this,c;a.show=function(f){return a.hide(),c=!0,window.setTimeout(function(){c&&b.appendChild(d.createFragment('<div class="mce-throbber"></div>'))},f||0),a};a.hide=function(){var d=b.lastChild;return d&&-1!=d.className.indexOf("throbber")&&
d.parentNode.removeChild(d),c=!1,a}}});(function(e){for(var b=0;e.length>b;b++){for(var a=d,c=e[b],f=c.split(/[.\/]/),h=0;f.length-1>h;++h)a[f[h]]===g&&(a[f[h]]={}),a=a[f[h]];a[f[f.length-1]]=q[c]}})("tinymce/dom/EventUtils tinymce/dom/Sizzle tinymce/dom/DomQuery tinymce/html/Styles tinymce/dom/TreeWalker tinymce/util/Tools tinymce/dom/Range tinymce/html/Entities tinymce/Env tinymce/dom/DOMUtils tinymce/dom/ScriptLoader tinymce/AddOnManager tinymce/html/Node tinymce/html/Schema tinymce/html/SaxParser tinymce/html/DomParser tinymce/html/Writer tinymce/html/Serializer tinymce/dom/Serializer tinymce/dom/TridentSelection tinymce/util/VK tinymce/dom/ControlSelection tinymce/dom/Selection tinymce/dom/RangeUtils tinymce/Formatter tinymce/UndoManager tinymce/EnterKey tinymce/ForceBlocks tinymce/EditorCommands tinymce/util/URI tinymce/util/Class tinymce/ui/Selector tinymce/ui/Collection tinymce/ui/DomUtils tinymce/ui/Control tinymce/ui/Factory tinymce/ui/Container tinymce/ui/DragHelper tinymce/ui/Scrollable tinymce/ui/Panel tinymce/ui/Movable tinymce/ui/Resizable tinymce/ui/FloatPanel tinymce/ui/KeyboardNavigation tinymce/ui/Window tinymce/ui/MessageBox tinymce/WindowManager tinymce/util/Quirks tinymce/util/Observable tinymce/Shortcuts tinymce/Editor tinymce/util/I18n tinymce/FocusManager tinymce/EditorManager tinymce/LegacyInput tinymce/util/XHR tinymce/util/JSON tinymce/util/JSONRequest tinymce/util/JSONP tinymce/util/LocalStorage tinymce/Compat tinymce/ui/Layout tinymce/ui/AbsoluteLayout tinymce/ui/Tooltip tinymce/ui/Widget tinymce/ui/Button tinymce/ui/ButtonGroup tinymce/ui/Checkbox tinymce/ui/CheckboxGroup tinymce/ui/PanelButton tinymce/ui/ColorButton tinymce/ui/ComboBox tinymce/ui/Path tinymce/ui/ElementPath tinymce/ui/FormItem tinymce/ui/Form tinymce/ui/FieldSet tinymce/ui/FilePicker tinymce/ui/FitLayout tinymce/ui/FlexLayout tinymce/ui/FlowLayout tinymce/ui/FormatControls tinymce/ui/GridLayout tinymce/ui/Iframe tinymce/ui/Label tinymce/ui/Toolbar tinymce/ui/MenuBar tinymce/ui/MenuButton tinymce/ui/ListBox tinymce/ui/MenuItem tinymce/ui/Menu tinymce/ui/Radio tinymce/ui/RadioGroup tinymce/ui/ResizeHandle tinymce/ui/Spacer tinymce/ui/SplitButton tinymce/ui/StackLayout tinymce/ui/TabPanel tinymce/ui/TextBox tinymce/ui/Throbber".split(" "))})(this);
(function(d){"function"==typeof define&&define.amd?define(["jquery","moment"],d):"object"==typeof exports?module.exports=d(require("jquery"),require("moment")):d(jQuery,moment)})(function(d,g){function k(){var a,b,c,e,f,g=Array.prototype.slice.call(arguments),h={};for(a=0;qa.length>a;a++){b=qa[a];c=null;for(e=0;g.length>e;e++)f=g[e][b],d.isPlainObject(f)?c=d.extend(c||{},f):null!=f&&(c=null);null!==c&&(h[b]=c)}return g.unshift({}),g.push(h),d.extend.apply(d,g)}function h(a){var b,c={views:a.views||
{}};return d.each(a,function(a,e){"views"!=a&&(d.isPlainObject(e)&&!/(time|duration|interval)$/i.test(a)&&-1==d.inArray(a,qa)?(b=null,d.each(e,function(d,e){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(d)?(c.views[d]||(c.views[d]={}),c.views[d][a]=e):(b||(b={}),b[d]=e)}),b&&(c[a]=b)):c[a]=e)}),c}function q(a,b){b.left&&a.css({"border-left-width":1,"margin-left":b.left-1});b.right&&a.css({"border-right-width":1,"margin-right":b.right-1})}function e(a){a.css({"margin-left":"",
"margin-right":"","border-left-width":"","border-right-width":""})}function b(){d("body").addClass("fc-not-allowed")}function a(){d("body").removeClass("fc-not-allowed")}function c(a,b,c){var e=Math.floor(b/a.length),f=Math.floor(b-e*(a.length-1)),g=[],h=[],l=[],k=0;a.height("");a.each(function(b,c){var p=b===a.length-1?f:e,m=d(c).outerHeight(!0);p>m?(g.push(c),h.push(m),l.push(d(c).height())):k+=m});c&&(b-=k,e=Math.floor(b/g.length),f=Math.floor(b-e*(g.length-1)));d(g).each(function(a,b){var c=a===
g.length-1?f:e,k=h[a],p=c-(k-l[a]);c>k&&d(b).height(p)})}function f(a){var b=0;return a.find("> *").each(function(a,c){var e=d(c).outerWidth();e>b&&(b=e)}),b++,a.width(b),b}function m(a,b){return a.height(b).addClass("fc-scroller"),a[0].scrollHeight-1>a[0].clientHeight?!0:(v(a),!1)}function v(a){a.height("").removeClass("fc-scroller")}function r(a){var b=a.css("position"),c=a.parents().filter(function(){var a=d(this);return/(auto|scroll)/.test(a.css("overflow")+a.css("overflow-y")+a.css("overflow-x"))}).eq(0);
return"fixed"!==b&&c.length?c:d(a[0].ownerDocument||document)}function n(a){var b=a.offset();return{left:b.left,right:b.left+a.outerWidth(),top:b.top,bottom:b.top+a.outerHeight()}}function w(a){var b=a.offset(),c=p(a),d=b.left+(parseFloat(a.css("border-left-width"))||0)+c.left,b=b.top+(parseFloat(a.css("border-top-width"))||0)+c.top;return{left:d,right:d+a[0].clientWidth,top:b,bottom:b+a[0].clientHeight}}function p(a){var b=a.innerWidth()-a[0].clientWidth,c={left:0,right:0,top:0,bottom:a.innerHeight()-
a[0].clientHeight};if(null===sa){var e=d("<div><div/></div>").css({position:"absolute",top:-1E3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),f=e.children().offset().left>e.offset().left;sa=(e.remove(),f)}return sa&&"rtl"==a.css("direction")?c.left=b:c.right=b,c}function l(a,b){var c,d,e,f,g=a.start,h=a.end,l=b.start,k=b.end;return h>l&&k>g?(g>=l?(c=g.clone(),e=!0):(c=l.clone(),e=!1),k>=h?(d=h.clone(),f=!0):(d=k.clone(),f=!1),{start:c,end:d,isStart:e,isEnd:f}):void 0}
function x(a,b){return g.duration({days:a.clone().stripTime().diff(b.clone().stripTime(),"days"),ms:a.time()-b.time()})}function E(a,b,c){return g.duration(Math.round(a.diff(b,c,!0)),c)}function z(a,b){var c,d,e;for(c=0;Ia.length>c&&(d=Ia[c],e=A(d,a,b),!(1<=e&&P(e)));c++);return d}function A(a,b,c){return null!=c?c.diff(b,a,!0):g.isDuration(b)?b.as(a):b.end.diff(b.start,a,!0)}function u(a){return Boolean(a.hours()||a.minutes()||a.seconds()||a.milliseconds())}function y(a){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(a)}
function L(a){var b=function(){};return b.prototype=a,new b}function D(a,b){for(var c in a)Ta.call(a,c)&&(b[c]=a[c])}function B(a,b){var c,d,e=["constructor","toString","valueOf"];for(c=0;e.length>c;c++)d=e[c],a[d]!==Object.prototype[d]&&(b[d]=a[d])}function G(a,b,c){if(d.isFunction(a)&&(a=[a]),a){var e,f;for(e=0;a.length>e;e++)f=a[e].apply(b,c)||f;return f}}function F(){for(var a=0;arguments.length>a;a++)if(void 0!==arguments[a])return arguments[a]}function I(a){return(a+"").replace(/&/g,"&amp;").replace(/</g,
"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function O(a){var b=[];return d.each(a,function(a,c){null!=c&&b.push(a+":"+c)}),b.join(";")}function N(a){return a.charAt(0).toUpperCase()+a.slice(1)}function R(a,b){return a-b}function P(a){return 0===a%1}function K(a,b){var c=a[b];return function(){return c.apply(a,arguments)}}function S(a,b){var c,d,e,f,g=function(){var h=+new Date-f;b>h&&0<h?c=setTimeout(g,b-h):(c=null,a.apply(e,d),c||(e=d=null))};
return function(){e=this;d=arguments;f=+new Date;c||(c=setTimeout(g,b))}}function M(a,b,c){var e,f,h,l,k=a[0],p=1==a.length&&"string"==typeof k;if(g.isMoment(k))l=g.apply(null,a),H(k,l);else{var m=k;"[object Date]"===Object.prototype.toString.call(m)||m instanceof Date||void 0===k?l=g.apply(null,a):(e=!1,f=!1,p?Da.test(k)?(k+="-01",a=[k],e=!0,f=!0):(h=Ma.exec(k))&&(e=!h[5],f=!0):d.isArray(k)&&(f=!0),l=b||e?g.utc.apply(g,a):g.apply(null,a),e?(l._ambigTime=!0,l._ambigZone=!0):c&&(f?l._ambigZone=!0:
p&&(l.utcOffset?l.utcOffset(k):l.zone(k))))}return l._fullCalendar=!0,l}function C(a,b){var c,d,e=!1,f=!1,h=a.length,l=[];for(c=0;h>c;c++)d=a[c],g.isMoment(d)||(d=X.moment.parseZone(d)),e=e||d._ambigTime,f=f||d._ambigZone,l.push(d);for(c=0;h>c;c++)d=l[c],b||!e||d._ambigTime?f&&!d._ambigZone&&(l[c]=d.clone().stripZone()):l[c]=d.clone().stripTime();return l}function H(a,b){a._ambigTime?b._ambigTime=!0:b._ambigTime&&(b._ambigTime=!1);a._ambigZone?b._ambigZone=!0:b._ambigZone&&(b._ambigZone=!1)}function T(a,
b){a.year(b[0]||0).month(b[1]||0).date(b[2]||0).hours(b[3]||0).minutes(b[4]||0).seconds(b[5]||0).milliseconds(b[6]||0)}function V(a,b){return ya.format.call(a,b)}function W(a,b){var c,d="";for(c=0;b.length>c;c++)d+=Y(a,b[c]);return d}function Y(a,b){var c,d;return"string"==typeof b?b:(c=b.token)?Wa[c]?Wa[c](a):V(a,c):b.maybe&&(d=W(a,b.maybe),d.match(/[1-9]/))?d:""}function U(a,b,c,d,e){a=X.moment.parseZone(a);b=X.moment.parseZone(b);c=(a.localeData||a.lang).call(a).longDateFormat(c)||c;d=d||" - ";
c=la(c);var f,g,h,l="",k="",p="",m="",n="";for(g=0;c.length>g&&(f=ca(a,b,c[g]),!1!==f);g++)l+=f;for(h=c.length-1;h>g&&(f=ca(a,b,c[h]),!1!==f);h--)k=f+k;for(f=g;h>=f;f++)p+=Y(a,c[f]),m+=Y(b,c[f]);return(p||m)&&(n=e?m+d+p:p+d+m),l+n+k}function ca(a,b,c){var d,e;return"string"==typeof c?c:(d=c.token)&&(e=ab[d.charAt(0)],e&&a.isSame(b,e))?V(a,d):!1}function la(a){return a in jb?jb[a]:jb[a]=Q(a)}function Q(a){for(var b,c=[],d=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;b=d.exec(a);)b[1]?
c.push(b[1]):b[2]?c.push({maybe:Q(b[2])}):b[3]?c.push({token:b[3]}):b[5]&&c.push(b[5]);return c}function Z(){}function ua(a,b){return a||b?a&&b?a.grid===b.grid&&a.row===b.row&&a.col===b.col:!1:!0}function da(a){return F((a.source||{}).rendering,a.rendering)}function aa(a){var b,c,d={};for(b=0;a.length>b;b++)c=a[b],(d[c._id]||(d[c._id]=[])).push(c);return d}function ka(a,b){return a.eventStartMS-b.eventStartMS}function Ba(a,b){return a.eventStartMS-b.eventStartMS||b.eventDurationMS-a.eventDurationMS||
b.event.allDay-a.event.allDay||(a.event.title||"").localeCompare(b.event.title)}function ba(a){var b,c,e,f,h=X.dataAttrPrefix;return h&&(h+="-"),b=a.data(h+"event")||null,b&&(b="object"==typeof b?d.extend({},b):{},c=b.start,null==c&&(c=b.time),e=b.duration,f=b.stick,delete b.start,delete b.time,delete b.duration,delete b.stick),null==c&&(c=a.data(h+"start")),null==c&&(c=a.data(h+"time")),null==e&&(e=a.data(h+"duration")),null==f&&(f=a.data(h+"stick")),c=null!=c?g.duration(c):null,e=null!=e?g.duration(e):
null,f=Boolean(f),{eventProps:b,startTime:c,duration:e,stick:f}}function pa(a,b){var c,d;for(c=0;b.length>c;c++)if(d=b[c],d.leftCol<=a.rightCol&&d.rightCol>=a.leftCol)return!0;return!1}function Ja(a,b){return a.leftCol-b.leftCol}function ma(a){var b,c,d=a.forwardSegs,e=0;if(void 0===a.forwardPressure){for(b=0;d.length>b;b++)c=d[b],ma(c),e=Math.max(e,1+c.forwardPressure);a.forwardPressure=e}}function ha(a,b,c){var d=a.forwardSegs;if(void 0===a.forwardCoord)for(d.length?(d.sort(t),ha(d[0],b+1,c),a.forwardCoord=
d[0].backwardCoord):a.forwardCoord=1,a.backwardCoord=a.forwardCoord-(a.forwardCoord-c)/(b+1),b=0;d.length>b;b++)ha(d[b],0,a.forwardCoord)}function Ha(a,b,c){c=c||[];for(var d=0;b.length>d;d++){var e=b[d];a.bottom>e.top&&a.top<e.bottom&&c.push(b[d])}return c}function t(a,b){return b.forwardPressure-a.forwardPressure||(a.backwardCoord||0)-(b.backwardCoord||0)||Ba(a,b)}function J(a){d.each(Va,function(b,c){null==a[b]&&(a[b]=c(a))})}function na(a){var b=g.localeData||g.langData;return b.call(g,a)||b.call(g,
"en")}function va(a,b){function c(f){var h=d('<div class="fc-'+f+'"/>');f=b.header[f];return f&&d.each(f.split(" "),function(){var c,f=d(),l=!0;d.each(this.split(","),function(c,h){var k,p,m,n,r,x,w,u,q;"title"==h?(f=f.add(d("<h2>&nbsp;</h2>")),l=!1):(k=a.getViewSpec(h),k?(p=function(){a.changeView(h)},g.push(h),m=k.buttonTextOverride,n=k.buttonTextDefault):a[h]&&(p=function(){a[h]()},m=(a.overrides.buttonText||{})[h],n=b.buttonText[h]),p&&(r=b.themeButtonIcons[h],x=b.buttonIcons[h],w=m?I(m):r&&b.theme?
"<span class='ui-icon ui-icon-"+r+"'></span>":x&&!b.theme?"<span class='fc-icon fc-icon-"+x+"'></span>":I(n),u=["fc-"+h+"-button",e+"-button",e+"-state-default"],q=d('<button type="button" class="'+u.join(" ")+'">'+w+"</button>").click(function(){q.hasClass(e+"-state-disabled")||(p(),(q.hasClass(e+"-state-active")||q.hasClass(e+"-state-disabled"))&&q.removeClass(e+"-state-hover"))}).mousedown(function(){q.not("."+e+"-state-active").not("."+e+"-state-disabled").addClass(e+"-state-down")}).mouseup(function(){q.removeClass(e+
"-state-down")}).hover(function(){q.not("."+e+"-state-active").not("."+e+"-state-disabled").addClass(e+"-state-hover")},function(){q.removeClass(e+"-state-hover").removeClass(e+"-state-down")}),f=f.add(q)))});l&&f.first().addClass(e+"-corner-left").end().last().addClass(e+"-corner-right").end();1<f.length?(c=d("<div/>"),l&&c.addClass("fc-button-group"),c.append(f),h.append(c)):h.append(f)}),h}this.render=function(){var a=b.header;return e=b.theme?"ui":"fc",a?f=d("<div class='fc-toolbar'/>").append(c("left")).append(c("right")).append(c("center")).append('<div class="fc-clear"/>'):
void 0};this.destroy=function(){f.remove()};this.updateTitle=function(a){f.find("h2").text(a)};this.activateButton=function(a){f.find(".fc-"+a+"-button").addClass(e+"-state-active")};this.deactivateButton=function(a){f.find(".fc-"+a+"-button").removeClass(e+"-state-active")};this.disableButton=function(a){f.find(".fc-"+a+"-button").attr("disabled","disabled").addClass(e+"-state-disabled")};this.enableButton=function(a){f.find(".fc-"+a+"-button").removeAttr("disabled").removeClass(e+"-state-disabled")};
this.getViewsWithButtons=function(){return g};var e,f=d(),g=[]}function Pa(a){function b(a,e){c(a,function(b){var c,f,g=d.isArray(a.events);if(e==ia){if(b)for(c=0;b.length>c;c++)f=b[c],(f=g?f:n(f,a))&&P.push.apply(P,q(f));M--;M||N(P)}})}function c(b,e){var f,g,h=X.sourceFetchers;for(f=0;h.length>f;f++){if(g=h[f].call(B,b,C.clone(),I.clone(),a.timezone,e),!0===g)return;if("object"==typeof g)return c(g,e),void 0}if(f=b.events)d.isFunction(f)?(p(),f.call(B,C.clone(),I.clone(),a.timezone,function(a){e(a);
m()})):d.isArray(f)?e(f):e();else if(b.url){var l=b.success,k=b.error,n=b.complete;f=d.isFunction(b.data)?b.data():b.data;f=d.extend({},f||{});g=F(b.startParam,a.startParam);var h=F(b.endParam,a.endParam),r=F(b.timezoneParam,a.timezoneParam);g&&(f[g]=C.format());h&&(f[h]=I.format());a.timezone&&"local"!=a.timezone&&(f[r]=a.timezone);p();d.ajax(d.extend({},db,b,{data:f,success:function(a){a=a||[];var b=G(l,this,arguments);d.isArray(b)&&(a=b);e(a)},error:function(){G(k,this,arguments);e()},complete:function(){G(n,
this,arguments);m()}}))}else e()}function e(a){var b,c=X.sourceNormalizers;if(d.isFunction(a)||d.isArray(a)?b={events:a}:"string"==typeof a?b={url:a}:"object"==typeof a&&(b=d.extend({},a)),b){b.className?"string"==typeof b.className&&(b.className=b.className.split(/\s+/)):b.className=[];d.isArray(b.events)&&(b.origArray=b.events,b.events=d.map(b.events,function(a){return n(a,b)}));for(a=0;c.length>a;a++)c[a].call(B,b);return b}}function f(a,b){return a&&b&&h(a)==h(b)}function h(a){return("object"==
typeof a?a.origArray||a.googleCalendarId||a.url||a.events:null)||a}function l(a){var b={};return d.each(a,function(a,c){!/^_|^(id|allDay|start|end)$/.test(a)&&void 0!==c&&/undefined|null|boolean|number|string/.test(d.type(c))&&(b[a]=c)}),b}function k(a){return d.isFunction(a)?d.grep(P,a):null!=a?(a+="",d.grep(P,function(b){return b._id==a})):P}function p(){J++||H("loading",null,!0,O())}function m(){--J||H("loading",null,!1,O())}function n(b,c){var e,f,h,l={};if(a.eventDataTransform&&(b=a.eventDataTransform(b)),
c&&c.eventDataTransform&&(b=c.eventDataTransform(b)),d.extend(l,b),c&&(l.source=c),l._id=b._id||(void 0===b.id?"_fc"+fb++:b.id+""),l.className=b.className?"string"==typeof b.className?b.className.split(/\s+/):b.className:[],e=b.start||b.date,f=b.end,y(e)&&(e=g.duration(e)),y(f)&&(f=g.duration(f)),b.dow||g.isDuration(e)||g.isDuration(f))l.start=e?g.duration(e):null,l.end=f?g.duration(f):null,l._recurring=!0;else{if(e&&(e=B.moment(e),!e.isValid()))return!1;f&&(f=B.moment(f),f.isValid()||(f=null));h=
b.allDay;void 0===h&&(h=F(c?c.allDayDefault:void 0,a.allDayDefault));l.start=e;l.end=f;l.allDay=h;r(l);wa(l)}return l}function r(b){w(b);b.end&&!b.end.isAfter(b.start)&&(b.end=null);b.end||(b.end=a.forceEventDuration?B.getDefaultEventEnd(b.allDay,b.start):null)}function w(a){null==a.allDay&&(a.allDay=!(a.start.hasTime()||a.end&&a.end.hasTime()));a.allDay?(a.start.stripTime(),a.end&&a.end.stripTime()):(a.start.hasTime()||(a.start=B.rezoneDate(a.start)),a.end&&!a.end.hasTime()&&(a.end=B.rezoneDate(a.end)))}
function u(a){var b;return a.end||(b=a.allDay,null==b&&(b=!a.start.hasTime()),a=d.extend({},a),a.end=B.getDefaultEventEnd(b,a.start)),a}function q(a,b,c){var e,f,g,h,l,k,p=[];if(b=b||C,c=c||I,a)if(a._recurring){if(f=a.dow)for(e={},g=0;f.length>g;g++)e[f[g]]=!0;for(b=b.clone().stripTime();b.isBefore(c);){if(!e||e[b.day()])h=a.start,l=a.end,f=b.clone(),k=null,h&&(f=f.time(h)),l&&(k=b.clone().time(l)),g=d.extend({},a),h=!h&&!l,l=g,l.start=f,l.end=k,l.allDay=h,r(l),wa(l),p.push(g);b.add(1,"days")}}else p.push(a);
return p}function v(a,b,c){function e(a,d){return c?E(a,d,c):b.allDay?g.duration({days:a.clone().stripTime().diff(d.clone().stripTime(),"days")}):x(a,d)}var f,h,l,p,m,n,w={};return b=b||{},b.start||(b.start=a.start.clone()),void 0===b.end&&(b.end=a.end?a.end.clone():null),null==b.allDay&&(b.allDay=a.allDay),r(b),f={start:a._start.clone(),end:a._end?a._end.clone():B.getDefaultEventEnd(a._allDay,a._start),allDay:b.allDay},r(f),h=null!==a._end&&null===b.end,l=e(b.start,f.start),b.end?(p=e(b.end,f.end),
m=p.subtract(l)):m=null,d.each(b,function(a,b){!/^_|^(id|allDay|start|end)$/.test(a)&&void 0!==b&&(w[a]=b)}),n=z(k(a._id),h,b.allDay,l,m,w),{dateDelta:l,durationDelta:m,undo:n}}function z(a,b,c,e,f,g){var h=B.getIsAmbigTimezone(),l=[];return e&&!e.valueOf()&&(e=null),f&&!f.valueOf()&&(f=null),d.each(a,function(a,k){var p,m;p={start:k.start.clone(),end:k.end?k.end.clone():null,allDay:k.allDay};d.each(g,function(a){p[a]=k[a]});m={start:k._start,end:k._end,allDay:c};r(m);b?m.end=null:f&&!m.end&&(m.end=
B.getDefaultEventEnd(m.allDay,m.start));e&&(m.start.add(e),m.end&&m.end.add(e));f&&m.end.add(f);h&&!m.allDay&&(e||f)&&(m.start.stripZone(),m.end&&m.end.stripZone());d.extend(k,g,m);wa(k);l.push(function(){d.extend(k,p);wa(k)})}),function(){for(var a=0;l.length>a;a++)l[a]()}}function A(b){var c,e=a.businessHours,f={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},g=B.getView();return e&&(c=d.extend({},f,"object"==typeof e?e:{})),c?(b&&(c.start=null,
c.end=null),q(n(c),g.start,g.end)):[]}function t(b,c){var d=c.source||{},e=F(c.constraint,d.constraint,a.eventConstraint),d=F(c.overlap,d.overlap,a.eventOverlap);return b=u(b),L(b,e,d,c)}function D(b){return L(b,a.selectConstraint,a.selectOverlap)}function L(a,b,c,e){var f,g,h;if(a=d.extend({},a),a.start=a.start.clone().stripZone(),a.end=a.end.clone().stripZone(),null!=b){f="businessHours"===b?A():"object"==typeof b?q(n(b)):k(b);g=!1;for(b=0;f.length>b;b++){var l=f[b],p=a,m=l.start.clone().stripZone(),
l=B.getEventEnd(l).stripZone();if(p.start>=m&&l>=p.end){g=!0;break}}if(!g)return!1}f=B.getPeerEvents(e,a);for(b=0;f.length>b;b++)if(p=g=f[b],m=a,l=p.start.clone().stripZone(),B.getEventEnd(p).stripZone()>m.start&&m.end>l&&(!1===c||"function"==typeof c&&!c(g,e)||e&&((h=F(g.overlap,(g.source||{}).overlap),!1===h)||"function"==typeof h&&!h(e,g))))return!1;return!0}var B=this;B.isFetchNeeded=function(a,b){return!C||a.clone().stripZone()<C.clone().stripZone()||b.clone().stripZone()>I.clone().stripZone()};
B.fetchEvents=function(a,c){C=a;I=c;P=[];var d=++ia,e=K.length;M=e;for(var f=0;e>f;f++)b(K[f],d)};B.addEventSource=function(a){(a=e(a))&&(K.push(a),M++,b(a,ia))};B.removeEventSource=function(a){K=d.grep(K,function(b){return!f(b,a)});P=d.grep(P,function(b){return!f(b.source,a)});N(P)};B.updateEvent=function(a){a.start=B.moment(a.start);a.end=a.end?B.moment(a.end):null;v(a,l(a));N(P)};B.renderEvent=function(a,b){var c,d,e;if(c=n(a)){c=q(c);for(d=0;c.length>d;d++)e=c[d],e.source||(b&&(Cb.events.push(e),
e.source=Cb),P.push(e));return N(P),c}return[]};B.removeEvents=function(a){var b,c;null==a?a=function(){return!0}:d.isFunction(a)||(b=a+"",a=function(a){return a._id==b});P=d.grep(P,a,!0);for(c=0;K.length>c;c++)d.isArray(K[c].events)&&(K[c].events=d.grep(K[c].events,a,!0));N(P)};B.clientEvents=k;B.mutateEvent=v;B.normalizeEventRange=r;B.normalizeEventRangeTimes=w;B.ensureVisibleEventRange=u;var C,I,H=B.trigger,O=B.getView,N=B.reportEvents,Cb={events:[]},K=[Cb],ia=0,M=0,J=0,P=[];d.each((a.events?[a.events]:
[]).concat(a.eventSources||[]),function(a,b){var c=e(b);c&&K.push(c)});B.getBusinessHoursEvents=A;B.isEventRangeAllowed=t;B.isSelectionRangeAllowed=D;B.isExternalDropRangeAllowed=function(a,b){var c,e;return b&&(c=d.extend({},b,a),e=q(n(c))[0]),e?t(a,e):(a=u(a),D(a))};B.getEventCache=function(){return P}}function wa(a){a._allDay=a.allDay;a._start=a.start.clone();a._end=a.end?a.end.clone():null}var X=d.fullCalendar={version:"2.3.1"},ia=X.views={};d.fn.fullCalendar=function(a){var b=Array.prototype.slice.call(arguments,
1),c=this;return this.each(function(e,f){var g,h=d(f),l=h.data("fullCalendar");"string"==typeof a?l&&d.isFunction(l[a])&&(g=l[a].apply(l,b),e||(c=g),"destroy"===a&&h.removeData("fullCalendar")):l||(l=new X.CalendarBase(h,a),h.data("fullCalendar",l),l.render())}),c};var qa=["header","buttonText","buttonIcons","themeButtonIcons"];X.intersectionToSeg=l;X.applyAll=G;X.debounce=S;X.isInt=P;X.htmlEscape=I;X.cssToStr=O;X.proxy=K;X.getClientRect=w;X.getContentRect=function(a){var b=a.offset(),c=b.left+(parseFloat(a.css("border-left-width"))||
0)+(parseFloat(a.css("padding-left"))||0),b=b.top+(parseFloat(a.css("border-top-width"))||0)+(parseFloat(a.css("padding-top"))||0);return{left:c,right:c+a.width(),top:b,bottom:b+a.height()}};X.getScrollbarWidths=p;var sa=null;X.computeIntervalUnit=z;X.durationHasTime=u;var za,Na,Sa,Aa="sun mon tue wed thu fri sat".split(" "),Ia="year month week day hour minute second millisecond".split(" "),Ta={}.hasOwnProperty,Da=/^\s*\d{4}-\d\d$/,Ma=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,
ga=g.fn,ya=d.extend({},ga);X.moment=function(){return M(arguments)};X.moment.utc=function(){var a=M(arguments,!0);return a.hasTime()&&a.utc(),a};X.moment.parseZone=function(){return M(arguments,!0,!0)};ga.clone=function(){var a=ya.clone.apply(this,arguments);return H(this,a),this._fullCalendar&&(a._fullCalendar=!0),a};ga.week=ga.weeks=function(a){var b=(this._locale||this._lang)._fullCalendar_weekCalc;return null==a&&"function"==typeof b?b(this):"ISO"===b?ya.isoWeek.apply(this,arguments):ya.week.apply(this,
arguments)};ga.time=function(a){if(!this._fullCalendar)return ya.time.apply(this,arguments);if(null==a)return g.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1;g.isDuration(a)||g.isMoment(a)||(a=g.duration(a));var b=0;return g.isDuration(a)&&(b=24*Math.floor(a.asDays())),this.hours(b+a.hours()).minutes(a.minutes()).seconds(a.seconds()).milliseconds(a.milliseconds())};ga.stripTime=function(){var a;return this._ambigTime||
(a=this.toArray(),this.utc(),Na(this,a.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this};ga.hasTime=function(){return!this._ambigTime};ga.stripZone=function(){var a,b;return this._ambigZone||(a=this.toArray(),b=this._ambigTime,this.utc(),Na(this,a),this._ambigTime=b||!1,this._ambigZone=!0),this};ga.hasZone=function(){return!this._ambigZone};ga.local=function(){var a=this.toArray(),b=this._ambigZone;return ya.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,b&&Sa(this,a),this};
ga.utc=function(){return ya.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this};d.each(["zone","utcOffset"],function(a,b){ya[b]&&(ga[b]=function(a){return null!=a&&(this._ambigTime=!1,this._ambigZone=!1),ya[b].apply(this,arguments)})});ga.format=function(){return this._fullCalendar&&arguments[0]?W(this,la(arguments[0])):this._ambigTime?V(this,"YYYY-MM-DD"):this._ambigZone?V(this,"YYYY-MM-DD[T]HH:mm:ss"):ya.format.apply(this,arguments)};ga.toISOString=function(){return this._ambigTime?
V(this,"YYYY-MM-DD"):this._ambigZone?V(this,"YYYY-MM-DD[T]HH:mm:ss"):ya.toISOString.apply(this,arguments)};ga.isWithin=function(a,b){var c=C([this,a,b]);return c[0]>=c[1]&&c[0]<c[2]};ga.isSame=function(a,b){var c;return this._fullCalendar?b?(c=C([this,a],!0),ya.isSame.call(c[0],c[1],b)):(a=X.moment.parseZone(a),ya.isSame.call(this,a)&&Boolean(this._ambigTime)===Boolean(a._ambigTime)&&Boolean(this._ambigZone)===Boolean(a._ambigZone)):ya.isSame.apply(this,arguments)};d.each(["isBefore","isAfter"],function(a,
b){ga[b]=function(a,c){var d;return this._fullCalendar?(d=C([this,a]),ya[b].call(d[0],d[1],c)):ya[b].apply(this,arguments)}});Na=(za="_d"in g()&&"updateOffset"in g)?function(a,b){a._d.setTime(Date.UTC.apply(Date,b));g.updateOffset(a,!1)}:T;Sa=za?function(a,b){a._d.setTime(+new Date(b[0]||0,b[1]||0,b[2]||0,b[3]||0,b[4]||0,b[5]||0,b[6]||0));g.updateOffset(a,!1)}:T;var Wa={t:function(a){return V(a,"a").charAt(0)},T:function(a){return V(a,"A").charAt(0)}};X.formatRange=U;var ab={Y:"year",M:"month",D:"day",
d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},jb={};X.Class=Z;Z.extend=function(a){var b,c=this;return a=a||{},Ta.call(a,"constructor")&&(b=a.constructor),"function"!=typeof b&&(b=a.constructor=function(){c.apply(this,arguments)}),b.prototype=L(c.prototype),D(a,b.prototype),B(a,b.prototype),D(c,b),b};Z.mixin=function(a){D(a.prototype||a,this.prototype)};var tb=Z.extend({isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,constructor:function(a){this.options=
a||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var a=this,b=this.options;this.el=d('<div class="fc-popover"/>').addClass(b.className||"").css({top:0,left:0}).append(b.content).appendTo(b.parentEl);this.el.on("click",".fc-close",function(){a.hide()});b.autoHide&&d(document).on("mousedown",this.documentMousedownProxy=
K(this,"documentMousedown"))},documentMousedown:function(a){this.el&&!d(a.target).closest(this.el).length&&this.hide()},destroy:function(){this.hide();this.el&&(this.el.remove(),this.el=null);d(document).off("mousedown",this.documentMousedownProxy)},position:function(){var a,b,c,e,f,g=this.options,h=this.el.offsetParent().offset(),l=this.el.outerWidth(),k=this.el.outerHeight(),p=d(window),m=r(this.el);e=g.top||0;f=void 0!==g.left?g.left:void 0!==g.right?g.right-l:0;m.is(window)||m.is(document)?(m=
p,a=0,b=0):(c=m.offset(),a=c.top,b=c.left);a+=p.scrollTop();b+=p.scrollLeft();!1!==g.viewportConstrain&&(e=Math.min(e,a+m.outerHeight()-k-this.margin),e=Math.max(e,a+this.margin),f=Math.min(f,b+m.outerWidth()-l-this.margin),f=Math.max(f,b+this.margin));this.el.css({top:e-h.top,left:f-h.left})},trigger:function(a){this.options[a]&&this.options[a].apply(this,Array.prototype.slice.call(arguments,1))}}),eb=Z.extend({grid:null,rowCoords:null,colCoords:null,containerEl:null,bounds:null,constructor:function(a){this.grid=
a},build:function(){this.rowCoords=this.grid.computeRowCoords();this.colCoords=this.grid.computeColCoords();this.computeBounds()},clear:function(){this.colCoords=this.rowCoords=null},getCell:function(a,b){var c,e,f,g=this.rowCoords,h=g.length,l=this.colCoords,k=l.length,p=null,m=null;if(this.inBounds(a,b)){for(c=0;h>c;c++)if(e=g[c],b>=e.top&&e.bottom>b){p=c;break}for(c=0;k>c;c++)if(e=l[c],a>=e.left&&e.right>a){m=c;break}if(null!==p&&null!==m)return f=this.grid.getCell(p,m),f.grid=this.grid,d.extend(f,
g[p],l[m]),f}return null},computeBounds:function(){this.bounds=this.containerEl?w(this.containerEl):null},inBounds:function(a,b){var c=this.bounds;return c?a>=c.left&&c.right>a&&b>=c.top&&c.bottom>b:!0}}),Xa=Z.extend({coordMaps:null,constructor:function(a){this.coordMaps=a},build:function(){var a,b=this.coordMaps;for(a=0;b.length>a;a++)b[a].build()},getCell:function(a,b){var c,d=this.coordMaps,e=null;for(c=0;d.length>c&&!e;c++)e=d[c].getCell(a,b);return e},clear:function(){var a,b=this.coordMaps;
for(a=0;b.length>a;a++)b[a].clear()}}),Ea=X.DragListener=Z.extend({options:null,isListening:!1,isDragging:!1,originX:null,originY:null,mousemoveProxy:null,mouseupProxy:null,subjectEl:null,subjectHref:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,constructor:function(a){this.options=a=a||{};this.subjectEl=a.subjectEl},mousedown:function(a){1==a.which&&!a.ctrlKey&&(a.preventDefault(),
this.startListening(a),this.options.distance||this.startDrag(a))},startListening:function(a){var b;this.isListening||(a&&this.options.scroll&&(b=r(d(a.target)),b.is(window)||b.is(document)||(this.scrollEl=b,this.scrollHandlerProxy=S(K(this,"scrollHandler"),100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),d(document).on("mousemove",this.mousemoveProxy=K(this,"mousemove")).on("mouseup",this.mouseupProxy=K(this,"mouseup")).on("selectstart",this.preventDefault),a?(this.originX=a.pageX,this.originY=
a.pageY):(this.originX=0,this.originY=0),this.isListening=!0,this.listenStart(a))},listenStart:function(a){this.trigger("listenStart",a)},mousemove:function(a){var b,c,d=a.pageX-this.originX,e=a.pageY-this.originY;this.isDragging||(b=this.options.distance||1,c=d*d+e*e,c>=b*b&&this.startDrag(a));this.isDragging&&this.drag(d,e,a)},startDrag:function(a){this.isListening||this.startListening();this.isDragging||(this.isDragging=!0,this.dragStart(a))},dragStart:function(a){var b=this.subjectEl;this.trigger("dragStart",
a);(this.subjectHref=b?b.attr("href"):null)&&b.removeAttr("href")},drag:function(a,b,c){this.trigger("drag",a,b,c);this.updateScroll(c)},mouseup:function(a){this.stopListening(a)},stopDrag:function(a){this.isDragging&&(this.stopScrolling(),this.dragStop(a),this.isDragging=!1)},dragStop:function(a){var b=this;this.trigger("dragStop",a);setTimeout(function(){b.subjectHref&&b.subjectEl.attr("href",b.subjectHref)},0)},stopListening:function(a){this.stopDrag(a);this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",
this.scrollHandlerProxy),this.scrollHandlerProxy=null),d(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.listenStop(a))},listenStop:function(a){this.trigger("listenStop",a)},trigger:function(a){this.options[a]&&this.options[a].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(a){a.preventDefault()},computeScrollBounds:function(){var a=
this.scrollEl;this.scrollBounds=a?n(a):null},updateScroll:function(a){var b,c,d,e,f=this.scrollSensitivity,g=this.scrollBounds,h=0,l=0;g&&(b=(f-(a.pageY-g.top))/f,c=(f-(g.bottom-a.pageY))/f,d=(f-(a.pageX-g.left))/f,e=(f-(g.right-a.pageX))/f,0<=b&&1>=b?h=-1*b*this.scrollSpeed:0<=c&&1>=c&&(h=c*this.scrollSpeed),0<=d&&1>=d?l=-1*d*this.scrollSpeed:0<=e&&1>=e&&(l=e*this.scrollSpeed));this.setScrollVel(h,l)},setScrollVel:function(a,b){this.scrollTopVel=a;this.scrollLeftVel=b;this.constrainScrollVel();!this.scrollTopVel&&
!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(K(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var a=this.scrollEl;0>this.scrollTopVel?0>=a.scrollTop()&&(this.scrollTopVel=0):0<this.scrollTopVel&&a.scrollTop()+a[0].clientHeight>=a[0].scrollHeight&&(this.scrollTopVel=0);0>this.scrollLeftVel?0>=a.scrollLeft()&&(this.scrollLeftVel=0):0<this.scrollLeftVel&&a.scrollLeft()+a[0].clientWidth>=a[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var a=
this.scrollEl,b=this.scrollIntervalMs/1E3;this.scrollTopVel&&a.scrollTop(a.scrollTop()+this.scrollTopVel*b);this.scrollLeftVel&&a.scrollLeft(a.scrollLeft()+this.scrollLeftVel*b);this.constrainScrollVel();this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.scrollStop())},scrollHandler:function(){this.scrollIntervalId||this.scrollStop()},scrollStop:function(){}}),Ua=Ea.extend({coordMap:null,
origCell:null,cell:null,coordAdjust:null,constructor:function(a,b){Ea.prototype.constructor.call(this,b);this.coordMap=a},listenStart:function(a){var b,c,d,e=this.subjectEl;Ea.prototype.listenStart.apply(this,arguments);this.computeCoords();a?(d=c={left:a.pageX,top:a.pageY},e&&(b=n(e),d={left:Math.min(Math.max(d.left,b.left),b.right),top:Math.min(Math.max(d.top,b.top),b.bottom)}),this.origCell=this.getCell(d.left,d.top),e&&this.options.subjectCenter&&(this.origCell&&(d=this.origCell,d={left:Math.max(d.left,
b.left),right:Math.min(d.right,b.right),top:Math.max(d.top,b.top),bottom:Math.min(d.bottom,b.bottom)},b=(d.left<d.right&&d.top<d.bottom?d:!1)||b),d={left:(b.left+b.right)/2,top:(b.top+b.bottom)/2}),this.coordAdjust={left:d.left-c.left,top:d.top-c.top}):this.coordAdjust=this.origCell=null},computeCoords:function(){this.coordMap.build();this.computeScrollBounds()},dragStart:function(a){var b;Ea.prototype.dragStart.apply(this,arguments);(b=this.getCell(a.pageX,a.pageY))&&this.cellOver(b)},drag:function(a,
b,c){var d;Ea.prototype.drag.apply(this,arguments);d=this.getCell(c.pageX,c.pageY);ua(d,this.cell)||(this.cell&&this.cellOut(),d&&this.cellOver(d))},dragStop:function(){this.cellDone();Ea.prototype.dragStop.apply(this,arguments)},cellOver:function(a){this.cell=a;this.trigger("cellOver",a,ua(a,this.origCell),this.origCell)},cellOut:function(){this.cell&&(this.trigger("cellOut",this.cell),this.cellDone(),this.cell=null)},cellDone:function(){this.cell&&this.trigger("cellDone",this.cell)},listenStop:function(){Ea.prototype.listenStop.apply(this,
arguments);this.origCell=this.cell=null;this.coordMap.clear()},scrollStop:function(){Ea.prototype.scrollStop.apply(this,arguments);this.computeCoords()},getCell:function(a,b){return this.coordAdjust&&(a+=this.coordAdjust.left,b+=this.coordAdjust.top),this.coordMap.getCell(a,b)}}),qb=Z.extend({options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(a,
b){this.options=b=b||{};this.sourceEl=a;this.parentEl=b.parentEl?d(b.parentEl):a.parent()},start:function(a){this.isFollowing||(this.isFollowing=!0,this.mouseY0=a.pageY,this.mouseX0=a.pageX,this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),d(document).on("mousemove",this.mousemoveProxy=K(this,"mousemove")))},stop:function(a,b){function c(){this.isAnimating=!1;e.destroyEl();this.top0=this.left0=null;b&&b()}var e=this,f=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&
(this.isFollowing=!1,d(document).off("mousemove",this.mousemoveProxy),a&&f&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:f,complete:c})):c())},getEl:function(){var a=this.el;return a||(this.sourceEl.width(),a=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),
a},destroyEl:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var a,b;this.getEl();null===this.top0&&(this.sourceEl.width(),a=this.sourceEl.offset(),b=this.el.offsetParent().offset(),this.top0=a.top-b.top,this.left0=a.left-b.left);this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(a){this.topDelta=a.pageY-this.mouseY0;this.leftDelta=a.pageX-this.mouseX0;this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=
!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),rb=Z.extend({view:null,isRTL:null,cellHtml:"<td/>",constructor:function(a){this.view=a;this.isRTL=a.opt("isRTL")},rowHtml:function(a,b){var c,d,e=this.getHtmlRenderer("cell",a),f="";b=b||0;for(c=0;this.colCnt>c;c++)d=this.getCell(b,c),f+=e(d);return f=this.bookendCells(f,a,b),"<tr>"+f+"</tr>"},bookendCells:function(a,b,c){var d=this.getHtmlRenderer("intro",b)(c||0);c=this.getHtmlRenderer("outro",
b)(c||0);b=this.isRTL?c:d;d=this.isRTL?d:c;return"string"==typeof a?b+a+d:a.prepend(b).append(d)},getHtmlRenderer:function(a,b){var c,d,e,f,g=this.view;return c=a+"Html",b&&(d=b+N(a)+"Html"),d&&(f=g[d])?e=g:d&&(f=this[d])?e=this:(f=g[c])?e=g:(f=this[c])&&(e=this),"function"==typeof f?function(){return f.apply(e,arguments)||""}:function(){return f||""}}}),Oa=X.Grid=rb.extend({start:null,end:null,rowCnt:0,colCnt:0,rowData:null,colData:null,el:null,coordMap:null,elsByFill:null,externalDragStartProxy:null,
colHeadFormat:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,cellDuration:null,largeUnit:null,constructor:function(){rb.apply(this,arguments);this.coordMap=new eb(this);this.elsByFill={};this.externalDragStartProxy=K(this,"externalDragStart")},computeColHeadFormat:function(){},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(a){var b;b=this.view;
this.start=a.start.clone();this.end=a.end.clone();this.rowData=[];this.colData=[];this.updateCells();this.colHeadFormat=b.opt("columnFormat")||this.computeColHeadFormat();this.eventTimeFormat=b.opt("eventTimeFormat")||b.opt("timeFormat")||this.computeEventTimeFormat();a=b.opt("displayEventTime");null==a&&(a=this.computeDisplayEventTime());b=b.opt("displayEventEnd");null==b&&(b=this.computeDisplayEventEnd());this.displayEventTime=a;this.displayEventEnd=b},updateCells:function(){},rangeToSegs:function(){},
diffDates:function(a,b){return this.largeUnit?E(a,b,this.largeUnit):x(a,b)},getCell:function(a,b){var c;return null==b&&("number"==typeof a?(b=a%this.colCnt,a=Math.floor(a/this.colCnt)):(b=a.col,a=a.row)),c={row:a,col:b},d.extend(c,this.getRowData(a),this.getColData(b)),d.extend(c,this.computeCellRange(c)),c},computeCellRange:function(a){a=this.computeCellDate(a);return{start:a,end:a.clone().add(this.cellDuration)}},computeCellDate:function(){},getRowData:function(a){return this.rowData[a]||{}},getColData:function(a){return this.colData[a]||
{}},getRowEl:function(){},getColEl:function(){},getCellDayEl:function(a){return this.getColEl(a.col)||this.getRowEl(a.row)},computeRowCoords:function(){var a,b,c,d=[];for(a=0;this.rowCnt>a;a++)b=this.getRowEl(a),c=b.offset().top,d.push({top:c,bottom:c+b.outerHeight()});return d},computeColCoords:function(){var a,b,c,d=[];for(a=0;this.colCnt>a;a++)b=this.getColEl(a),c=b.offset().left,d.push({left:c,right:c+b.outerWidth()});return d},setElement:function(a){var b=this;this.el=a;a.on("mousedown",function(a){d(a.target).is(".fc-event-container *, .fc-more")||
d(a.target).closest(".fc-popover").length||b.dayMousedown(a)});this.bindSegHandlers();this.bindGlobalHandlers()},removeElement:function(){this.unbindGlobalHandlers();this.el.remove()},renderSkeleton:function(){},renderDates:function(){},destroyDates:function(){},bindGlobalHandlers:function(){d(document).on("dragstart sortstart",this.externalDragStartProxy)},unbindGlobalHandlers:function(){d(document).off("dragstart sortstart",this.externalDragStartProxy)},dayMousedown:function(c){var d,e,f=this,g=
this.view,h=g.opt("selectable");(new Ua(this.coordMap,{scroll:g.opt("dragScroll"),dragStart:function(){g.unselect()},cellOver:function(a,c,g){g&&(d=c?a:null,h&&(e=f.computeSelection(g,a),e?f.renderSelection(e):b()))},cellOut:function(){e=d=null;f.destroySelection();a()},listenStop:function(b){d&&g.trigger("dayClick",f.getCellDayEl(d),d.start,b);e&&g.reportSelection(e,b);a()}})).mousedown(c)},renderRangeHelper:function(a,b){var c=this.fabricateHelperEvent(a,b);this.renderHelper(c,b)},fabricateHelperEvent:function(a,
b){var c=b?L(b.event):{};return c.start=a.start.clone(),c.end=a.end?a.end.clone():null,c.allDay=null,this.view.calendar.normalizeEventRange(c),c.className=(c.className||[]).concat("fc-helper"),b||(c.editable=!1),c},renderHelper:function(){},destroyHelper:function(){},renderSelection:function(a){this.renderHighlight(a)},destroySelection:function(){this.destroyHighlight()},computeSelection:function(a,b){var c,d=[a.start,a.end,b.start,b.end];return d.sort(R),c={start:d[0].clone(),end:d[3].clone()},this.view.calendar.isSelectionRangeAllowed(c)?
c:null},renderHighlight:function(a){this.renderFill("highlight",this.rangeToSegs(a))},destroyHighlight:function(){this.destroyFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderFill:function(){},destroyFill:function(a){var b=this.elsByFill[a];b&&(b.remove(),delete this.elsByFill[a])},renderFillSegEls:function(a,b){var c,e=this,f=this[a+"SegEl"],g="",h=[];if(b.length){for(c=0;b.length>c;c++)g+=this.fillSegHtml(a,b[c]);d(g).each(function(a,c){var g=b[a],l=d(c);f&&(l=f.call(e,
g,l));l&&(l=d(l),l.is(e.fillSegTag)&&(g.el=l,h.push(g)))})}return h},fillSegTag:"div",fillSegHtml:function(a,b){var c=this[a+"SegClasses"],d=this[a+"SegCss"],c=c?c.call(this,b):[],d=O(d?d.call(this,b):{});return"<"+this.fillSegTag+(c.length?' class="'+c.join(" ")+'"':"")+(d?' style="'+d+'"':"")+" />"},headHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.rowHtml("head")+"</thead></table></div>"},headCellHtml:function(a){a=a.start;return'<th class="fc-day-header '+
this.view.widgetHeaderClass+" fc-"+Aa[a.day()]+'">'+I(a.format(this.colHeadFormat))+"</th>"},bgCellHtml:function(a){var b=this.view;a=a.start;var c=this.getDayClasses(a);return c.unshift("fc-day",b.widgetContentClass),'<td class="'+c.join(" ")+'" data-date="'+a.format("YYYY-MM-DD")+'"></td>'},getDayClasses:function(a){var b=this.view,c=b.calendar.getNow().stripTime(),d=["fc-"+Aa[a.day()]];return 1==b.intervalDuration.as("months")&&a.month()!=b.intervalStart.month()&&d.push("fc-other-month"),a.isSame(c,
"day")?d.push("fc-today",b.highlightStateClass):c>a?d.push("fc-past"):d.push("fc-future"),d}});Oa.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(a){var b,c=this.eventsToSegs(a),d=[],e=[];for(a=0;c.length>a;a++){b=c[a];var f=da(b.event);"background"===f||"inverse-background"===f?d.push(b):e.push(b)}d=this.renderBgSegs(d)||d;e=this.renderFgSegs(e)||e;this.segs=d.concat(e)},destroyEvents:function(){this.triggerSegMouseout();this.destroyFgSegs();
this.destroyBgSegs();this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(){},destroyFgSegs:function(){},renderFgSegEls:function(a,b){var c,e=this.view,f="",g=[];if(a.length){for(c=0;a.length>c;c++)f+=this.fgSegHtml(a[c],b);d(f).each(function(b,c){var f=a[b],h=e.resolveEventEl(f.event,d(c));h&&(h.data("fc-seg",f),f.el=h,g.push(f))})}return g},fgSegHtml:function(){},renderBgSegs:function(a){return this.renderFill("bgEvent",a)},destroyBgSegs:function(){this.destroyFill("bgEvent")},
bgEventSegEl:function(a,b){return this.view.resolveEventEl(a.event,b)},bgEventSegClasses:function(a){a=a.event;return["fc-bgevent"].concat(a.className,(a.source||{}).className||[])},bgEventSegCss:function(a){var b=this.view;a=a.event;var c=a.source||{};return{"background-color":a.backgroundColor||a.color||c.backgroundColor||c.color||b.opt("eventBackgroundColor")||b.opt("eventColor")}},businessHoursSegClasses:function(){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var a=this,b=
this.view;d.each({mouseenter:function(b,c){a.triggerSegMouseover(b,c)},mouseleave:function(b,c){a.triggerSegMouseout(b,c)},click:function(a,c){return b.trigger("eventClick",this,a.event,c)},mousedown:function(c,e){d(e.target).is(".fc-resizer")&&b.isEventResizable(c.event)?a.segResizeMousedown(c,e,d(e.target).is(".fc-start-resizer")):b.isEventDraggable(c.event)&&a.segDragMousedown(c,e)}},function(b,c){a.el.on(b,".fc-event-container > *",function(b){var e=d(this).data("fc-seg");return!e||a.isDraggingSeg||
a.isResizingSeg?void 0:c.call(this,e,b)})})},triggerSegMouseover:function(a,b){this.mousedOverSeg||(this.mousedOverSeg=a,this.view.trigger("eventMouseover",a.el[0],a.event,b))},triggerSegMouseout:function(a,b){b=b||{};this.mousedOverSeg&&(a=a||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",a.el[0],a.event,b))},segDragMousedown:function(c,d){var e,f=this,g=this.view,h=g.calendar,l=c.el,k=c.event,p=new qb(c.el,{parentEl:g.el,opacity:g.opt("dragOpacity"),revertDuration:g.opt("dragRevertDuration"),
zIndex:2});(new Ua(g.coordMap,{distance:5,scroll:g.opt("dragScroll"),subjectEl:l,subjectCenter:!0,listenStart:function(a){p.hide();p.start(a)},dragStart:function(a){f.triggerSegMouseout(c,a);f.segDragStart(c,a);g.hideEvent(k)},cellOver:function(a,d,l){c.cell&&(l=c.cell);(e=f.computeEventDrop(l,a,k))&&!h.isEventRangeAllowed(e,k)&&(b(),e=null);e&&g.renderDrag(e,c)?p.hide():p.show();d&&(e=null)},cellOut:function(){g.destroyDrag();p.show();e=null},cellDone:function(){a()},dragStop:function(a){p.stop(!e,
function(){g.destroyDrag();g.showEvent(k);f.segDragStop(c,a);e&&g.reportEventDrop(k,e,this.largeUnit,l,a)})},listenStop:function(){p.stop()}})).mousedown(d)},segDragStart:function(a,b){this.isDraggingSeg=!0;this.view.trigger("eventDragStart",a.el[0],a.event,b,{})},segDragStop:function(a,b){this.isDraggingSeg=!1;this.view.trigger("eventDragStop",a.el[0],a.event,b,{})},computeEventDrop:function(a,b,c){var d,e,f=this.view.calendar;a=a.start;b=b.start;return a.hasTime()===b.hasTime()?(d=this.diffDates(b,
a),c.allDay&&u(d)?(e={start:c.start.clone(),end:f.getEventEnd(c),allDay:!1},f.normalizeEventRangeTimes(e)):e={start:c.start.clone(),end:c.end?c.end.clone():null,allDay:c.allDay},e.start.add(d),e.end&&e.end.add(d)):e={start:b.clone(),end:null,allDay:!b.hasTime()},e},applyDragOpacity:function(a){var b=this.view.opt("dragOpacity");null!=b&&a.each(function(a,c){c.style.opacity=b})},externalDragStart:function(a,b){var c,e,f=this.view;f.opt("droppable")&&(c=d((b?b.item:null)||a.target),e=f.opt("dropAccept"),
(d.isFunction(e)?e.call(c[0],c):c.is(e))&&(this.isDraggingExternal||this.listenToExternalDrag(c,a,b)))},listenToExternalDrag:function(c,d,e){var f,g=this,h=ba(c);(new Ua(this.coordMap,{listenStart:function(){g.isDraggingExternal=!0},cellOver:function(a){(f=g.computeExternalDrop(a,h))?g.renderDrag(f):b()},cellOut:function(){f=null;g.destroyDrag();a()},dragStop:function(){g.destroyDrag();a();f&&g.view.reportExternalDrop(h,f,c,d,e)},listenStop:function(){g.isDraggingExternal=!1}})).startDrag(d)},computeExternalDrop:function(a,
b){var c={start:a.start.clone(),end:null};return b.startTime&&!c.start.hasTime()&&c.start.time(b.startTime),b.duration&&(c.end=c.start.clone().add(b.duration)),this.view.calendar.isExternalDropRangeAllowed(c,b.eventProps)?c:null},renderDrag:function(){},destroyDrag:function(){},segResizeMousedown:function(c,d,e){var f,g=this,h=this.view,l=h.calendar,k=c.el,p=c.event,m=l.getEventEnd(p);(new Ua(this.coordMap,{distance:5,scroll:h.opt("dragScroll"),subjectEl:k,dragStart:function(a){g.triggerSegMouseout(c,
a);g.segResizeStart(c,a)},cellOver:function(a,d,k){(f=e?g.computeEventStartResize(k,a,p):g.computeEventEndResize(k,a,p))&&(l.isEventRangeAllowed(f,p)?f.start.isSame(p.start)&&f.end.isSame(m)&&(f=null):(b(),f=null));f&&(h.hideEvent(p),g.renderEventResize(f,c))},cellOut:function(){f=null},cellDone:function(){g.destroyEventResize();h.showEvent(p);a()},dragStop:function(a){g.segResizeStop(c,a);f&&h.reportEventResize(p,f,this.largeUnit,k,a)}})).mousedown(d)},segResizeStart:function(a,b){this.isResizingSeg=
!0;this.view.trigger("eventResizeStart",a.el[0],a.event,b,{})},segResizeStop:function(a,b){this.isResizingSeg=!1;this.view.trigger("eventResizeStop",a.el[0],a.event,b,{})},computeEventStartResize:function(a,b,c){return this.computeEventResize("start",a,b,c)},computeEventEndResize:function(a,b,c){return this.computeEventResize("end",a,b,c)},computeEventResize:function(a,b,c,d){var e,f,g=this.view.calendar;b=this.diffDates(c[a],b[a]);return e={start:d.start.clone(),end:g.getEventEnd(d),allDay:d.allDay},
e.allDay&&u(b)&&(e.allDay=!1,g.normalizeEventRangeTimes(e)),e[a].add(b),e.start.isBefore(e.end)||(f=d.allDay?g.defaultAllDayEventDuration:g.defaultTimedEventDuration,this.cellDuration&&f>this.cellDuration&&(f=this.cellDuration),"start"==a?e.start=e.end.clone().subtract(f):e.end=e.start.clone().add(f)),e},renderEventResize:function(){},destroyEventResize:function(){},getEventTimeText:function(a,b,c){return null==b&&(b=this.eventTimeFormat),null==c&&(c=this.displayEventEnd),this.displayEventTime&&a.start.hasTime()?
c&&a.end?this.view.formatRange(a,b):a.start.format(b):""},getSegClasses:function(a,b,c){var d=a.event;a=["fc-event",a.isStart?"fc-start":"fc-not-start",a.isEnd?"fc-end":"fc-not-end"].concat(d.className,d.source?d.source.className:[]);return b&&a.push("fc-draggable"),c&&a.push("fc-resizable"),a},getEventSkinCss:function(a){var b=this.view,c=a.source||{},d=a.color,e=c.color,f=b.opt("eventColor");return{"background-color":a.backgroundColor||d||c.backgroundColor||e||b.opt("eventBackgroundColor")||f,"border-color":a.borderColor||
d||c.borderColor||e||b.opt("eventBorderColor")||f,color:a.textColor||c.textColor||b.opt("eventTextColor")}},eventsToSegs:function(a,b){var c,d=this.eventsToRanges(a),e=[];for(c=0;d.length>c;c++)e.push.apply(e,this.eventRangeToSegs(d[c],b));return e},eventsToRanges:function(a){var b=this;a=aa(a);var c=[];return d.each(a,function(a,d){d.length&&c.push.apply(c,"inverse-background"===da(d[0])?b.eventsToInverseRanges(d):b.eventsToNormalRanges(d))}),c},eventsToNormalRanges:function(a){var b,c,d,e,f=this.view.calendar,
g=[];for(b=0;a.length>b;b++)c=a[b],d=c.start.clone().stripZone(),e=f.getEventEnd(c).stripZone(),g.push({event:c,start:d,end:e,eventStartMS:+d,eventDurationMS:e-d});return g},eventsToInverseRanges:function(a){var b,c,d=this.view;b=d.start.clone().stripZone();var d=d.end.clone().stripZone(),e=this.eventsToNormalRanges(a),f=[];a=a[0];var g=b;e.sort(ka);for(b=0;e.length>b;b++)c=e[b],c.start>g&&f.push({event:a,start:g,end:c.start}),g=c.end;return d>g&&f.push({event:a,start:g,end:d}),f},eventRangeToSegs:function(a,
b){var c,d,e;c=b?b(a):this.rangeToSegs(a);for(d=0;c.length>d;d++)e=c[d],e.event=a.event,e.eventStartMS=a.eventStartMS,e.eventDurationMS=a.eventDurationMS;return c}});X.compareSegs=Ba;X.dataAttrPrefix="";var ib=Oa.extend({numbersVisible:!1,bottomCoordPadding:0,breakOnWeeks:null,cellDates:null,dayToCellOffsets:null,rowEls:null,dayEls:null,helperEls:null,constructor:function(){Oa.apply(this,arguments);this.cellDuration=g.duration(1,"day")},renderDates:function(a){var b,c=this.view,d=this.rowCnt,e=d*
this.colCnt,f="";for(b=0;d>b;b++)f+=this.dayRowHtml(b,a);this.el.html(f);this.rowEls=this.el.find(".fc-row");this.dayEls=this.el.find(".fc-day");for(a=0;e>a;a++)b=this.getCell(a),c.trigger("dayRender",null,b.start,this.dayEls.eq(a))},destroyDates:function(){this.destroySegPopover()},renderBusinessHours:function(){var a=this.view.calendar.getBusinessHoursEvents(!0),a=this.eventsToSegs(a);this.renderFill("businessHours",a,"bgevent")},dayRowHtml:function(a,b){var c=["fc-row","fc-week",this.view.widgetContentClass];
return b&&c.push("fc-rigid"),'<div class="'+c.join(" ")+'"><div class="fc-bg"><table>'+this.rowHtml("day",a)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.rowHtml("number",a)+"</thead>":"")+"</table></div></div>"},dayCellHtml:function(a){return this.bgCellHtml(a)},computeColHeadFormat:function(){return 1<this.rowCnt?"ddd":1<this.colCnt?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},
computeDisplayEventEnd:function(){return 1==this.colCnt},updateCells:function(){var a,b,c;if(this.updateCellDates(),a=this.cellDates,this.breakOnWeeks){b=a[0].day();for(c=1;a.length>c&&a[c].day()!=b;c++);b=Math.ceil(a.length/c)}else b=1,c=a.length;this.rowCnt=b;this.colCnt=c},updateCellDates:function(){for(var a=this.view,b=this.start.clone(),c=[],d=-1,e=[];b.isBefore(this.end);)a.isHiddenDay(b)?e.push(d+.5):(d++,e.push(d),c.push(b.clone())),b.add(1,"days");this.cellDates=c;this.dayToCellOffsets=
e},computeCellDate:function(a){var b=this.colCnt;return this.cellDates[a.row*b+(this.isRTL?b-a.col-1:a.col)].clone()},getRowEl:function(a){return this.rowEls.eq(a)},getColEl:function(a){return this.dayEls.eq(a)},getCellDayEl:function(a){return this.dayEls.eq(a.row*this.colCnt+a.col)},computeRowCoords:function(){var a=Oa.prototype.computeRowCoords.call(this);return a[a.length-1].bottom+=this.bottomCoordPadding,a},rangeToSegs:function(a){var b,c,d,e,f,g,h,l,k=this.isRTL,p=this.rowCnt,m=this.colCnt,
n=[];a=this.view.computeDayRange(a);b=this.dateToCellOffset(a.start);a=this.dateToCellOffset(a.end.subtract(1,"days"));for(c=0;p>c;c++)d=c*m,e=d+m-1,h=Math.max(d,b),e=Math.min(e,a),h=Math.ceil(h),e=Math.floor(e),e>=h&&(f=h===b,g=e===a,h-=d,e-=d,l={row:c,isStart:f,isEnd:g},k?(l.leftCol=m-e-1,l.rightCol=m-h-1):(l.leftCol=h,l.rightCol=e),n.push(l));return n},dateToCellOffset:function(a){var b=this.dayToCellOffsets;a=a.diff(this.start,"days");return 0>a?b[0]-1:a>=b.length?b[b.length-1]+1:b[a]},renderDrag:function(a,
b){return this.renderHighlight(this.view.calendar.ensureVisibleEventRange(a)),b&&!b.el.closest(this.el).length?(this.renderRangeHelper(a,b),this.applyDragOpacity(this.helperEls),!0):void 0},destroyDrag:function(){this.destroyHighlight();this.destroyHelper()},renderEventResize:function(a,b){this.renderHighlight(a);this.renderRangeHelper(a,b)},destroyEventResize:function(){this.destroyHighlight();this.destroyHelper()},renderHelper:function(a,b){var c,e=[],f=this.eventsToSegs([a]),f=this.renderFgSegEls(f);
c=this.renderSegRows(f);this.rowEls.each(function(a,f){var g,h=d(f),l=d('<div class="fc-helper-skeleton"><table/></div>');g=b&&b.row===a?b.el.position().top:h.find(".fc-content-skeleton tbody").position().top;l.css("top",g).find("table").append(c[a].tbodyEl);h.append(l);e.push(l[0])});this.helperEls=d(e)},destroyHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(a,b,c){var e,f,g,h=[];b=this.renderFillSegEls(a,b);for(e=0;b.length>e;e++)f=
b[e],g=this.renderFillRow(a,f,c),this.rowEls.eq(f.row).append(g),h.push(g[0]);return this.elsByFill[a]=d(h),b},renderFillRow:function(a,b,c){var e,f,g=this.colCnt,h=b.leftCol,l=b.rightCol+1;return c=c||a.toLowerCase(),e=d('<div class="fc-'+c+'-skeleton"><table><tr/></table></div>'),f=e.find("tr"),0<h&&f.append('<td colspan="'+h+'"/>'),f.append(b.el.attr("colspan",l-h)),g>l&&f.append('<td colspan="'+(g-l)+'"/>'),this.bookendCells(f,a),e}});ib.mixin({rowStructs:null,destroyEvents:function(){this.destroySegPopover();
Oa.prototype.destroyEvents.apply(this,arguments)},getEventSegs:function(){return Oa.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(a){a=d.grep(a,function(a){return a.event.allDay});return Oa.prototype.renderBgSegs.call(this,a)},renderFgSegs:function(a){var b;return a=this.renderFgSegEls(a),b=this.rowStructs=this.renderSegRows(a),this.rowEls.each(function(a,c){d(c).find(".fc-content-skeleton > table").append(b[a].tbodyEl)}),a},destroyFgSegs:function(){for(var a,
b=this.rowStructs||[];a=b.pop();)a.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(a){var b,c=[];a=this.groupSegRows(a);for(b=0;a.length>b;b++)c.push(this.renderSegRow(b,a[b]));return c},fgSegHtml:function(a,b){var c,d,e=this.view,f=a.event,g=e.isEventDraggable(f),h=!b&&f.allDay&&a.isStart&&e.isEventResizableFromStart(f),e=!b&&f.allDay&&a.isEnd&&e.isEventResizableFromEnd(f),g=this.getSegClasses(a,g,h||e),l=O(this.getEventSkinCss(f)),k="";return g.unshift("fc-day-grid-event","fc-h-event"),
a.isStart&&(c=this.getEventTimeText(f),c&&(k='<span class="fc-time">'+I(c)+"</span>")),d='<span class="fc-title">'+(I(f.title||"")||"&nbsp;")+"</span>",'<a class="'+g.join(" ")+'"'+(f.url?' href="'+I(f.url)+'"':"")+(l?' style="'+l+'"':"")+'><div class="fc-content">'+(this.isRTL?d+" "+k:k+" "+d)+"</div>"+(h?'<div class="fc-resizer fc-start-resizer" />':"")+(e?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(a,b){function c(a){for(;a>g;)(p=(q[e-1]||[])[g])?p.attr("rowspan",
parseInt(p.attr("rowspan")||1,10)+1):(p=d("<td/>"),h.append(p)),u[e][g]=p,q[e][g]=p,g++}var e,f,g,h,l,k,p,m=this.colCnt,n=this.buildSegLevels(b),r=Math.max(1,n.length),x=d("<tbody/>"),w=[],u=[],q=[];for(e=0;r>e;e++){if(f=n[e],g=0,h=d("<tr/>"),w.push([]),u.push([]),q.push([]),f)for(l=0;f.length>l;l++){k=f[l];c(k.leftCol);p=d('<td class="fc-event-container"/>').append(k.el);for(k.leftCol!=k.rightCol?p.attr("colspan",k.rightCol-k.leftCol+1):q[e][g]=p;k.rightCol>=g;)u[e][g]=p,w[e][g]=k,g++;h.append(p)}c(m);
this.bookendCells(h,"eventSkeleton");x.append(h)}return{row:a,tbodyEl:x,cellMatrix:u,segMatrix:w,segLevels:n,segs:b}},buildSegLevels:function(a){var b,c,d,e=[];a.sort(Ba);for(b=0;a.length>b;b++){c=a[b];for(d=0;e.length>d&&pa(c,e[d]);d++);c.level=d;(e[d]||(e[d]=[])).push(c)}for(d=0;e.length>d;d++)e[d].sort(Ja);return e},groupSegRows:function(a){var b,c=[];for(b=0;this.rowCnt>b;b++)c.push([]);for(b=0;a.length>b;b++)c[a[b].row].push(a[b]);return c}});ib.mixin({segPopover:null,popoverSegs:null,destroySegPopover:function(){this.segPopover&&
this.segPopover.hide()},limitRows:function(a){var b,c,d=this.rowStructs||[];for(b=0;d.length>b;b++)this.unlimitRow(b),c=a?"number"==typeof a?a:this.computeRowLevelLimit(b):!1,!1!==c&&this.limitRow(b,c)},computeRowLevelLimit:function(a){function b(a,c){e=Math.max(e,d(c).outerHeight())}var c,e,f=this.rowEls.eq(a).height(),g=this.rowStructs[a].tbodyEl.children();for(a=0;g.length>a;a++)if(c=g.eq(a).removeClass("fc-limited"),e=0,c.find("> td > :first-child").each(b),c.position().top+e>f)return a;return!1},
limitRow:function(a,b){function c(f){for(;f>E;)e=z.getCell(a,E),p=z.getCellSegs(e,b),p.length&&(r=g[b-1][E],v=z.renderMoreLink(e,p),q=d("<div/>").append(v),r.append(q),t.push(q[0])),E++}var e,f,g,h,l,k,p,m,n,r,x,w,u,q,v,z=this,A=this.rowStructs[a],t=[],E=0;if(b&&A.segLevels.length>b){f=A.segLevels[b-1];g=A.cellMatrix;h=A.tbodyEl.children().slice(b).addClass("fc-limited").get();for(l=0;f.length>l;l++){k=f[l];c(k.leftCol);n=[];for(m=0;k.rightCol>=E;)e=this.getCell(a,E),p=this.getCellSegs(e,b),n.push(p),
m+=p.length,E++;if(m){r=g[b-1][k.leftCol];m=r.attr("rowspan")||1;x=[];for(w=0;n.length>w;w++)u=d('<td class="fc-more-cell"/>').attr("rowspan",m),p=n[w],e=this.getCell(a,k.leftCol+w),v=this.renderMoreLink(e,[k].concat(p)),q=d("<div/>").append(v),u.append(q),x.push(u[0]),t.push(u[0]);r.addClass("fc-limited").after(d(x));h.push(r[0])}}c(this.colCnt);A.moreEls=d(t);A.limitedEls=d(h)}},unlimitRow:function(a){a=this.rowStructs[a];a.moreEls&&(a.moreEls.remove(),a.moreEls=null);a.limitedEls&&(a.limitedEls.removeClass("fc-limited"),
a.limitedEls=null)},renderMoreLink:function(a,b){var c=this,e=this.view;return d('<a class="fc-more"/>').text(this.getMoreLinkText(b.length)).on("click",function(f){var g=e.opt("eventLimitClick"),h=a.start,l=d(this),k=c.getCellDayEl(a),p=c.getCellSegs(a),p=c.resliceDaySegs(p,h),m=c.resliceDaySegs(b,h);"function"==typeof g&&(g=e.trigger("eventLimitClick",null,{date:h,dayEl:k,moreEl:l,segs:p,hiddenSegs:m},f));"popover"===g?c.showSegPopover(a,l,p):"string"==typeof g&&e.calendar.zoomTo(h,g)})},showSegPopover:function(a,
b,c){var d,e=this,f=this.view;b=b.parent();d=1==this.rowCnt?f.el:this.rowEls.eq(a.row);a={className:"fc-more-popover",content:this.renderSegPopoverContent(a,c),parentEl:this.el,top:d.offset().top,autoHide:!0,viewportConstrain:f.opt("popoverViewportConstrain"),hide:function(){e.segPopover.destroy();e.segPopover=null;e.popoverSegs=null}};this.isRTL?a.right=b.offset().left+b.outerWidth()+1:a.left=b.offset().left-1;this.segPopover=new tb(a);this.segPopover.show()},renderSegPopoverContent:function(a,b){var c;
c=this.view;var e=c.opt("theme"),f=a.start.format(c.opt("dayPopoverFormat")),e=d('<div class="fc-header '+c.widgetHeaderClass+'"><span class="fc-close '+(e?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+I(f)+'</span><div class="fc-clear"/></div><div class="fc-body '+c.widgetContentClass+'"><div class="fc-event-container"></div></div>'),f=e.find(".fc-event-container");this.popoverSegs=b=this.renderFgSegEls(b,!0);for(c=0;b.length>c;c++)b[c].cell=a,f.append(b[c].el);
return e},resliceDaySegs:function(a,b){var c=d.map(a,function(a){return a.event}),e=b.clone().stripTime(),f=e.clone().add(1,"days"),g={start:e,end:f};return a=this.eventsToSegs(c,function(a){return(a=l(a,g))?[a]:[]}),a.sort(Ba),a},getMoreLinkText:function(a){var b=this.view.opt("eventLimitText");return"function"==typeof b?b(a):"+"+a+" "+b},getCellSegs:function(a,b){for(var c,d=this.rowStructs[a.row].segMatrix,e=b||0,f=[];d.length>e;)(c=d[e][a.col])&&f.push(c),e++;return f}});var ob=Oa.extend({slotDuration:null,
snapDuration:null,minTime:null,maxTime:null,axisFormat:null,dayEls:null,slatEls:null,slatTops:null,helperEl:null,businessHourSegs:null,constructor:function(){Oa.apply(this,arguments);this.processOptions()},renderDates:function(){this.el.html(this.renderHtml());this.dayEls=this.el.find(".fc-day");this.slatEls=this.el.find(".fc-slats tr")},renderBusinessHours:function(){var a=this.view.calendar.getBusinessHoursEvents();this.businessHourSegs=this.renderFill("businessHours",this.eventsToSegs(a),"bgevent")},
renderHtml:function(){return'<div class="fc-bg"><table>'+this.rowHtml("slotBg")+'</table></div><div class="fc-slats"><table>'+this.slatRowHtml()+"</table></div>"},slotBgCellHtml:function(a){return this.bgCellHtml(a)},slatRowHtml:function(){for(var a,b,c=this.view,d=this.isRTL,e="",f=0===this.slotDuration.asMinutes()%15,h=g.duration(+this.minTime);this.maxTime>h;)a=this.start.clone().time(h),b=a.minutes(),a='<td class="fc-axis fc-time '+c.widgetContentClass+'" '+c.axisStyleAttr()+">"+(f&&b?"":"<span>"+
I(a.format(this.axisFormat))+"</span>")+"</td>",e+="<tr "+(b?'class="fc-minor"':"")+">"+(d?"":a)+'<td class="'+c.widgetContentClass+'"/>'+(d?a:"")+"</tr>",h.add(this.slotDuration);return e},processOptions:function(){var a=this.view,b=a.opt("slotDuration"),c=a.opt("snapDuration"),b=g.duration(b),c=c?g.duration(c):b;this.slotDuration=b;this.cellDuration=this.snapDuration=c;this.minTime=g.duration(a.opt("minTime"));this.maxTime=g.duration(a.opt("maxTime"));this.axisFormat=a.opt("axisFormat")||a.opt("smallTimeFormat")},
computeColHeadFormat:function(){return 1<this.colCnt?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},updateCells:function(){var a,b=this.view,c=[];for(a=this.start.clone();a.isBefore(this.end);)c.push({day:a.clone()}),a.add(1,"day"),a=b.skipHiddenDays(a);this.isRTL&&c.reverse();this.colData=c;this.colCnt=c.length;this.rowCnt=Math.ceil((this.maxTime-this.minTime)/this.snapDuration)},
computeCellDate:function(a){var b=this.computeSnapTime(a.row);return this.view.calendar.rezoneDate(a.day).time(b)},getColEl:function(a){return this.dayEls.eq(a)},computeSnapTime:function(a){return g.duration(this.minTime+this.snapDuration*a)},rangeToSegs:function(a){var b,c,d=this.colCnt,e=[];a={start:a.start.clone().stripZone(),end:a.end.clone().stripZone()};for(c=0;d>c;c++)b=this.colData[c].day,b={start:b.clone().time(this.minTime),end:b.clone().time(this.maxTime)},(b=l(a,b))&&(b.col=c,e.push(b));
return e},updateSize:function(a){this.computeSlatTops();a&&this.updateSegVerticals()},computeRowCoords:function(){var a,b,c=this.el.offset().top,d=[];for(a=0;this.rowCnt>a;a++)b={top:c+this.computeTimeTop(this.computeSnapTime(a))},0<a&&(d[a-1].bottom=b.top),d.push(b);return b.bottom=b.top+this.computeTimeTop(this.computeSnapTime(a)),d},computeDateTop:function(a,b){return this.computeTimeTop(g.duration(a.clone().stripZone()-b.clone().stripTime()))},computeTimeTop:function(a){var b,c,d,e;a=(a-this.minTime)/
this.slotDuration;return a=Math.max(0,a),a=Math.min(this.slatEls.length,a),b=Math.floor(a),c=a-b,d=this.slatTops[b],c?(e=this.slatTops[b+1],d+(e-d)*c):d},computeSlatTops:function(){var a,b=[];this.slatEls.each(function(c,e){a=d(e).position().top;b.push(a)});b.push(a+this.slatEls.last().outerHeight());this.slatTops=b},renderDrag:function(a,b){return b?(this.renderRangeHelper(a,b),this.applyDragOpacity(this.helperEl),!0):(this.renderHighlight(this.view.calendar.ensureVisibleEventRange(a)),void 0)},
destroyDrag:function(){this.destroyHelper();this.destroyHighlight()},renderEventResize:function(a,b){this.renderRangeHelper(a,b)},destroyEventResize:function(){this.destroyHelper()},renderHelper:function(a,b){var c,e,f,g,h=this.eventsToSegs([a]),h=this.renderFgSegEls(h);c=this.renderSegTable(h);for(e=0;h.length>e;e++)f=h[e],b&&b.col===f.col&&(g=b.el,f.el.css({left:g.css("left"),right:g.css("right"),"margin-left":g.css("margin-left"),"margin-right":g.css("margin-right")}));this.helperEl=d('<div class="fc-helper-skeleton"/>').append(c).appendTo(this.el)},
destroyHelper:function(){this.helperEl&&(this.helperEl.remove(),this.helperEl=null)},renderSelection:function(a){this.view.opt("selectHelper")?this.renderRangeHelper(a):this.renderHighlight(a)},destroySelection:function(){this.destroyHelper();this.destroyHighlight()},renderFill:function(a,b,c){var e,f,g,h,l,k,p,m,n;if(b.length){b=this.renderFillSegEls(a,b);e=this.groupSegCols(b);c=c||a.toLowerCase();f=d('<div class="fc-'+c+'-skeleton"><table><tr/></table></div>');g=f.find("tr");for(h=0;e.length>h;h++)if(l=
e[h],k=d("<td/>").appendTo(g),l.length)for(k=d('<div class="fc-'+c+'-container"/>').appendTo(k),p=this.colData[h].day,m=0;l.length>m;m++)n=l[m],k.append(n.el.css({top:this.computeDateTop(n.start,p),bottom:-this.computeDateTop(n.end,p)}));this.bookendCells(g,a);this.el.append(f);this.elsByFill[a]=f}return b}});ob.mixin({eventSkeletonEl:null,renderFgSegs:function(a){return a=this.renderFgSegEls(a),this.el.append(this.eventSkeletonEl=d('<div class="fc-content-skeleton"/>').append(this.renderSegTable(a))),
a},destroyFgSegs:function(){this.eventSkeletonEl&&(this.eventSkeletonEl.remove(),this.eventSkeletonEl=null)},renderSegTable:function(a){var b,c,e,f,g,h=d("<table><tr/></table>"),l=h.find("tr");b=this.groupSegCols(a);this.computeSegVerticals(a);for(a=0;b.length>a;a++){e=f=b[a];g=c=c=void 0;e.sort(Ba);c=e;var k=g=e=void 0,p=[];for(e=0;c.length>e;e++){g=c[e];for(k=0;p.length>k&&Ha(g,p[k]).length;k++);g.level=k;(p[k]||(p[k]=[])).push(g)}e=c=p;var m=p=k=g=void 0,n=void 0;for(g=0;e.length>g;g++)for(k=e[g],
p=0;k.length>p;p++)for(m=k[p],m.forwardSegs=[],n=g+1;e.length>n;n++)Ha(m,e[n],m.forwardSegs);if(c=c[0]){for(g=0;c.length>g;g++)ma(c[g]);for(g=0;c.length>g;g++)ha(c[g],0,0)}g=d('<div class="fc-event-container"/>');for(c=0;f.length>c;c++)e=f[c],e.el.css(this.generateSegPositionCss(e)),30>e.bottom-e.top&&e.el.addClass("fc-short"),g.append(e.el);l.append(d("<td/>").append(g))}return this.bookendCells(l,"eventSkeleton"),h},updateSegVerticals:function(){var a,b=(this.segs||[]).concat(this.businessHourSegs||
[]);this.computeSegVerticals(b);for(a=0;b.length>a;a++)b[a].el.css(this.generateSegVerticalCss(b[a]))},computeSegVerticals:function(a){var b,c;for(b=0;a.length>b;b++)c=a[b],c.top=this.computeDateTop(c.start,c.start),c.bottom=this.computeDateTop(c.end,c.start)},fgSegHtml:function(a,b){var c,d,e,f=this.view,g=a.event,h=f.isEventDraggable(g),l=!b&&a.isStart&&f.isEventResizableFromStart(g),k=!b&&a.isEnd&&f.isEventResizableFromEnd(g),h=this.getSegClasses(a,h,l||k),l=O(this.getEventSkinCss(g));return h.unshift("fc-time-grid-event",
"fc-v-event"),f.isMultiDayEvent(g)?(a.isStart||a.isEnd)&&(c=this.getEventTimeText(a),d=this.getEventTimeText(a,"LT"),e=this.getEventTimeText(a,null,!1)):(c=this.getEventTimeText(g),d=this.getEventTimeText(g,"LT"),e=this.getEventTimeText(g,null,!1)),'<a class="'+h.join(" ")+'"'+(g.url?' href="'+I(g.url)+'"':"")+(l?' style="'+l+'"':"")+'><div class="fc-content">'+(c?'<div class="fc-time" data-start="'+I(e)+'" data-full="'+I(d)+'"><span>'+I(c)+"</span></div>":"")+(g.title?'<div class="fc-title">'+I(g.title)+
"</div>":"")+'</div><div class="fc-bg"/>'+(k?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},generateSegPositionCss:function(a){var b,c,d=this.view.opt("slotEventOverlap"),e=a.backwardCoord,f=a.forwardCoord,g=this.generateSegVerticalCss(a);return d&&(f=Math.min(1,e+2*(f-e))),this.isRTL?(b=1-f,c=e):(b=e,c=1-f),g.zIndex=a.level+1,g.left=100*b+"%",g.right=100*c+"%",d&&a.forwardPressure&&(g[this.isRTL?"marginLeft":"marginRight"]=20),g},generateSegVerticalCss:function(a){return{top:a.top,bottom:-a.bottom}},
groupSegCols:function(a){var b,c=[];for(b=0;this.colCnt>b;b++)c.push([]);for(b=0;a.length>b;b++)c[a[b].col].push(a[b]);return c}});var cb=X.View=Z.extend({type:null,name:null,title:null,calendar:null,options:null,coordMap:null,el:null,isDisplayed:!1,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isSelected:!1,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,
nextDayThreshold:null,isHiddenDayHash:null,documentMousedownProxy:null,constructor:function(a,b,c,d){this.calendar=a;this.type=this.name=b;this.options=c;this.intervalDuration=d||g.duration(1,"day");this.nextDayThreshold=g.duration(this.opt("nextDayThreshold"));this.initThemingProps();this.initHiddenDays();this.documentMousedownProxy=K(this,"documentMousedown");this.initialize()},initialize:function(){},opt:function(a){return this.options[a]},trigger:function(a,b){var c=this.calendar;return c.trigger.apply(c,
[a,b||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(a){this.setRange(this.computeRange(a))},setRange:function(a){d.extend(this,a);this.updateTitle()},computeRange:function(a){var b,c,d=z(this.intervalDuration);a=a.clone().startOf(d);var e=a.clone().add(this.intervalDuration);return/year|month|week|day/.test(d)?(a.stripTime(),e.stripTime()):(a.hasTime()||(a=this.calendar.rezoneDate(a)),e.hasTime()||(e=this.calendar.rezoneDate(e))),b=a.clone(),b=this.skipHiddenDays(b),
c=e.clone(),c=this.skipHiddenDays(c,-1,!0),{intervalUnit:d,intervalStart:a,intervalEnd:e,start:b,end:c}},computePrevDate:function(a){return this.massageCurrentDate(a.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(a){return this.massageCurrentDate(a.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(a,b){return 1>=this.intervalDuration.as("days")&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,b),a.startOf("day")),
a},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.intervalStart,end:this.intervalEnd},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):1<this.intervalDuration.as("days")?"ll":"LL"},formatRange:function(a,b,c){var d=a.end;return d.hasTime()||(d=d.clone().subtract(1)),U(a.start,
d,b,c,this.opt("isRTL"))},setElement:function(a){this.el=a;this.bindGlobalHandlers()},removeElement:function(){this.clear();this.isSkeletonRendered&&(this.destroySkeleton(),this.isSkeletonRendered=!1);this.unbindGlobalHandlers();this.el.remove()},display:function(a){var b=null;this.isDisplayed&&(b=this.queryScroll());this.clear();this.setDate(a);this.render();this.updateSize();this.renderBusinessHours();this.isDisplayed=!0;b=this.computeInitialScroll(b);this.forceScroll(b);this.triggerRender()},clear:function(){this.isDisplayed&&
(this.unselect(),this.clearEvents(),this.triggerDestroy(),this.destroyBusinessHours(),this.destroy(),this.isDisplayed=!1)},render:function(){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0);this.renderDates()},destroy:function(){this.destroyDates()},renderSkeleton:function(){},destroySkeleton:function(){},renderDates:function(){},destroyDates:function(){},renderBusinessHours:function(){},destroyBusinessHours:function(){},triggerRender:function(){this.trigger("viewRender",
this,this,this.el)},triggerDestroy:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){d(document).on("mousedown",this.documentMousedownProxy)},unbindGlobalHandlers:function(){d(document).off("mousedown",this.documentMousedownProxy)},initThemingProps:function(){var a=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=a+"-widget-header";this.widgetContentClass=a+"-widget-content";this.highlightStateClass=a+"-state-highlight"},updateSize:function(a){var b;a&&(b=this.queryScroll());
this.updateHeight();this.updateWidth();a&&this.setScroll(b)},updateWidth:function(){},updateHeight:function(){var a=this.calendar;this.setHeight(a.getSuggestedViewHeight(),a.isHeightAuto())},setHeight:function(){},computeScrollerHeight:function(a){var b,c,d=this.scrollerEl;return b=this.el.add(d),b.css({position:"relative",left:-1}),c=this.el.outerHeight()-d.height(),b.css({position:"",left:""}),a-c},computeInitialScroll:function(){return 0},queryScroll:function(){return this.scrollerEl?this.scrollerEl.scrollTop():
void 0},setScroll:function(a){return this.scrollerEl?this.scrollerEl.scrollTop(a):void 0},forceScroll:function(a){var b=this;this.setScroll(a);setTimeout(function(){b.setScroll(a)},0)},displayEvents:function(a){var b=this.queryScroll();this.clearEvents();this.renderEvents(a);this.isEventsRendered=!0;this.setScroll(b);this.triggerEventRender()},clearEvents:function(){this.isEventsRendered&&(this.triggerEventDestroy(),this.destroyEvents(),this.isEventsRendered=!1)},renderEvents:function(){},destroyEvents:function(){},
triggerEventRender:function(){this.renderedEventSegEach(function(a){this.trigger("eventAfterRender",a.event,a.event,a.el)});this.trigger("eventAfterAllRender")},triggerEventDestroy:function(){this.renderedEventSegEach(function(a){this.trigger("eventDestroy",a.event,a.event,a.el)})},resolveEventEl:function(a,b){var c=this.trigger("eventRender",a,a,b);return!1===c?b=null:c&&!0!==c&&(b=d(c)),b},showEvent:function(a){this.renderedEventSegEach(function(a){a.el.css("visibility","")},a)},hideEvent:function(a){this.renderedEventSegEach(function(a){a.el.css("visibility",
"hidden")},a)},renderedEventSegEach:function(a,b){var c,d=this.getEventSegs();for(c=0;d.length>c;c++)b&&d[c].event._id!==b._id||d[c].el&&a.call(this,d[c])},getEventSegs:function(){return[]},isEventDraggable:function(a){var b=a.source||{};return F(a.startEditable,b.startEditable,this.opt("eventStartEditable"),a.editable,b.editable,this.opt("editable"))},reportEventDrop:function(a,b,c,d,e){var f=this.calendar,g=f.mutateEvent(a,b,c);this.triggerEventDrop(a,g.dateDelta,function(){g.undo();f.reportEventChange()},
d,e);f.reportEventChange()},triggerEventDrop:function(a,b,c,d,e){this.trigger("eventDrop",d[0],a,b,c,e,{})},reportExternalDrop:function(a,b,c,e,f){var g,h,l=a.eventProps;l&&(g=d.extend({},l,b),h=this.calendar.renderEvent(g,a.stick)[0]);this.triggerExternalDrop(h,b,c,e,f)},triggerExternalDrop:function(a,b,c,d,e){this.trigger("drop",c[0],b.start,d,e);a&&this.trigger("eventReceive",null,a)},renderDrag:function(){},destroyDrag:function(){},isEventResizableFromStart:function(a){return this.opt("eventResizableFromStart")&&
this.isEventResizable(a)},isEventResizableFromEnd:function(a){return this.isEventResizable(a)},isEventResizable:function(a){var b=a.source||{};return F(a.durationEditable,b.durationEditable,this.opt("eventDurationEditable"),a.editable,b.editable,this.opt("editable"))},reportEventResize:function(a,b,c,d,e){var f=this.calendar,g=f.mutateEvent(a,b,c);this.triggerEventResize(a,g.durationDelta,function(){g.undo();f.reportEventChange()},d,e);f.reportEventChange()},triggerEventResize:function(a,b,c,d,e){this.trigger("eventResize",
d[0],a,b,c,e,{})},select:function(a,b){this.unselect(b);this.renderSelection(a);this.reportSelection(a,b)},renderSelection:function(){},reportSelection:function(a,b){this.isSelected=!0;this.trigger("select",null,a.start,a.end,b)},unselect:function(a){this.isSelected&&(this.isSelected=!1,this.destroySelection(),this.trigger("unselect",null,a))},destroySelection:function(){},documentMousedown:function(a){var b;this.isSelected&&this.opt("unselectAuto")&&1==a.which&&!a.ctrlKey&&(b=this.opt("unselectCancel"),
b&&d(a.target).closest(b).length||this.unselect(a))},initHiddenDays:function(){var a,b=this.opt("hiddenDays")||[],c=[],e=0;!1===this.opt("weekends")&&b.push(0,6);for(a=0;7>a;a++)(c[a]=-1!==d.inArray(a,b))||e++;if(!e)throw"invalid hiddenDays";this.isHiddenDayHash=c},isHiddenDay:function(a){return g.isMoment(a)&&(a=a.day()),this.isHiddenDayHash[a]},skipHiddenDays:function(a,b,c){a=a.clone();for(b=b||1;this.isHiddenDayHash[(a.day()+(c?b:0)+7)%7];)a.add(b,"days");return a},computeDayRange:function(a){var b,
c=a.start.clone().stripTime();a=a.end;var d=null;return a&&(d=a.clone().stripTime(),b=+a.time(),b&&b>=this.nextDayThreshold&&d.add(1,"days")),(!a||c>=d)&&(d=c.clone().add(1,"days")),{start:c,end:d}},isMultiDayEvent:function(a){a=this.computeDayRange(a);return 1<a.end.diff(a.start,"days")}}),Ga=X.Calendar=X.CalendarBase=Z.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,constructor:function(a,b){function c(){return a.is(":visible")}function e(a){C++;
z&&a&&z.type!==a&&(u.deactivateButton(z.type),p(),z.removeElement(),z=n.view=null);!z&&a&&(z=n.view=F[a]||(F[a]=n.instantiateView(a)),z.setElement(d("<div class='fc-view fc-"+a+"-view' />").appendTo(v)),u.activateButton(a));z&&(E=z.massageCurrentDate(E),z.isDisplayed&&E.isWithin(z.intervalStart,z.intervalEnd)||!c()||(p(),z.display(E),m(),u.updateTitle(z.title),n.getNow().isWithin(z.intervalStart,z.intervalEnd)?u.disableButton("today"):u.enableButton("today"),!r.lazyFetching||y(z.start,z.end)?D(z.start,
z.end):k()));m();C--}function f(a){return c()?(a&&h(),C++,z.updateSize(!0),C--,!0):void 0}function h(){A="number"==typeof r.contentHeight?r.contentHeight:"number"==typeof r.height?r.height-(q?q.outerHeight(!0):0):Math.round(v.width()/Math.max(r.aspectRatio,.5))}function l(a){!C&&a.target===window&&z.start&&f(!0)&&z.trigger("windowResize",B)}function k(){c()&&(p(),z.displayEvents(G),m())}function p(){v.css({width:"100%",height:v.height(),overflow:"hidden"})}function m(){v.css({width:"",height:"",overflow:""})}
var n=this;n.initOptions(b||{});var r=this.options;n.render=function(){v?c()&&(c()&&h(),e()):(a.addClass("fc"),r.isRTL?a.addClass("fc-rtl"):a.addClass("fc-ltr"),r.theme?a.addClass("ui-widget"):a.addClass("fc-unthemed"),v=d("<div class='fc-view-container'/>").prependTo(a),u=n.header=new va(n,r),(q=u.render())&&a.prepend(q),e(r.defaultView),r.handleWindowResize&&(t=S(l,r.windowResizeDelay),d(window).resize(t)))};n.destroy=function(){z&&z.removeElement();u.destroy();v.remove();a.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget");
t&&d(window).unbind("resize",t)};n.refetchEvents=function(){p();z.clearEvents();m();D(z.start,z.end)};n.reportEvents=function(a){G=a;k()};n.reportEventChange=function(){k()};n.rerenderEvents=k;n.changeView=e;n.select=function(a,b){a=n.moment(a);b=b?n.moment(b):a.hasTime()?a.clone().add(n.defaultTimedEventDuration):a.clone().add(n.defaultAllDayEventDuration);z.select({start:a,end:b})};n.unselect=function(){z&&z.unselect()};n.prev=function(){E=z.computePrevDate(E);e()};n.next=function(){E=z.computeNextDate(E);
e()};n.prevYear=function(){E.add(-1,"years");e()};n.nextYear=function(){E.add(1,"years");e()};n.today=function(){E=n.getNow();e()};n.gotoDate=function(a){E=n.moment(a);e()};n.incrementDate=function(a){E.add(g.duration(a));e()};n.zoomTo=function(a,b){var c;b=b||"day";c=n.getViewSpec(b)||n.getUnitViewSpec(b);E=a;e(c?c.type:null)};n.getDate=function(){return E.clone()};n.getCalendar=function(){return n};n.getView=function(){return z};n.option=function(a,b){return void 0===b?r[a]:(("height"==a||"contentHeight"==
a||"aspectRatio"==a)&&(r[a]=b,f(!0)),void 0)};n.trigger=function(a,b){return r[a]?r[a].apply(b||B,Array.prototype.slice.call(arguments,2)):void 0};var x=L(na(r.lang));if(r.monthNames&&(x._months=r.monthNames),r.monthNamesShort&&(x._monthsShort=r.monthNamesShort),r.dayNames&&(x._weekdays=r.dayNames),r.dayNamesShort&&(x._weekdaysShort=r.dayNamesShort),null!=r.firstDay){var w=L(x._week);w.dow=r.firstDay;x._week=w}x._fullCalendar_weekCalc=function(a){return"function"==typeof a?a:"local"===a?a:"iso"===
a||"ISO"===a?"ISO":void 0}(r.weekNumberCalculation);n.defaultAllDayEventDuration=g.duration(r.defaultAllDayEventDuration);n.defaultTimedEventDuration=g.duration(r.defaultTimedEventDuration);n.moment=function(){var a;return"local"===r.timezone?(a=X.moment.apply(null,arguments),a.hasTime()&&a.local()):a="UTC"===r.timezone?X.moment.utc.apply(null,arguments):X.moment.parseZone.apply(null,arguments),"_locale"in a?a._locale=x:a._lang=x,a};n.getIsAmbigTimezone=function(){return"local"!==r.timezone&&"UTC"!==
r.timezone};n.rezoneDate=function(a){return n.moment(a.toArray())};n.getNow=function(){var a=r.now;return"function"==typeof a&&(a=a()),n.moment(a)};n.getEventEnd=function(a){return a.end?a.end.clone():n.getDefaultEventEnd(a.allDay,a.start)};n.getDefaultEventEnd=function(a,b){var c=b.clone();return a?c.stripTime().add(n.defaultAllDayEventDuration):c.add(n.defaultTimedEventDuration),n.getIsAmbigTimezone()&&c.stripZone(),c};n.humanizeDuration=function(a){return(a.locale||a.lang).call(a,r.lang).humanize()};
Pa.call(n,r);var u,q,v,z,A,t,E,y=n.isFetchNeeded,D=n.fetchEvents,B=a[0],F={},C=0,G=[];E=null!=r.defaultDate?n.moment(r.defaultDate):n.getNow();n.getSuggestedViewHeight=function(){void 0===A&&c()&&h();return A};n.isHeightAuto=function(){return"auto"===r.contentHeight||"auto"===r.height}},initOptions:function(a){var b,c;a=h(a);b=a.lang;(c=bb[b])||(b=Ga.defaults.lang,c=bb[b]||{});this.dirDefaults=b=F(a.isRTL,c.isRTL,Ga.defaults.isRTL)?Ga.rtlDefaults:{};this.langDefaults=c;this.overrides=a;this.options=
k(Ga.defaults,b,c,a);J(this.options);this.viewSpecCache={}},getViewSpec:function(a){var b=this.viewSpecCache;return b[a]||(b[a]=this.buildViewSpec(a))},getUnitViewSpec:function(a){var b,c,e;if(-1!=d.inArray(a,Ia))for(b=this.header.getViewsWithButtons(),d.each(X.views,function(a){b.push(a)}),c=0;b.length>c;c++)if(e=this.getViewSpec(b[c]),e&&e.singleUnit==a)return e},buildViewSpec:function(a){for(var b,c,d,e,f,h,l=this.overrides.views||{},p=[],m=[],n=a;n&&!b;)c=ia[n]||{},d=l[n]||{},e=e||d.duration||
c.duration,n=d.type||c.type,"function"==typeof c?(b=c,p.unshift(b.defaults||{})):p.unshift(c),m.unshift(d);return b?(h={"class":b,type:a},e&&(e=g.duration(e),e.valueOf()||(e=null)),e&&(h.duration=e,f=z(e),1===e.as(f)&&(h.singleUnit=f,m.unshift(l[f]||{}))),h.defaults=k.apply(null,p),h.overrides=k.apply(null,m),this.buildViewSpecOptions(h),this.buildViewSpecButtonText(h,a),h):void 0},buildViewSpecOptions:function(a){a.options=k(Ga.defaults,a.defaults,this.dirDefaults,this.langDefaults,this.overrides,
a.overrides);J(a.options)},buildViewSpecButtonText:function(a,b){function c(d){d=d.buttonText||{};return d[b]||(a.singleUnit?d[a.singleUnit]:null)}a.buttonTextOverride=c(this.overrides)||a.overrides.buttonText;a.buttonTextDefault=c(this.langDefaults)||c(this.dirDefaults)||a.defaults.buttonText||c(Ga.defaults)||(a.duration?this.humanizeDuration(a.duration):null)||b},instantiateView:function(a){var b=this.getViewSpec(a);return new b["class"](this,a,b.options,b.duration)},isValidViewType:function(a){return Boolean(this.getViewSpec(a))}});
Ga.defaults={titleRangeSeparator:" \u2014 ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",
nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,
windowResizeDelay:200};Ga.englishDefaults={dayPopoverFormat:"dddd, MMMM D"};Ga.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var bb=X.langs={};X.datepickerLang=function(a,b,c){var e=bb[a]||(bb[a]={});e.isRTL=c.isRTL;e.weekNumberTitle=c.weekHeader;
d.each(pb,function(a,b){e[a]=b(c)});d.datepicker&&(d.datepicker.regional[b]=d.datepicker.regional[a]=c,d.datepicker.regional.en=d.datepicker.regional[""],d.datepicker.setDefaults(c))};X.lang=function(a,b){var c,e;c=bb[a]||(bb[a]={});b&&(c=bb[a]=k(c,b));e=na(a);d.each(wb,function(a,b){null==c[a]&&(c[a]=b(e,c))});Ga.defaults.lang=a};var pb={buttonText:function(a){return{prev:a.prevText.replace(/&.*?;/g,""),next:a.nextText.replace(/&.*?;/g,""),today:a.currentText.replace(/&.*?;/g,"")}},monthYearFormat:function(a){return a.showMonthAfterYear?
"YYYY["+a.yearSuffix+"] MMMM":"MMMM YYYY["+a.yearSuffix+"]"}},wb={dayOfMonthFormat:function(a,b){var c=a.longDateFormat("l");return c=c.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),b.isRTL?c+=" ddd":c="ddd "+c,c},mediumTimeFormat:function(a){return a.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(a){return a.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(a){return a.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,
"($1)").replace(/\s*a$/i,"t")},hourFormat:function(a){return a.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(a){return a.longDateFormat("LT").replace(/\s*a$/i,"")}},Va={smallDayDateFormat:function(a){return a.isRTL?"D dd":"dd D"},weekFormat:function(a){return a.isRTL?"w[ "+a.weekNumberTitle+"]":"["+a.weekNumberTitle+" ]w"},smallWeekFormat:function(a){return a.isRTL?"w["+a.weekNumberTitle+"]":"["+a.weekNumberTitle+"]w"}};X.lang("en",
Ga.englishDefaults);X.sourceNormalizers=[];X.sourceFetchers=[];var db={dataType:"json",cache:!1},fb=1;Ga.prototype.getPeerEvents=function(a){var b,c,d=this.getEventCache(),e=[];for(b=0;d.length>b;b++)c=d[b],a&&a._id===c._id||e.push(c);return e};var ja=ia.basic=cb.extend({dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headRowEl:null,initialize:function(){this.dayGrid=new ib(this);this.coordMap=this.dayGrid.coordMap},setRange:function(a){cb.prototype.setRange.call(this,
a);this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit);this.dayGrid.setRange(a)},computeRange:function(a){a=cb.prototype.computeRange.call(this,a);return/year|month/.test(a.intervalUnit)&&(a.start.startOf("week"),a.start=this.skipHiddenDays(a.start),a.end.weekday()&&(a.end.add(1,"week").startOf("week"),a.end=this.skipHiddenDays(a.end,-1,!0))),a},render:function(){this.dayNumbersVisible=1<this.dayGrid.rowCnt;this.weekNumbersVisible=this.opt("weekNumbers");this.dayGrid.numbersVisible=
this.dayNumbersVisible||this.weekNumbersVisible;this.el.addClass("fc-basic-view").html(this.renderHtml());this.headRowEl=this.el.find("thead .fc-row");this.scrollerEl=this.el.find(".fc-day-grid-container");this.dayGrid.coordMap.containerEl=this.scrollerEl;this.dayGrid.setElement(this.el.find(".fc-day-grid"));this.dayGrid.renderDates(this.hasRigidRows())},destroy:function(){this.dayGrid.destroyDates();this.dayGrid.removeElement()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},
renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.dayGrid.headHtml()+'</td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){return this.weekNumbersVisible?'<th class="fc-week-number '+this.widgetHeaderClass+'" '+this.weekNumberStyleAttr()+"><span>"+I(this.opt("weekNumberTitle"))+"</span></th>":
void 0},numberIntroHtml:function(a){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><span>"+this.dayGrid.getCell(a,0).start.format("w")+"</span></td>":void 0},dayIntroHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number '+this.widgetContentClass+'" '+this.weekNumberStyleAttr()+"></td>":void 0},introHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"></td>":void 0},numberCellHtml:function(a){var b;
a=a.start;return this.dayNumbersVisible?(b=this.dayGrid.getDayClasses(a),b.unshift("fc-day-number"),'<td class="'+b.join(" ")+'" data-date="'+a.format()+'">'+a.date()+"</td>"):"<td/>"},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var a=this.opt("eventLimit");return a&&"number"!=typeof a},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=f(this.el.find(".fc-week-number")))},setHeight:function(a,
b){var c,d=this.opt("eventLimit");v(this.scrollerEl);e(this.headRowEl);this.dayGrid.destroySegPopover();d&&"number"==typeof d&&this.dayGrid.limitRows(d);c=this.computeScrollerHeight(a);this.setGridHeight(c,b);d&&"number"!=typeof d&&this.dayGrid.limitRows(d);!b&&m(this.scrollerEl,c)&&(q(this.headRowEl,p(this.scrollerEl)),c=this.computeScrollerHeight(a),this.scrollerEl.height(c))},setGridHeight:function(a,b){b?this.dayGrid.rowEls.height(""):c(this.dayGrid.rowEls,a,!0)},renderEvents:function(a){this.dayGrid.renderEvents(a);
this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},destroyEvents:function(){this.dayGrid.destroyEvents()},renderDrag:function(a,b){return this.dayGrid.renderDrag(a,b)},destroyDrag:function(){this.dayGrid.destroyDrag()},renderSelection:function(a){this.dayGrid.renderSelection(a)},destroySelection:function(){this.dayGrid.destroySelection()}}),lb=ia.month=ja.extend({computeRange:function(a){var b;a=ja.prototype.computeRange.call(this,a);return this.isFixedWeeks()&&(b=Math.ceil(a.end.diff(a.start,
"weeks",!0)),a.end.add(6-b,"weeks")),a},setGridHeight:function(a,b){(b=b||"variable"===this.opt("weekMode"))&&(a*=this.rowCnt/6);c(this.dayGrid.rowEls,a,!b)},isFixedWeeks:function(){var a=this.opt("weekMode");return a?"fixed"===a:this.opt("fixedWeekCount")}});lb.duration={months:1};lb.defaults={fixedWeekCount:!0};ia.basicWeek={type:"basic",duration:{weeks:1}};ia.basicDay={type:"basic",duration:{days:1}};return(ia.agenda=cb.extend({timeGrid:null,dayGrid:null,axisWidth:null,noScrollRowEls:null,bottomRuleEl:null,
bottomRuleHeight:null,initialize:function(){this.timeGrid=new ob(this);this.opt("allDaySlot")?(this.dayGrid=new ib(this),this.coordMap=new Xa([this.dayGrid.coordMap,this.timeGrid.coordMap])):this.coordMap=this.timeGrid.coordMap},setRange:function(a){cb.prototype.setRange.call(this,a);this.timeGrid.setRange(a);this.dayGrid&&this.dayGrid.setRange(a)},render:function(){this.el.addClass("fc-agenda-view").html(this.renderHtml());this.scrollerEl=this.el.find(".fc-time-grid-container");this.timeGrid.coordMap.containerEl=
this.scrollerEl;this.timeGrid.setElement(this.el.find(".fc-time-grid"));this.timeGrid.renderDates();this.bottomRuleEl=d('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el);this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight());this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},destroy:function(){this.timeGrid.destroyDates();this.timeGrid.removeElement();
this.dayGrid&&(this.dayGrid.destroyDates(),this.dayGrid.removeElement())},renderBusinessHours:function(){this.timeGrid.renderBusinessHours();this.dayGrid&&this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.timeGrid.headHtml()+'</td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':
"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){var a,b;return this.opt("weekNumbers")?(a=this.timeGrid.getCell(0).start,b=a.format(this.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"><span>"+I(b)+"</span></th>"):'<th class="fc-axis '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"></th>"},dayIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+
'" '+this.axisStyleAttr()+"><span>"+(this.opt("allDayHtml")||I(this.opt("allDayText")))+"</span></td>"},slotBgIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"></td>"},introHtml:function(){return'<td class="fc-axis" '+this.axisStyleAttr()+"></td>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},updateSize:function(a){this.timeGrid.updateSize(a);cb.prototype.updateSize.call(this,a)},updateWidth:function(){this.axisWidth=
f(this.el.find(".fc-axis"))},setHeight:function(a,b){var c,d;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight());this.bottomRuleEl.hide();this.scrollerEl.css("overflow","");v(this.scrollerEl);e(this.noScrollRowEls);this.dayGrid&&(this.dayGrid.destroySegPopover(),c=this.opt("eventLimit"),c&&"number"!=typeof c&&(c=5),c&&this.dayGrid.limitRows(c));b||(d=this.computeScrollerHeight(a),m(this.scrollerEl,d)?(q(this.noScrollRowEls,p(this.scrollerEl)),d=this.computeScrollerHeight(a),
this.scrollerEl.height(d)):(this.scrollerEl.height(d).css("overflow","hidden"),this.bottomRuleEl.show()))},computeInitialScroll:function(){var a=g.duration(this.opt("scrollTime")),a=this.timeGrid.computeTimeTop(a);return a=Math.ceil(a),a&&a++,a},renderEvents:function(a){var b,c=[],d=[];for(b=0;a.length>b;b++)a[b].allDay?c.push(a[b]):d.push(a[b]);this.timeGrid.renderEvents(d);this.dayGrid&&this.dayGrid.renderEvents(c);this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?
this.dayGrid.getEventSegs():[])},destroyEvents:function(){this.timeGrid.destroyEvents();this.dayGrid&&this.dayGrid.destroyEvents()},renderDrag:function(a,b){return a.start.hasTime()?this.timeGrid.renderDrag(a,b):this.dayGrid?this.dayGrid.renderDrag(a,b):void 0},destroyDrag:function(){this.timeGrid.destroyDrag();this.dayGrid&&this.dayGrid.destroyDrag()},renderSelection:function(a){a.start.hasTime()||a.end.hasTime()?this.timeGrid.renderSelection(a):this.dayGrid&&this.dayGrid.renderSelection(a)},destroySelection:function(){this.timeGrid.destroySelection();
this.dayGrid&&this.dayGrid.destroySelection()}})).defaults={allDaySlot:!0,allDayText:"all-day",scrollTime:"06:00:00",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0},ia.agendaWeek={type:"agenda",duration:{weeks:1}},ia.agendaDay={type:"agenda",duration:{days:1}},X});
(function(d){"function"==typeof define&&define.amd?define(["jquery","moment"],d):d(jQuery,moment)})(function(d,g){(g.defineLocale||g.lang).call(g,"it",{months:"gennaio febbraio marzo aprile maggio giugno luglio agosto settembre ottobre novembre dicembre".split(" "),monthsShort:"gen feb mar apr mag giu lug ago set ott nov dic".split(" "),weekdays:"Domenica Luned\u00ec Marted\u00ec Mercoled\u00ec Gioved\u00ec Venerd\u00ec Sabato".split(" "),weekdaysShort:"Dom Lun Mar Mer Gio Ven Sab".split(" "),weekdaysMin:"D L Ma Me G V S".split(" "),
longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(d){return(/^[0-9].+$/.test(d)?"tra":"in")+" "+d},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",
h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinalParse:/\d{1,2}\u00ba/,ordinal:"%d\u00ba",week:{dow:1,doy:4}});d.fullCalendar.datepickerLang("it","it",{closeText:"Chiudi",prevText:"&#x3C;Prec",nextText:"Succ&#x3E;",currentText:"Oggi",monthNames:"Gennaio Febbraio Marzo Aprile Maggio Giugno Luglio Agosto Settembre Ottobre Novembre Dicembre".split(" "),monthNamesShort:"Gen Feb Mar Apr Mag Giu Lug Ago Set Ott Nov Dic".split(" "),dayNames:"Domenica Luned\u00ec Marted\u00ec Mercoled\u00ec Gioved\u00ec Venerd\u00ec Sabato".split(" "),
dayNamesShort:"Dom Lun Mar Mer Gio Ven Sab".split(" "),dayNamesMin:"Do Lu Ma Me Gi Ve Sa".split(" "),weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});d.fullCalendar.lang("it",{buttonText:{month:"Mese",week:"Settimana",day:"Giorno",list:"Agenda"},allDayHtml:"Tutto il<br/>giorno",eventLimitText:function(d){return"+altri "+d}})});
(function(d){"function"===typeof define&&define.amd?define(["jquery"],d):"object"===typeof exports?module.exports=d(require("jquery")):d(jQuery)})(function(d){function g(e,b,a,c,f){function g(a,b){var c=b||[{message:a}],h=window.console,k=h?h.warn||h.log:null;(e.googleCalendarError||d.noop).apply(f,c);(f.options.googleCalendarError||d.noop).apply(f,c);k&&k.apply(h,[a].concat(b||[]))}var h="https://www.googleapis.com/calendar/v3/calendars/"+encodeURIComponent(e.googleCalendarId)+"/events?callback=?",
r=e.googleCalendarApiKey||f.options.googleCalendarApiKey,n=e.success,w;if(!r)return g("Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/"),{};b.hasZone()||(b=b.clone().utc().add(-1,"day"));a.hasZone()||(a=a.clone().utc().add(1,"day"));c&&"local"!=c&&(w=c.replace(" ","_"));b=d.extend({},e.data||{},{key:r,timeMin:b.format(),timeMax:a.format(),timeZone:w,singleEvents:!0,maxResults:9999});return d.extend({},e,{googleCalendarId:null,url:h,data:b,startParam:!1,endParam:!1,
timezoneParam:!1,success:function(a){var b=[],c;if(a.error)g("Google Calendar API: "+a.error.message,a.error.errors);else if(a.items&&(d.each(a.items,function(a,c){var d=c.htmlLink;w&&(d=k(d,"ctz="+w));b.push({id:c.id,title:c.summary,start:c.start.dateTime||c.start.date,end:c.end.dateTime||c.end.date,url:d,location:c.location,description:c.description})}),c=[b].concat(Array.prototype.slice.call(arguments,1)),c=q(n,this,c),d.isArray(c)))return c;return b}})}function k(d,b){return d.replace(/(\?.*?)?(#|$)/,
function(a,c,d){return(c?c+"&":"?")+b+d})}var h=d.fullCalendar,q=h.applyAll;h.sourceNormalizers.push(function(d){var b=d.googleCalendarId,a=d.url,c;if(!b&&a){if(/^[^\/]+@([^\/\.]+\.)*(google|googlemail|gmail)\.com$/.test(a))b=a;else if((c=/^https:\/\/www.googleapis.com\/calendar\/v3\/calendars\/([^\/]*)/.exec(a))||(c=/^https?:\/\/www.google.com\/calendar\/feeds\/([^\/]*)/.exec(a)))b=decodeURIComponent(c[1]);b&&(d.googleCalendarId=b)}b&&(null==d.editable&&(d.editable=!1),d.url=b)});h.sourceFetchers.push(function(d,
b,a,c){if(d.googleCalendarId)return g(d,b,a,c,this)})});
!function(d){var g,k,h=/[\.\/]/,q=function(){},e=function(a,b){return a-b},b={n:{}},a=function(b,d){b=String(b);var h,q=k,r=Array.prototype.slice.call(arguments,2),n=a.listeners(b),w=0,p=[],l={},x=[],E=g;g=b;for(var z=k=0,A=n.length;A>z;z++)"zIndex"in n[z]&&(p.push(n[z].zIndex),0>n[z].zIndex&&(l[n[z].zIndex]=n[z]));for(p.sort(e);0>p[w];)if(h=l[p[w++]],x.push(h.apply(d,r)),k)return k=q,x;for(z=0;A>z;z++)if(h=n[z],"zIndex"in h)if(h.zIndex==p[w]){if(x.push(h.apply(d,r)),k)break;do if(w++,h=l[p[w]],h&&
x.push(h.apply(d,r)),k)break;while(h)}else l[h.zIndex]=h;else if(x.push(h.apply(d,r)),k)break;return k=q,g=E,x.length?x:null};a._events=b;a.listeners=function(a){var d,e,g,k,n,w,p,l=a.split(h);d=b;var x=[d],q=[];a=0;for(k=l.length;k>a;a++){p=[];n=0;for(w=x.length;w>n;n++)for(d=x[n].n,e=[d[l[a]],d["*"]],g=2;g--;)(d=e[g])&&(p.push(d),q=q.concat(d.f||[]));x=p}return q};a.on=function(a,d){if(a=String(a),"function"!=typeof d)return function(){};for(var e=a.split(h),g=b,k=0,n=e.length;n>k;k++)g=g.n,g=g.hasOwnProperty(e[k])&&
g[e[k]]||(g[e[k]]={n:{}});g.f=g.f||[];k=0;for(n=g.f.length;n>k;k++)if(g.f[k]==d)return q;return g.f.push(d),function(a){+a==+a&&(d.zIndex=+a)}};a.f=function(b){var d=[].slice.call(arguments,1);return function(){a.apply(null,[b,null].concat(d).concat([].slice.call(arguments,0)))}};a.stop=function(){k=1};a.nt=function(a){return a?(new RegExp("(?:\\.|\\/|^)"+a+"(?:\\.|\\/|$)")).test(g):g};a.nts=function(){return g.split(h)};a.off=a.unbind=function(c,d){if(!c)return void(a._events=b={n:{}});var e,g,k,
n,w,p,l=c.split(h),x=[b];n=0;for(w=l.length;w>n;n++)for(p=0;p<x.length;p+=k.length-2){if(k=[p,1],e=x[p].n,"*"!=l[n])e[l[n]]&&k.push(e[l[n]]);else for(g in e)e.hasOwnProperty(g)&&k.push(e[g]);x.splice.apply(x,k)}n=0;for(w=x.length;w>n;n++)for(e=x[n];e.n;){if(d){if(e.f){p=0;for(k=e.f.length;k>p;p++)if(e.f[p]==d){e.f.splice(p,1);break}!e.f.length&&delete e.f}for(g in e.n)if(e.n.hasOwnProperty(g)&&e.n[g].f){l=e.n[g].f;p=0;for(k=l.length;k>p;p++)if(l[p]==d){l.splice(p,1);break}!l.length&&delete e.n[g].f}}else for(g in delete e.f,
e.n)e.n.hasOwnProperty(g)&&e.n[g].f&&delete e.n[g].f;e=e.n}};a.once=function(b,d){var e=function(){return a.unbind(b,e),d.apply(this,arguments)};return a.on(b,e)};a.version="0.4.2";a.toString=function(){return"You are running Eve 0.4.2"};"undefined"!=typeof module&&module.exports?module.exports=a:"undefined"!=typeof define?define("eve",[],function(){return a}):d.eve=a}(this);
(function(d,g){"function"==typeof define&&define.amd?define(["eve"],function(k){return g(d,k)}):g(d,d.eve||"function"==typeof require&&require("eve"))})(this,function(d,g){function k(a){if(k.is(a,"function"))return l?a():g.on("raphael.DOMload",a);if(k.is(a,U))return k._engine.create[G](k,a.splice(0,3+k.is(a[0],Y))).add(a);var b=Array.prototype.slice.call(arguments,0);if(k.is(b[b.length-1],"function")){var c=b.pop();return l?c.call(k._engine.create[G](k,b)):g.on("raphael.DOMload",function(){c.call(k._engine.create[G](k,
b))})}return k._engine.create[G](k,arguments)}function h(a){if("function"==typeof a||Object(a)!==a)return a;var b=new a.constructor,c;for(c in a)a[u](c)&&(b[c]=h(a[c]));return b}function q(a,b,c){function d(){var e=Array.prototype.slice.call(arguments,0),f=e.join("\u2400"),g=d.cache=d.cache||{},h=d.count=d.count||[];if(g[u](f)){a:for(var e=h,h=f,l=0,k=e.length;k>l;l++)if(e[l]===h){e.push(e.splice(l,1)[0]);break a}f=c?c(g[f]):g[f]}else f=(1E3<=h.length&&delete g[h.shift()],h.push(f),g[f]=a[G](b,e),
c?c(g[f]):g[f]);return f}return d}function e(){return this.hex}function b(a,b){for(var c=[],d=0,e=a.length;e-2*!b>d;d+=2){var f=[{x:+a[d-2],y:+a[d-1]},{x:+a[d],y:+a[d+1]},{x:+a[d+2],y:+a[d+3]},{x:+a[d+4],y:+a[d+5]}];b?d?e-4==d?f[3]={x:+a[0],y:+a[1]}:e-2==d&&(f[2]={x:+a[0],y:+a[1]},f[3]={x:+a[2],y:+a[3]}):f[0]={x:+a[e-2],y:+a[e-1]}:e-4==d?f[3]=f[2]:d||(f[0]={x:+a[d],y:+a[d+1]});c.push(["C",(-f[0].x+6*f[1].x+f[2].x)/6,(-f[0].y+6*f[1].y+f[2].y)/6,(f[1].x+6*f[2].x-f[3].x)/6,(f[1].y+6*f[2].y-f[3].y)/6,
f[2].x,f[2].y])}return c}function a(a,b,c,d,e,f,g,h,l){null==l&&(l=1);l=(1<l?1:0>l?0:l)/2;for(var k=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],m=0,n=0;12>n;n++)var r=l*k[n]+l,x=r*(r*(-3*a+9*c-9*e+3*g)+6*a-12*c+6*e)-3*a+3*c,r=r*(r*(-3*b+9*d-9*f+3*h)+6*b-12*d+6*f)-3*b+3*d,m=m+p[n]*M.sqrt(x*x+r*r);return l*m}function c(b,c,d,e,f,g,h,l,k){if(!(0>k||a(b,c,d,e,f,g,h,l)<k)){var p,m=.5,n=1-m;for(p=
a(b,c,d,e,f,g,h,l,n);.01<T(p-k);)m/=2,n+=(k>p?1:-1)*m,p=a(b,c,d,e,f,g,h,l,n);return n}}function f(b,c,d){b=k._path2curve(b);c=k._path2curve(c);for(var e,f,g,h,l,p,m,n,r,x,w=d?0:[],u=0,q=b.length;q>u;u++){var v=b[u];if("M"==v[0])e=l=v[1],f=p=v[2];else{"C"==v[0]?(r=[e,f].concat(v.slice(1)),e=r[6],f=r[7]):(r=[e,f,e,f,l,p,l,p],e=l,f=p);for(var v=0,z=c.length;z>v;v++){var A=c[v];if("M"==A[0])g=m=A[1],h=n=A[2];else{"C"==A[0]?(x=[g,h].concat(A.slice(1)),g=x[6],h=x[7]):(x=[g,h,g,h,m,n,m,n],g=m,h=n);var t=
r,E=x,A=d,y=k.bezierBBox(t),D=k.bezierBBox(E);if(k.isBBoxIntersect(y,D)){for(var y=a.apply(0,t),D=a.apply(0,E),y=C(~~(y/5),1),D=C(~~(D/5),1),B=[],L=[],F={},Ra=A?0:[],Ca=0;y+1>Ca;Ca++){var G=k.findDotsAtSegment.apply(k,t.concat(Ca/y));B.push({x:G.x,y:G.y,t:Ca/y})}for(Ca=0;D+1>Ca;Ca++)G=k.findDotsAtSegment.apply(k,E.concat(Ca/D)),L.push({x:G.x,y:G.y,t:Ca/D});for(Ca=0;y>Ca;Ca++)for(t=0;D>t;t++){var X=B[Ca],I=B[Ca+1],E=L[t],G=L[t+1],wa=.001>T(I.x-X.x)?"y":"x",O=.001>T(G.x-E.x)?"y":"x",N;b:{N=X.x;var K=
X.y,ia=I.x,M=I.y,P=E.x,J=E.y,R=G.x,S=G.y;if(!(C(N,ia)<H(P,R)||H(N,ia)>C(P,R)||C(K,M)<H(J,S)||H(K,M)>C(J,S))){var qa=(N*M-K*ia)*(P-R)-(N-ia)*(P*S-J*R),sa=(N*M-K*ia)*(J-S)-(K-M)*(P*S-J*R),Q=(N-ia)*(J-S)-(K-M)*(P-R);if(Q){var qa=qa/Q,sa=sa/Q,Q=+qa.toFixed(2),V=+sa.toFixed(2);if(!(Q<+H(N,ia).toFixed(2)||Q>+C(N,ia).toFixed(2)||Q<+H(P,R).toFixed(2)||Q>+C(P,R).toFixed(2)||V<+H(K,M).toFixed(2)||V>+C(K,M).toFixed(2)||V<+H(J,S).toFixed(2)||V>+C(J,S).toFixed(2))){N={x:qa,y:sa};break b}}}N=void 0}N&&F[N.x.toFixed(4)]!=
N.y.toFixed(4)&&(F[N.x.toFixed(4)]=N.y.toFixed(4),X=X.t+T((N[wa]-X[wa])/(I[wa]-X[wa]))*(I.t-X.t),E=E.t+T((N[O]-E[O])/(G[O]-E[O]))*(G.t-E.t),0<=X&&1.001>=X&&0<=E&&1.001>=E&&(A?Ra++:Ra.push({x:N.x,y:N.y,t1:H(X,1),t2:H(E,1)})))}A=Ra}else A=A?0:[];if(d)w+=A;else{y=0;for(D=A.length;D>y;y++)A[y].segment1=u,A[y].segment2=v,A[y].bez1=r,A[y].bez2=x;w=w.concat(A)}}}}}return w}function m(a,b,c,d,e,f){null!=a?(this.a=+a,this.b=+b,this.c=+c,this.d=+d,this.e=+e,this.f=+f):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=
0,this.f=0)}function v(){return this.x+O+this.y+O+this.width+" \u00d7 "+this.height}function r(a,b,c,d,e,f){function g(a,b){var c,d,e,f,p;e=a;for(p=0;8>p;p++){if(f=((k*e+l)*e+h)*e-a,T(f)<b)return e;if(d=(3*k*e+2*l)*e+h,1E-6>T(d))break;e-=f/d}if(c=0,d=1,e=a,c>e)return c;if(e>d)return d;for(;d>c&&!(f=((k*e+l)*e+h)*e,T(f-a)<b);)a>f?c=e:d=e,e=(d-c)/2+c;return e}var h=3*b,l=3*(d-b)-h,k=1-h-l,p=3*c,m=3*(e-c)-p,n=1-p-m;return function(a,b){var c=g(a,b);return((n*c+m)*c+p)*c}(a,1/(200*f))}function n(a,b){var c=
[],d={};if(this.ms=b,this.times=1,a){for(var e in a)a[u](e)&&(d[da(e)]=a[e],c.push(da(e)));c.sort(na)}this.anim=d;this.top=c[c.length-1];this.percents=c}function w(a,b,c,d,e,f){c=da(c);var h,l,p,n,x,w,q=a.ms,v={},z={},A={};if(d)for(y=0,D=ea.length;D>y;y++){var t=ea[y];if(t.el.id==b.id&&t.anim==a){t.percent!=c?(ea.splice(y,1),p=1):l=t;b.attr(t.totalOrigin);break}}else d=+z;for(var y=0,D=a.percents.length;D>y;y++){if(a.percents[y]==c||a.percents[y]>d*a.top){c=a.percents[y];x=a.percents[y-1]||0;q=q/
a.top*(c-x);n=a.percents[y+1];h=a.anim[c];break}d&&b.attr(a.anim[a.percents[y]])}if(h){if(l)l.initstatus=d,l.start=new Date-l.ms*d;else{for(var B in h)if(h[u](B)&&(ba[u](B)||b.paper.customAttributes[u](B)))switch(v[B]=b.attr(B),null==v[B]&&(v[B]=Ba[B]),z[B]=h[B],ba[B]){case Y:A[B]=(z[B]-v[B])/q;break;case "colour":v[B]=k.getRGB(v[B]);y=k.getRGB(z[B]);A[B]={r:(y.r-v[B].r)/q,g:(y.g-v[B].g)/q,b:(y.b-v[B].b)/q};break;case "path":var y=Ea(v[B],z[B]),L=y[1];v[B]=y[0];A[B]=[];y=0;for(D=v[B].length;D>y;y++){A[B][y]=
[0];for(var C=1,G=v[B][y].length;G>C;C++)A[B][y][C]=(L[y][C]-v[B][y][C])/q}break;case "transform":y=b._;if(L=ib(y[B],z[B]))for(v[B]=L.from,z[B]=L.to,A[B]=[],A[B].real=!0,y=0,D=v[B].length;D>y;y++)for(A[B][y]=[v[B][y][0]],C=1,G=v[B][y].length;G>C;C++)A[B][y][C]=(z[B][y][C]-v[B][y][C])/q;else L=b.matrix||new m,y={_:{transform:y.transform},getBBox:function(){return b.getBBox(1)}},v[B]=[L.a,L.b,L.c,L.d,L.e,L.f],rb(y,z[B]),z[B]=y._.transform,A[B]=[(y.matrix.a-L.a)/q,(y.matrix.b-L.b)/q,(y.matrix.c-L.c)/
q,(y.matrix.d-L.d)/q,(y.matrix.e-L.e)/q,(y.matrix.f-L.f)/q];break;case "csv":L=N(h[B])[R](E);D=N(v[B])[R](E);if("clip-rect"==B)for(v[B]=D,A[B]=[],y=D.length;y--;)A[B][y]=(L[y]-v[B][y])/q;z[B]=L;break;default:for(L=[][F](h[B]),D=[][F](v[B]),A[B]=[],y=b.paper.customAttributes[B].length;y--;)A[B][y]=((L[y]||0)-(D[y]||0))/q}B=h.easing;y=k.easing_formulas[B];if(!y)if(y=N(B).match(Z),y&&5==y.length)var X=y,y=function(a){return r(a,+X[1],+X[2],+X[3],+X[4],q)};else y=va;if(w=h.start||a.start||+new Date,t=
{anim:a,percent:c,timestamp:w,start:w+(a.del||0),status:0,initstatus:d||0,stop:!1,ms:q,easing:y,from:v,diff:A,to:z,el:b,callback:h.callback,prev:x,next:n,repeat:f||a.times,origin:b.attr(),totalOrigin:e},ea.push(t),d&&!l&&!p&&(t.stop=!0,t.start=new Date-q*d,1==ea.length))return Za();p&&(t.start=new Date-t.ms*d);1==ea.length&&sb(Za)}g("raphael.anim.start."+b.id,b,a)}}function p(a){for(var b=0;b<ea.length;b++)ea[b].el.paper==a&&ea.splice(b--,1)}k.version="2.1.2";k.eve=g;var l,x,E=/[, ]+/,z={circle:1,
rect:1,path:1,ellipse:1,text:1,image:1},A=/\{(\d+)\}/g,u="hasOwnProperty",y={doc:document,win:d},L=Object.prototype[u].call(y.win,"Raphael"),D=y.win.Raphael,B=function(){this.ca=this.customAttributes={}},G="apply",F="concat",I="ontouchstart"in y.win||y.win.DocumentTouch&&y.doc instanceof DocumentTouch,O=" ",N=String,R="split",P="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[R](O),K={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},
S=N.prototype.toLowerCase,M=Math,C=M.max,H=M.min,T=M.abs,V=M.pow,W=M.PI,Y="number",U="array",ca=Object.prototype.toString,la=(k._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),Q={NaN:1,Infinity:1,"-Infinity":1},
Z=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,ua=M.round,da=parseFloat,aa=parseInt,ka=N.prototype.toUpperCase,Ba=k._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"",
"stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},ba=k._availableAnimAttrs={blur:Y,"clip-rect":"csv",cx:Y,cy:Y,fill:"colour","fill-opacity":Y,"font-size":Y,height:Y,opacity:Y,path:"path",r:Y,rx:Y,ry:Y,stroke:"colour","stroke-opacity":Y,"stroke-width":Y,transform:"transform",width:Y,x:Y,y:Y},pa=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,
Ja={hs:1,rg:1},ma=/,?([achlmqrstvxz]),?/gi,ha=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,
Ha=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,t=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,
J=(k._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),na=function(a,b){return da(a)-da(b)},va=function(a){return a},Pa=k._rectPath=function(a,b,c,d,e){return e?[["M",a+e,b],["l",c-2*e,0],["a",e,e,0,0,1,e,e],["l",0,d-2*e],
["a",e,e,0,0,1,-e,e],["l",2*e-c,0],["a",e,e,0,0,1,-e,-e],["l",0,2*e-d],["a",e,e,0,0,1,e,-e],["z"]]:[["M",a,b],["l",c,0],["l",0,d],["l",-c,0],["z"]]},wa=function(a,b,c,d){return null==d&&(d=c),[["M",a,b],["m",0,-d],["a",c,d,0,1,1,0,2*d],["a",c,d,0,1,1,0,-2*d],["z"]]},X=k._getPath={path:function(a){return a.attr("path")},circle:function(a){a=a.attrs;return wa(a.cx,a.cy,a.r)},ellipse:function(a){a=a.attrs;return wa(a.cx,a.cy,a.rx,a.ry)},rect:function(a){a=a.attrs;return Pa(a.x,a.y,a.width,a.height,a.r)},
image:function(a){a=a.attrs;return Pa(a.x,a.y,a.width,a.height)},text:function(a){a=a._getBBox();return Pa(a.x,a.y,a.width,a.height)},set:function(a){a=a._getBBox();return Pa(a.x,a.y,a.width,a.height)}},ia=k.mapPath=function(a,b){if(!b)return a;var c,d,e,f,g,h,l;a=Ea(a);e=0;for(g=a.length;g>e;e++)for(l=a[e],f=1,h=l.length;h>f;f+=2)c=b.x(l[f],l[f+1]),d=b.y(l[f],l[f+1]),l[f]=c,l[f+1]=d;return a};if(k._g=y,k.type=y.win.SVGAngle||y.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure",
"1.1")?"SVG":"VML","VML"==k.type){var qa,sa=y.doc.createElement("div");if(sa.innerHTML='<v:shape adj="1"/>',qa=sa.firstChild,qa.style.behavior="url(#default#VML)",!qa||"object"!=typeof qa.adj)return k.type="";sa=null}k.svg=!(k.vml="VML"==k.type);k._Paper=B;k.fn=x=B.prototype=k.prototype;k._id=0;k._oid=0;k.is=function(a,b){return b=S.call(b),"finite"==b?!Q[u](+a):"array"==b?a instanceof Array:"null"==b&&null===a||b==typeof a&&null!==a||"object"==b&&a===Object(a)||"array"==b&&Array.isArray&&Array.isArray(a)||
ca.call(a).slice(8,-1).toLowerCase()==b};k.angle=function(a,b,c,d,e,f){return null==e?(a-=c,b-=d,a||b?(180*M.atan2(-b,-a)/W+540)%360:0):k.angle(a,b,e,f)-k.angle(c,d,e,f)};k.rad=function(a){return a%360*W/180};k.deg=function(a){return Math.round(180*a/W%360*1E3)/1E3};k.snapTo=function(a,b,c){if(c=k.is(c,"finite")?c:10,k.is(a,U))for(var d=a.length;d--;){if(T(a[d]-b)<=c)return a[d]}else{a=+a;d=b%a;if(c>d)return b-d;if(d>a-c)return b-d+a}return b};k.createUUID=function(a,b){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(a,
b).toUpperCase()}}(/[xy]/g,function(a){var b=16*M.random()|0;return("x"==a?b:3&b|8).toString(16)});k.setWindow=function(a){g("raphael.setWindow",k,y.win,a);y.win=a;y.doc=y.win.document;k._engine.initWin&&k._engine.initWin(y.win)};var za=function(a){if(k.vml){var b,c=/^\s+|\s+$/g;try{var d=new ActiveXObject("htmlfile");d.write("<body>");d.close();b=d.body}catch(e){b=createPopup().document.body}var f=b.createTextRange();za=q(function(a){try{b.style.color=N(a).replace(c,"");var d=f.queryCommandValue("ForeColor");
return d=(255&d)<<16|65280&d|(16711680&d)>>>16,"#"+("000000"+d.toString(16)).slice(-6)}catch(e){return"none"}})}else{var g=y.doc.createElement("i");g.title="Rapha\u00ebl Colour Picker";g.style.display="none";y.doc.body.appendChild(g);za=q(function(a){return g.style.color=a,y.doc.defaultView.getComputedStyle(g,"").getPropertyValue("color")})}return za(a)},Na=function(){return"hsb("+[this.h,this.s,this.b]+")"},Sa=function(){return"hsl("+[this.h,this.s,this.l]+")"},Aa=function(){return this.hex},Ia=
function(a,b,c){if(null==b&&k.is(a,"object")&&"r"in a&&"g"in a&&"b"in a&&(c=a.b,b=a.g,a=a.r),null==b&&k.is(a,"string"))c=k.getRGB(a),a=c.r,b=c.g,c=c.b;return(1<a||1<b||1<c)&&(a/=255,b/=255,c/=255),[a,b,c]},Ta=function(a,b,c,d){a*=255;b*=255;c*=255;a={r:a,g:b,b:c,hex:k.rgb(a,b,c),toString:Aa};return k.is(d,"finite")&&(a.opacity=d),a};k.color=function(a){var b;return k.is(a,"object")&&"h"in a&&"s"in a&&"b"in a?(b=k.hsb2rgb(a),a.r=b.r,a.g=b.g,a.b=b.b,a.hex=b.hex):k.is(a,"object")&&"h"in a&&"s"in a&&
"l"in a?(b=k.hsl2rgb(a),a.r=b.r,a.g=b.g,a.b=b.b,a.hex=b.hex):(k.is(a,"string")&&(a=k.getRGB(a)),k.is(a,"object")&&"r"in a&&"g"in a&&"b"in a?(b=k.rgb2hsl(a),a.h=b.h,a.s=b.s,a.l=b.l,b=k.rgb2hsb(a),a.v=b.b):(a={hex:"none"},a.r=a.g=a.b=a.h=a.s=a.v=a.l=-1)),a.toString=Aa,a};k.hsb2rgb=function(a,b,c,d){this.is(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(c=a.b,b=a.s,d=a.o,a=a.h);a*=360;var e,f,g,h,l;return a=a%360/60,l=c*b,h=l*(1-T(a%2-1)),e=f=g=c-l,a=~~a,e+=[l,h,0,0,h,l][a],f+=[h,l,l,h,0,0][a],g+=[0,0,h,l,
l,h][a],Ta(e,f,g,d)};k.hsl2rgb=function(a,b,c,d){this.is(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(c=a.l,b=a.s,a=a.h);(1<a||1<b||1<c)&&(a/=360,b/=100,c/=100);a*=360;var e,f,g,h,l;return a=a%360/60,l=2*b*(.5>c?c:1-c),h=l*(1-T(a%2-1)),e=f=g=c-l/2,a=~~a,e+=[l,h,0,0,h,l][a],f+=[h,l,l,h,0,0][a],g+=[0,0,h,l,l,h][a],Ta(e,f,g,d)};k.rgb2hsb=function(a,b,c){c=Ia(a,b,c);a=c[0];b=c[1];c=c[2];var d,e,f,g;return f=C(a,b,c),g=f-H(a,b,c),d=0==g?null:f==a?(b-c)/g:f==b?(c-a)/g+2:(a-b)/g+4,d=(d+360)%6*60/360,e=0==g?
0:g/f,{h:d,s:e,b:f,toString:Na}};k.rgb2hsl=function(a,b,c){c=Ia(a,b,c);a=c[0];b=c[1];c=c[2];var d,e,f,g,h,l;return g=C(a,b,c),h=H(a,b,c),l=g-h,d=0==l?null:g==a?(b-c)/l:g==b?(c-a)/l+2:(a-b)/l+4,d=(d+360)%6*60/360,f=(g+h)/2,e=0==l?0:.5>f?l/(2*f):l/(2-2*f),{h:d,s:e,l:f,toString:Sa}};k._path2string=function(){return this.join(",").replace(ma,"$1")};k._preload=function(a,b){var c=y.doc.createElement("img");c.style.cssText="position:absolute;left:-9999em;top:-9999em";c.onload=function(){b.call(this);this.onload=
null;y.doc.body.removeChild(this)};c.onerror=function(){y.doc.body.removeChild(this)};y.doc.body.appendChild(c);c.src=a};k.getRGB=q(function(a){if(!a||(a=N(a)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:e};if("none"==a)return{r:-1,g:-1,b:-1,hex:"none",toString:e};!Ja[u](a.toLowerCase().substring(0,2))&&"#"!=a.charAt()&&(a=za(a));var b,c,d,f,g,h;return(a=a.match(la))?(a[2]&&(d=aa(a[2].substring(5),16),c=aa(a[2].substring(3,5),16),b=aa(a[2].substring(1,3),16)),a[3]&&(d=aa((g=a[3].charAt(3))+
g,16),c=aa((g=a[3].charAt(2))+g,16),b=aa((g=a[3].charAt(1))+g,16)),a[4]&&(h=a[4][R](pa),b=da(h[0]),"%"==h[0].slice(-1)&&(b*=2.55),c=da(h[1]),"%"==h[1].slice(-1)&&(c*=2.55),d=da(h[2]),"%"==h[2].slice(-1)&&(d*=2.55),"rgba"==a[1].toLowerCase().slice(0,4)&&(f=da(h[3])),h[3]&&"%"==h[3].slice(-1)&&(f/=100)),a[5]?(h=a[5][R](pa),b=da(h[0]),"%"==h[0].slice(-1)&&(b*=2.55),c=da(h[1]),"%"==h[1].slice(-1)&&(c*=2.55),d=da(h[2]),"%"==h[2].slice(-1)&&(d*=2.55),("deg"==h[0].slice(-3)||"\u00b0"==h[0].slice(-1))&&(b/=
360),"hsba"==a[1].toLowerCase().slice(0,4)&&(f=da(h[3])),h[3]&&"%"==h[3].slice(-1)&&(f/=100),k.hsb2rgb(b,c,d,f)):a[6]?(h=a[6][R](pa),b=da(h[0]),"%"==h[0].slice(-1)&&(b*=2.55),c=da(h[1]),"%"==h[1].slice(-1)&&(c*=2.55),d=da(h[2]),"%"==h[2].slice(-1)&&(d*=2.55),("deg"==h[0].slice(-3)||"\u00b0"==h[0].slice(-1))&&(b/=360),"hsla"==a[1].toLowerCase().slice(0,4)&&(f=da(h[3])),h[3]&&"%"==h[3].slice(-1)&&(f/=100),k.hsl2rgb(b,c,d,f)):(a={r:b,g:c,b:d,toString:e},a.hex="#"+(16777216|d|c<<8|b<<16).toString(16).slice(1),
k.is(f,"finite")&&(a.opacity=f),a)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:e}},k);k.hsb=q(function(a,b,c){return k.hsb2rgb(a,b,c).hex});k.hsl=q(function(a,b,c){return k.hsl2rgb(a,b,c).hex});k.rgb=q(function(a,b,c){return"#"+(16777216|c|b<<8|a<<16).toString(16).slice(1)});k.getColor=function(a){a=this.getColor.start=this.getColor.start||{h:0,s:1,b:a||.75};var b=this.hsb2rgb(a.h,a.s,a.b);return a.h+=.075,1<a.h&&(a.h=0,a.s-=.2,0>=a.s&&(this.getColor.start={h:0,s:1,b:a.b})),b.hex};k.getColor.reset=
function(){delete this.start};k.parsePathString=function(a){if(!a)return null;var b=Da(a);if(b.arr)return ga(b.arr);var c={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},d=[];return k.is(a,U)&&k.is(a[0],U)&&(d=ga(a)),d.length||N(a).replace(ha,function(a,b,e){var f=[];a=b.toLowerCase();if(e.replace(t,function(a,b){b&&f.push(+b)}),"m"==a&&2<f.length&&(d.push([b][F](f.splice(0,2))),a="l",b="m"==b?"l":"L"),"r"==a)d.push([b][F](f));else for(;f.length>=c[a]&&(d.push([b][F](f.splice(0,c[a]))),c[a]););}),d.toString=
k._path2string,b.arr=ga(d),d};k.parseTransformString=q(function(a){if(!a)return null;var b=[];return k.is(a,U)&&k.is(a[0],U)&&(b=ga(a)),b.length||N(a).replace(Ha,function(a,c,d){var e=[];S.call(c);d.replace(t,function(a,b){b&&e.push(+b)});b.push([c][F](e))}),b.toString=k._path2string,b});var Da=function(a){var b=Da.ps=Da.ps||{};return b[a]?b[a].sleep=100:b[a]={sleep:100},setTimeout(function(){for(var c in b)b[u](c)&&c!=a&&(b[c].sleep--,!b[c].sleep&&delete b[c])}),b[a]};k.findDotsAtSegment=function(a,
b,c,d,e,f,g,h,l){var k=1-l,p=V(k,3),m=V(k,2),n=l*l,r=n*l,x=p*a+3*m*l*c+3*k*l*l*e+r*g,p=p*b+3*m*l*d+3*k*l*l*f+r*h,m=a+2*l*(c-a)+n*(e-2*c+a),r=b+2*l*(d-b)+n*(f-2*d+b),w=c+2*l*(e-c)+n*(g-2*e+c),n=d+2*l*(f-d)+n*(h-2*f+d);a=k*a+l*c;b=k*b+l*d;e=k*e+l*g;f=k*f+l*h;h=90-180*M.atan2(m-w,r-n)/W;return(m>w||n>r)&&(h+=180),{x:x,y:p,m:{x:m,y:r},n:{x:w,y:n},start:{x:a,y:b},end:{x:e,y:f},alpha:h}};k.bezierBBox=function(a,b,c,d,e,f,g,h){k.is(a,"array")||(a=[a,b,c,d,e,f,g,h]);a=Xa.apply(null,a);return{x:a.min.x,y:a.min.y,
x2:a.max.x,y2:a.max.y,width:a.max.x-a.min.x,height:a.max.y-a.min.y}};k.isPointInsideBBox=function(a,b,c){return b>=a.x&&b<=a.x2&&c>=a.y&&c<=a.y2};k.isBBoxIntersect=function(a,b){var c=k.isPointInsideBBox;return c(b,a.x,a.y)||c(b,a.x2,a.y)||c(b,a.x,a.y2)||c(b,a.x2,a.y2)||c(a,b.x,b.y)||c(a,b.x2,b.y)||c(a,b.x,b.y2)||c(a,b.x2,b.y2)||(a.x<b.x2&&a.x>b.x||b.x<a.x2&&b.x>a.x)&&(a.y<b.y2&&a.y>b.y||b.y<a.y2&&b.y>a.y)};k.pathIntersection=function(a,b){return f(a,b)};k.pathIntersectionNumber=function(a,b){return f(a,
b,1)};k.isPointInsidePath=function(a,b,c){var d=k.pathBBox(a);return k.isPointInsideBBox(d,b,c)&&1==f(a,[["M",b,c],["H",d.x2+10]],1)%2};k._removedFactory=function(a){return function(){g("raphael.log",null,"Rapha\u00ebl: you are calling to method \u201c"+a+"\u201d of removed object",a)}};var Ma=k.pathBBox=function(a){var b=Da(a);if(b.bbox)return h(b.bbox);if(!a)return{x:0,y:0,width:0,height:0,x2:0,y2:0};a=Ea(a);for(var c,d=0,e=0,f=[],g=[],l=0,k=a.length;k>l;l++)(c=a[l],"M"==c[0])?(d=c[1],e=c[2],f.push(d),
g.push(e)):(d=Xa(d,e,c[1],c[2],c[3],c[4],c[5],c[6]),f=f[F](d.min.x,d.max.x),g=g[F](d.min.y,d.max.y),d=c[5],e=c[6]);a=H[G](0,f);c=H[G](0,g);f=C[G](0,f);g=C[G](0,g);l=f-a;k=g-c;g={x:a,y:c,x2:f,y2:g,width:l,height:k,cx:a+l/2,cy:c+k/2};return b.bbox=h(g),g},ga=function(a){a=h(a);return a.toString=k._path2string,a},ya=k._pathToRelative=function(a){var b=Da(a);if(b.rel)return ga(b.rel);k.is(a,U)&&k.is(a&&a[0],U)||(a=k.parsePathString(a));var c=[],d=0,e=0,f=0,g=0,h=0;"M"==a[0][0]&&(d=a[0][1],e=a[0][2],f=
d,g=e,h++,c.push(["M",d,e]));for(var l=a.length;l>h;h++){var p=c[h]=[],m=a[h];if(m[0]!=S.call(m[0]))switch(p[0]=S.call(m[0]),p[0]){case "a":p[1]=m[1];p[2]=m[2];p[3]=m[3];p[4]=m[4];p[5]=m[5];p[6]=+(m[6]-d).toFixed(3);p[7]=+(m[7]-e).toFixed(3);break;case "v":p[1]=+(m[1]-e).toFixed(3);break;case "m":f=m[1],g=m[2];default:for(var n=1,r=m.length;r>n;n++)p[n]=+(m[n]-(n%2?d:e)).toFixed(3)}else for(c[h]=[],"m"==m[0]&&(f=m[1]+d,g=m[2]+e),p=0,n=m.length;n>p;p++)c[h][p]=m[p];m=c[h].length;switch(c[h][0]){case "z":d=
f;e=g;break;case "h":d+=+c[h][m-1];break;case "v":e+=+c[h][m-1];break;default:d+=+c[h][m-2],e+=+c[h][m-1]}}return c.toString=k._path2string,b.rel=ga(c),c},Wa=k._pathToAbsolute=function(a){var c=Da(a);if(c.abs)return ga(c.abs);if(k.is(a,U)&&k.is(a&&a[0],U)||(a=k.parsePathString(a)),!a||!a.length)return[["M",0,0]];var d=[],e=0,f=0,g=0,h=0,l=0;"M"==a[0][0]&&(e=+a[0][1],f=+a[0][2],g=e,h=f,l++,d[0]=["M",e,f]);for(var p,m=3==a.length&&"M"==a[0][0]&&"R"==a[1][0].toUpperCase()&&"Z"==a[2][0].toUpperCase(),
n=l,r=a.length;r>n;n++){if(d.push(l=[]),p=a[n],p[0]!=ka.call(p[0]))switch(l[0]=ka.call(p[0]),l[0]){case "A":l[1]=p[1];l[2]=p[2];l[3]=p[3];l[4]=p[4];l[5]=p[5];l[6]=+(p[6]+e);l[7]=+(p[7]+f);break;case "V":l[1]=+p[1]+f;break;case "H":l[1]=+p[1]+e;break;case "R":for(var x=[e,f][F](p.slice(1)),w=2,u=x.length;u>w;w++)x[w]=+x[w]+e,x[++w]=+x[w]+f;d.pop();d=d[F](b(x,m));break;case "M":g=+p[1]+e,h=+p[2]+f;default:for(w=1,u=p.length;u>w;w++)l[w]=+p[w]+(w%2?e:f)}else if("R"==p[0])x=[e,f][F](p.slice(1)),d.pop(),
d=d[F](b(x,m)),l=["R"][F](p.slice(-2));else for(x=0,w=p.length;w>x;x++)l[x]=p[x];switch(l[0]){case "Z":e=g;f=h;break;case "H":e=l[1];break;case "V":f=l[1];break;case "M":g=l[l.length-2],h=l[l.length-1];default:e=l[l.length-2],f=l[l.length-1]}}return d.toString=k._path2string,c.abs=ga(d),d},ab=function(a,b,c,d){return[a,b,c,d,c,d]},jb=function(a,b,c,d,e,f){var g=1/3,h=2/3;return[g*a+h*c,g*b+h*d,g*e+h*c,g*f+h*d,e,f]},tb=function(a,b,c,d,e,f,g,h,l,k){var p,m=120*W/180,n=W/180*(+e||0),r=[],x=q(function(a,
b,c){var d=a*M.cos(c)-b*M.sin(c);a=a*M.sin(c)+b*M.cos(c);return{x:d,y:a}});if(k)v=k[0],p=k[1],f=k[2],w=k[3];else{p=x(a,b,-n);a=p.x;b=p.y;p=x(h,l,-n);h=p.x;l=p.y;p=(M.cos(W/180*e),M.sin(W/180*e),(a-h)/2);v=(b-l)/2;w=p*p/(c*c)+v*v/(d*d);1<w&&(w=M.sqrt(w),c*=w,d*=w);var w=c*c,u=d*d,w=(f==g?-1:1)*M.sqrt(T((w*u-w*v*v-u*p*p)/(w*v*v+u*p*p)));f=w*c*v/d+(a+h)/2;var w=w*-d*p/c+(b+l)/2,v=M.asin(((b-w)/d).toFixed(9));p=M.asin(((l-w)/d).toFixed(9));v=f>a?W-v:v;p=f>h?W-p:p;0>v&&(v=2*W+v);0>p&&(p=2*W+p);g&&v>p&&
(v-=2*W);!g&&p>v&&(p-=2*W)}if(T(p-v)>m){var r=p,u=h,z=l;p=v+m*(g&&p>v?1:-1);h=f+c*M.cos(p);l=w+d*M.sin(p);r=tb(h,l,c,d,e,0,g,u,z,[p,r,f,w])}f=p-v;e=M.cos(v);m=M.sin(v);g=M.cos(p);p=M.sin(p);f=M.tan(f/4);c=4/3*c*f;f*=4/3*d;d=[a,b];a=[a+c*m,b-f*e];b=[h+c*p,l-f*g];h=[h,l];if(a[0]=2*d[0]-a[0],a[1]=2*d[1]-a[1],k)return[a,b,h][F](r);r=[a,b,h][F](r).join()[R](",");k=[];h=0;for(l=r.length;l>h;h++)k[h]=h%2?x(r[h-1],r[h],n).y:x(r[h],r[h+1],n).x;return k},eb=function(a,b,c,d,e,f,g,h,l){var k=1-l;return{x:V(k,
3)*a+3*V(k,2)*l*c+3*k*l*l*e+V(l,3)*g,y:V(k,3)*b+3*V(k,2)*l*d+3*k*l*l*f+V(l,3)*h}},Xa=q(function(a,b,c,d,e,f,g,h){var l,k=e-2*c+a-(g-2*e+c),p=2*(c-a)-2*(e-c),m=a-c,n=(-p+M.sqrt(p*p-4*k*m))/2/k,r=(-p-M.sqrt(p*p-4*k*m))/2/k,x=[b,h],w=[a,g];return"1e12"<T(n)&&(n=.5),"1e12"<T(r)&&(r=.5),0<n&&1>n&&(l=eb(a,b,c,d,e,f,g,h,n),w.push(l.x),x.push(l.y)),0<r&&1>r&&(l=eb(a,b,c,d,e,f,g,h,r),w.push(l.x),x.push(l.y)),k=f-2*d+b-(h-2*f+d),p=2*(d-b)-2*(f-d),m=b-d,n=(-p+M.sqrt(p*p-4*k*m))/2/k,r=(-p-M.sqrt(p*p-4*k*m))/
2/k,"1e12"<T(n)&&(n=.5),"1e12"<T(r)&&(r=.5),0<n&&1>n&&(l=eb(a,b,c,d,e,f,g,h,n),w.push(l.x),x.push(l.y)),0<r&&1>r&&(l=eb(a,b,c,d,e,f,g,h,r),w.push(l.x),x.push(l.y)),{min:{x:H[G](0,w),y:H[G](0,x)},max:{x:C[G](0,w),y:C[G](0,x)}}}),Ea=k._path2curve=q(function(a,b){var c=!b&&Da(a);if(!b&&c.curve)return ga(c.curve);var d=Wa(a),e=b&&Wa(b),f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},g={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h=function(a,b,c){var d,e;if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];switch(!(a[0]in
{T:1,Q:1})&&(b.qx=b.qy=null),a[0]){case "M":b.X=a[1];b.Y=a[2];break;case "A":a=["C"][F](tb[G](0,[b.x,b.y][F](a.slice(1))));break;case "S":"C"==c||"S"==c?(d=2*b.x-b.bx,e=2*b.y-b.by):(d=b.x,e=b.y);a=["C",d,e][F](a.slice(1));break;case "T":"Q"==c||"T"==c?(b.qx=2*b.x-b.qx,b.qy=2*b.y-b.qy):(b.qx=b.x,b.qy=b.y);a=["C"][F](jb(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case "Q":b.qx=a[1];b.qy=a[2];a=["C"][F](jb(b.x,b.y,a[1],a[2],a[3],a[4]));break;case "L":a=["C"][F](ab(b.x,b.y,a[1],a[2]));break;case "H":a=["C"][F](ab(b.x,
b.y,a[1],b.y));break;case "V":a=["C"][F](ab(b.x,b.y,b.x,a[1]));break;case "Z":a=["C"][F](ab(b.x,b.y,b.X,b.Y))}return a},l=function(a,b){if(7<a[b].length){a[b].shift();for(var c=a[b];c.length;)p[b]="A",e&&(m[b]="A"),a.splice(b++,0,["C"][F](c.splice(0,6)));a.splice(b,1);w=C(d.length,e&&e.length||0)}},k=function(a,b,c,f,g){a&&b&&"M"==a[g][0]&&"M"!=b[g][0]&&(b.splice(g,0,["M",f.x,f.y]),c.bx=0,c.by=0,c.x=a[g][1],c.y=a[g][2],w=C(d.length,e&&e.length||0))},p=[],m=[],n="",r="",x=0,w=C(d.length,e&&e.length||
0);for(;w>x;x++){d[x]&&(n=d[x][0]);"C"!=n&&(p[x]=n,x&&(r=p[x-1]));d[x]=h(d[x],f,r);"A"!=p[x]&&"C"==n&&(p[x]="C");l(d,x);e&&(e[x]&&(n=e[x][0]),"C"!=n&&(m[x]=n,x&&(r=m[x-1])),e[x]=h(e[x],g,r),"A"!=m[x]&&"C"==n&&(m[x]="C"),l(e,x));k(d,e,f,g,x);k(e,d,g,f,x);var u=d[x],q=e&&e[x],v=u.length,z=e&&q.length;f.x=u[v-2];f.y=u[v-1];f.bx=da(u[v-4])||f.x;f.by=da(u[v-3])||f.y;g.bx=e&&(da(q[z-4])||g.x);g.by=e&&(da(q[z-3])||g.y);g.x=e&&q[z-2];g.y=e&&q[z-1]}return e||(c.curve=ga(d)),e?[d,e]:d},null,ga),Ua=(k._parseDots=
q(function(a){for(var b=[],c=0,d=a.length;d>c;c++){var e={},f=a[c].match(/^([^:]*):?([\d\.]*)/);if(e.color=k.getRGB(f[1]),e.color.error)return null;e.color=e.color.hex;f[2]&&(e.offset=f[2]+"%");b.push(e)}c=1;for(d=b.length-1;d>c;c++)if(!b[c].offset){a=da(b[c-1].offset||0);f=0;for(e=c+1;d>e;e++)if(b[e].offset){f=b[e].offset;break}f||(f=100,e=d);f=da(f);for(f=(f-a)/(e-c+1);e>c;c++)a+=f,b[c].offset=a+"%"}return b}),k._tear=function(a,b){a==b.top&&(b.top=a.prev);a==b.bottom&&(b.bottom=a.next);a.next&&
(a.next.prev=a.prev);a.prev&&(a.prev.next=a.next)}),qb=(k._tofront=function(a,b){b.top!==a&&(Ua(a,b),a.next=null,a.prev=b.top,b.top.next=a,b.top=a)},k._toback=function(a,b){b.bottom!==a&&(Ua(a,b),a.next=b.bottom,a.prev=null,b.bottom.prev=a,b.bottom=a)},k._insertafter=function(a,b,c){Ua(a,c);b==c.top&&(c.top=a);b.next&&(b.next.prev=a);a.next=b.next;a.prev=b;b.next=a},k._insertbefore=function(a,b,c){Ua(a,c);b==c.bottom&&(c.bottom=a);b.prev&&(b.prev.next=a);a.prev=b.prev;b.prev=a;a.next=b},k.toMatrix=
function(a,b){var c=Ma(a),d={_:{transform:""},getBBox:function(){return c}};return rb(d,b),d.matrix}),rb=(k.transformPath=function(a,b){return ia(a,qb(a,b))},k._extractTransform=function(a,b){if(null==b)return a._.transform;b=N(b).replace(/\.{3}|\u2026/g,a._.transform||"");var c=k.parseTransformString(b),d=0,e=0,f=0,g=1,h=1,l=a._,f=new m;if(l.transform=c||[],c)for(var e=0,p=c.length;p>e;e++){var n,r,x,w,u,q=c[e],v=q.length,z=N(q[0]).toLowerCase(),A=q[0]!=z,t=A?f.invert():0;"t"==z&&3==v?A?(n=t.x(0,
0),r=t.y(0,0),x=t.x(q[1],q[2]),w=t.y(q[1],q[2]),f.translate(x-n,w-r)):f.translate(q[1],q[2]):"r"==z?2==v?(u=u||a.getBBox(1),f.rotate(q[1],u.x+u.width/2,u.y+u.height/2),d+=q[1]):4==v&&(A?(x=t.x(q[2],q[3]),w=t.y(q[2],q[3]),f.rotate(q[1],x,w)):f.rotate(q[1],q[2],q[3]),d+=q[1]):"s"==z?2==v||3==v?(u=u||a.getBBox(1),f.scale(q[1],q[v-1],u.x+u.width/2,u.y+u.height/2),g*=q[1],h*=q[v-1]):5==v&&(A?(x=t.x(q[3],q[4]),w=t.y(q[3],q[4]),f.scale(q[1],q[2],x,w)):f.scale(q[1],q[2],q[3],q[4]),g*=q[1],h*=q[2]):"m"==z&&
7==v&&f.add(q[1],q[2],q[3],q[4],q[5],q[6]);l.dirtyT=1;a.matrix=f}a.matrix=f;l.sx=g;l.sy=h;l.deg=d;l.dx=e=f.e;l.dy=f=f.f;1==g&&1==h&&!d&&l.bbox?(l.bbox.x+=+e,l.bbox.y+=+f):l.dirtyT=1}),Oa=function(a){var b=a[0];switch(b.toLowerCase()){case "t":return[b,0,0];case "m":return[b,1,0,0,1,0,0];case "r":return 4==a.length?[b,0,a[2],a[3]]:[b,0];case "s":return 5==a.length?[b,1,1,a[3],a[4]]:3==a.length?[b,1,1]:[b,1]}},ib=k._equaliseTransform=function(a,b){b=N(b).replace(/\.{3}|\u2026/g,a);a=k.parseTransformString(a)||
[];b=k.parseTransformString(b)||[];for(var c,d,e,f,g=C(a.length,b.length),h=[],l=[],p=0;g>p;p++){if(e=a[p]||Oa(b[p]),f=b[p]||Oa(e),e[0]!=f[0]||"r"==e[0].toLowerCase()&&(e[2]!=f[2]||e[3]!=f[3])||"s"==e[0].toLowerCase()&&(e[3]!=f[3]||e[4]!=f[4]))return;h[p]=[];l[p]=[];c=0;for(d=C(e.length,f.length);d>c;c++)c in e&&(h[p][c]=e[c]),c in f&&(l[p][c]=f[c])}return{from:h,to:l}};k._getContainer=function(a,b,c,d){var e;return e=null!=d||k.is(a,"object")?a:y.doc.getElementById(a),null!=e?e.tagName?null==b?{container:e,
width:e.style.pixelWidth||e.offsetWidth,height:e.style.pixelHeight||e.offsetHeight}:{container:e,width:b,height:c}:{container:1,x:a,y:b,width:c,height:d}:void 0};k.pathToRelative=ya;k._engine={};k.path2curve=Ea;k.matrix=function(a,b,c,d,e,f){return new m(a,b,c,d,e,f)};(function(a){function b(a){return a[0]*a[0]+a[1]*a[1]}function c(a){var d=M.sqrt(b(a));a[0]&&(a[0]/=d);a[1]&&(a[1]/=d)}a.add=function(a,b,c,d,e,f){var g=[[],[],[]],h=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]];b=[[a,c,e],
[b,d,f],[0,0,1]];a&&a instanceof m&&(b=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]);for(a=0;3>a;a++)for(c=0;3>c;c++){for(d=e=0;3>d;d++)e+=h[a][d]*b[d][c];g[a][c]=e}this.a=g[0][0];this.b=g[1][0];this.c=g[0][1];this.d=g[1][1];this.e=g[0][2];this.f=g[1][2]};a.invert=function(){var a=this.a*this.d-this.b*this.c;return new m(this.d/a,-this.b/a,-this.c/a,this.a/a,(this.c*this.f-this.d*this.e)/a,(this.b*this.e-this.a*this.f)/a)};a.clone=function(){return new m(this.a,this.b,this.c,this.d,this.e,this.f)};a.translate=
function(a,b){this.add(1,0,0,1,a,b)};a.scale=function(a,b,c,d){null==b&&(b=a);(c||d)&&this.add(1,0,0,1,c,d);this.add(a,0,0,b,0,0);(c||d)&&this.add(1,0,0,1,-c,-d)};a.rotate=function(a,b,c){a=k.rad(a);b=b||0;c=c||0;var d=+M.cos(a).toFixed(9);a=+M.sin(a).toFixed(9);this.add(d,a,-a,d,b,c);this.add(1,0,0,1,-b,-c)};a.x=function(a,b){return a*this.a+b*this.c+this.e};a.y=function(a,b){return a*this.b+b*this.d+this.f};a.get=function(a){return+this[N.fromCharCode(97+a)].toFixed(4)};a.toString=function(){return k.svg?
"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()};a.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"};a.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};a.split=function(){var a={};a.dx=this.e;a.dy=this.f;var d=
[[this.a,this.c],[this.b,this.d]];a.scalex=M.sqrt(b(d[0]));c(d[0]);a.shear=d[0][0]*d[1][0]+d[0][1]*d[1][1];d[1]=[d[1][0]-d[0][0]*a.shear,d[1][1]-d[0][1]*a.shear];a.scaley=M.sqrt(b(d[1]));c(d[1]);a.shear/=a.scaley;var e=-d[0][1],d=d[1][1];return 0>d?(a.rotate=k.deg(M.acos(d)),0>e&&(a.rotate=360-a.rotate)):a.rotate=k.deg(M.asin(e)),a.isSimple=!(+a.shear.toFixed(9)||a.scalex.toFixed(9)!=a.scaley.toFixed(9)&&a.rotate),a.isSuperSimple=!+a.shear.toFixed(9)&&a.scalex.toFixed(9)==a.scaley.toFixed(9)&&!a.rotate,
a.noRotation=!+a.shear.toFixed(9)&&!a.rotate,a};a.toTransformString=function(a){a=a||this[R]();return a.isSimple?(a.scalex=+a.scalex.toFixed(4),a.scaley=+a.scaley.toFixed(4),a.rotate=+a.rotate.toFixed(4),(a.dx||a.dy?"t"+[a.dx,a.dy]:"")+(1!=a.scalex||1!=a.scaley?"s"+[a.scalex,a.scaley,0,0]:"")+(a.rotate?"r"+[a.rotate,0,0]:"")):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}})(m.prototype);for(var ob=function(){this.returnValue=!1},cb=function(){return this.originalEvent.preventDefault()},
Ga=function(){this.cancelBubble=!0},bb=function(){return this.originalEvent.stopPropagation()},pb=function(a){return{x:a.clientX+(y.doc.documentElement.scrollLeft||y.doc.body.scrollLeft),y:a.clientY+(y.doc.documentElement.scrollTop||y.doc.body.scrollTop)}},wb=function(){return y.doc.addEventListener?function(a,b,c,d){var e=function(a){var b=pb(a);return c.call(d,a,b.x,b.y)};if(a.addEventListener(b,e,!1),I&&K[b]){var f=function(b){for(var e=pb(b),f=b,g=0,h=b.targetTouches&&b.targetTouches.length;h>
g;g++)if(b.targetTouches[g].target==a){b=b.targetTouches[g];b.originalEvent=f;b.preventDefault=cb;b.stopPropagation=bb;break}return c.call(d,b,e.x,e.y)};a.addEventListener(K[b],f,!1)}return function(){return a.removeEventListener(b,e,!1),I&&K[b]&&a.removeEventListener(K[b],f,!1),!0}}:y.doc.attachEvent?function(a,b,c,d){var e=function(a){a=a||y.win.event;var b=a.clientX+(y.doc.documentElement.scrollLeft||y.doc.body.scrollLeft),e=a.clientY+(y.doc.documentElement.scrollTop||y.doc.body.scrollTop);return a.preventDefault=
a.preventDefault||ob,a.stopPropagation=a.stopPropagation||Ga,c.call(d,a,b,e)};a.attachEvent("on"+b,e);return function(){return a.detachEvent("on"+b,e),!0}}:void 0}(),Va=[],db=function(a){for(var b,c=a.clientX,d=a.clientY,e=y.doc.documentElement.scrollTop||y.doc.body.scrollTop,f=y.doc.documentElement.scrollLeft||y.doc.body.scrollLeft,h=Va.length;h--;){if(b=Va[h],I&&a.touches)for(var l,k=a.touches.length;k--;){if(l=a.touches[k],l.identifier==b.el._drag.id){c=l.clientX;d=l.clientY;(a.originalEvent?a.originalEvent:
a).preventDefault();break}}else a.preventDefault();var p=b.el.node,m=p.nextSibling,n=p.parentNode,r=p.style.display;y.win.opera&&n.removeChild(p);p.style.display="none";k=b.el.paper.getElementByPoint(c,d);p.style.display=r;y.win.opera&&(m?n.insertBefore(p,m):n.appendChild(p));k&&g("raphael.drag.over."+b.el.id,b.el,k);c+=f;d+=e;g("raphael.drag.move."+b.el.id,b.move_scope||b.el,c-b.el._drag.x,d-b.el._drag.y,c,d,a)}},fb=function(a){k.unmousemove(db).unmouseup(fb);for(var b,c=Va.length;c--;)b=Va[c],b.el._drag=
{},g("raphael.drag.end."+b.el.id,b.end_scope||b.start_scope||b.move_scope||b.el,a);Va=[]},ja=k.el={},lb=P.length;lb--;)!function(a){k[a]=ja[a]=function(b,c){return k.is(b,"function")&&(this.events=this.events||[],this.events.push({name:a,f:b,unbind:wb(this.shape||this.node||y.doc,a,b,c||this)})),this};k["un"+a]=ja["un"+a]=function(b){for(var c=this.events||[],d=c.length;d--;)c[d].name!=a||!k.is(b,"undefined")&&c[d].f!=b||(c[d].unbind(),c.splice(d,1),!c.length&&delete this.events);return this}}(P[lb]);
ja.data=function(a,b){var c=J[this.id]=J[this.id]||{};if(0==arguments.length)return c;if(1==arguments.length){if(k.is(a,"object")){for(var d in a)a[u](d)&&this.data(d,a[d]);return this}return g("raphael.data.get."+this.id,this,c[a],a),c[a]}return c[a]=b,g("raphael.data.set."+this.id,this,b,a),this};ja.removeData=function(a){return null==a?J[this.id]={}:J[this.id]&&delete J[this.id][a],this};ja.getData=function(){return h(J[this.id]||{})};ja.hover=function(a,b,c,d){return this.mouseover(a,c).mouseout(b,
d||c)};ja.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};var fa=[];ja.drag=function(a,b,c,d,e,f){function h(l){(l.originalEvent||l).preventDefault();var p=l.clientX,m=l.clientY,n=y.doc.documentElement.scrollTop||y.doc.body.scrollTop,r=y.doc.documentElement.scrollLeft||y.doc.body.scrollLeft;if(this._drag.id=l.identifier,I&&l.touches)for(var x,w=l.touches.length;w--;)if(x=l.touches[w],this._drag.id=x.identifier,x.identifier==this._drag.id){p=x.clientX;m=x.clientY;break}this._drag.x=
p+r;this._drag.y=m+n;!Va.length&&k.mousemove(db).mouseup(fb);Va.push({el:this,move_scope:d,start_scope:e,end_scope:f});b&&g.on("raphael.drag.start."+this.id,b);a&&g.on("raphael.drag.move."+this.id,a);c&&g.on("raphael.drag.end."+this.id,c);g("raphael.drag.start."+this.id,e||d||this,l.clientX+r,l.clientY+n,l)}return this._drag={},fa.push({el:this,start:h}),this.mousedown(h),this};ja.onDragOver=function(a){a?g.on("raphael.drag.over."+this.id,a):g.unbind("raphael.drag.over."+this.id)};ja.undrag=function(){for(var a=
fa.length;a--;)fa[a].el==this&&(this.unmousedown(fa[a].start),fa.splice(a,1),g.unbind("raphael.drag.*."+this.id));!fa.length&&k.unmousemove(db).unmouseup(fb);Va=[]};x.circle=function(a,b,c){a=k._engine.circle(this,a||0,b||0,c||0);return this.__set__&&this.__set__.push(a),a};x.rect=function(a,b,c,d,e){a=k._engine.rect(this,a||0,b||0,c||0,d||0,e||0);return this.__set__&&this.__set__.push(a),a};x.ellipse=function(a,b,c,d){a=k._engine.ellipse(this,a||0,b||0,c||0,d||0);return this.__set__&&this.__set__.push(a),
a};x.path=function(a){a&&!k.is(a,"string")&&!k.is(a[0],U)&&(a+="");var b=k._engine.path(k.format[G](k,arguments),this);return this.__set__&&this.__set__.push(b),b};x.image=function(a,b,c,d,e){a=k._engine.image(this,a||"about:blank",b||0,c||0,d||0,e||0);return this.__set__&&this.__set__.push(a),a};x.text=function(a,b,c){a=k._engine.text(this,a||0,b||0,N(c));return this.__set__&&this.__set__.push(a),a};x.set=function(a){!k.is(a,"array")&&(a=Array.prototype.splice.call(arguments,0,arguments.length));
var b=new Ya(a);return this.__set__&&this.__set__.push(b),b.paper=this,b.type="set",b};x.setStart=function(a){this.__set__=a||this.set()};x.setFinish=function(a){a=this.__set__;return delete this.__set__,a};x.getSize=function(){var a=this.canvas.parentNode;return{width:a.offsetWidth,height:a.offsetHeight}};x.setSize=function(a,b){return k._engine.setSize.call(this,a,b)};x.setViewBox=function(a,b,c,d,e){return k._engine.setViewBox.call(this,a,b,c,d,e)};x.top=x.bottom=null;x.raphael=k;x.getElementByPoint=
function(a,b){var c,d,e=this.canvas,f=y.doc.elementFromPoint(a,b);if(y.win.opera&&"svg"==f.tagName){d=e.getBoundingClientRect();c=e.ownerDocument;var g=c.body,h=c.documentElement;c=d.top+(y.win.pageYOffset||h.scrollTop||g.scrollTop)-(h.clientTop||g.clientTop||0);d=d.left+(y.win.pageXOffset||h.scrollLeft||g.scrollLeft)-(h.clientLeft||g.clientLeft||0);g=e.createSVGRect();g.x=a-d;g.y=b-c;g.width=g.height=1;c=e.getIntersectionList(g,null);c.length&&(f=c[c.length-1])}if(!f)return null;for(;f.parentNode&&
f!=e.parentNode&&!f.raphael;)f=f.parentNode;return f==this.canvas.parentNode&&(f=e),f&&f.raphael?this.getById(f.raphaelid):null};x.getElementsByBBox=function(a){var b=this.set();return this.forEach(function(c){k.isBBoxIntersect(c.getBBox(),a)&&b.push(c)}),b};x.getById=function(a){for(var b=this.bottom;b;){if(b.id==a)return b;b=b.next}return null};x.forEach=function(a,b){for(var c=this.bottom;c&&!1!==a.call(b,c);)c=c.next;return this};x.getElementsByPoint=function(a,b){var c=this.set();return this.forEach(function(d){d.isPointInside(a,
b)&&c.push(d)}),c};ja.isPointInside=function(a,b){var c=this.realPath=X[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(c=k.transformPath(c,this.attr("transform"))),k.isPointInsidePath(c,a,b)};ja.getBBox=function(a){if(this.removed)return{};var b=this._;return a?((b.dirty||!b.bboxwt)&&(this.realPath=X[this.type](this),b.bboxwt=Ma(this.realPath),b.bboxwt.toString=v,b.dirty=0),b.bboxwt):((b.dirty||b.dirtyT||!b.bbox)&&((b.dirty||!this.realPath)&&(b.bboxwt=0,this.realPath=
X[this.type](this)),b.bbox=Ma(ia(this.realPath,this.matrix)),b.bbox.toString=v,b.dirty=b.dirtyT=0),b.bbox)};ja.clone=function(){if(this.removed)return null;var a=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(a),a};ja.glow=function(a){if("text"==this.type)return null;a=a||{};var b=(a.width||10)+(+this.attr("stroke-width")||1),c=a.fill||!1,d=a.opacity||.5,e=a.offsetx||0,f=a.offsety||0;a=a.color||"#000";for(var g=b/2,h=this.paper,l=h.set(),k=this.realPath||X[this.type](this),
k=this.matrix?ia(k,this.matrix):k,p=1;g+1>p;p++)l.push(h.path(k).attr({stroke:a,fill:c?a:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(b/g*p).toFixed(3),opacity:+(d/g).toFixed(3)}));return l.insertBefore(this).translate(e,f)};var Ka=function(b,d,e,f,g,h,l,p,m){return null==m?a(b,d,e,f,g,h,l,p):k.findDotsAtSegment(b,d,e,f,g,h,l,p,c(b,d,e,f,g,h,l,p,m))},ta=function(a,b){return function(c,d,e){c=Ea(c);for(var f,g,h,l,p,m="",n={},r=0,x=0,w=c.length;w>x;x++){if(h=c[x],"M"==
h[0])f=+h[1],g=+h[2];else{if(l=Ka(f,g,h[1],h[2],h[3],h[4],h[5],h[6]),r+l>d){if(b&&!n.start){if(p=Ka(f,g,h[1],h[2],h[3],h[4],h[5],h[6],d-r),m+=["C"+p.start.x,p.start.y,p.m.x,p.m.y,p.x,p.y],e)return m;n.start=m;m=["M"+p.x,p.y+"C"+p.n.x,p.n.y,p.end.x,p.end.y,h[5],h[6]].join();r+=l;f=+h[5];g=+h[6];continue}if(!a&&!b)return p=Ka(f,g,h[1],h[2],h[3],h[4],h[5],h[6],d-r),{x:p.x,y:p.y,alpha:p.alpha}}r+=l;f=+h[5];g=+h[6]}m+=h.shift()+h}return n.end=m,p=a?r:b?n:k.findDotsAtSegment(f,g,h[0],h[1],h[2],h[3],h[4],
h[5],1),p.alpha&&(p={x:p.x,y:p.y,alpha:p.alpha}),p}},oa=ta(1),Qa=ta(),gb=ta(0,1);k.getTotalLength=oa;k.getPointAtLength=Qa;k.getSubpath=function(a,b,c){if(1E-6>this.getTotalLength(a)-c)return gb(a,b).end;a=gb(a,c,1);return b?gb(a,b).end:a};ja.getTotalLength=function(){var a=this.getPath();if(a)return this.node.getTotalLength?this.node.getTotalLength():oa(a)};ja.getPointAtLength=function(a){var b=this.getPath();if(b)return Qa(b,a)};ja.getPath=function(){var a,b=k._getPath[this.type];if("text"!=this.type&&
"set"!=this.type)return b&&(a=b(this)),a};ja.getSubpath=function(a,b){var c=this.getPath();if(c)return k.getSubpath(c,a,b)};var xa=k.easing_formulas={linear:function(a){return a},"<":function(a){return V(a,1.7)},">":function(a){return V(a,.48)},"<>":function(a){var b=.48-a/1.04,c=M.sqrt(.1734+b*b);a=c-b;a=V(T(a),1/3)*(0>a?-1:1);b=-c-b;b=V(T(b),1/3)*(0>b?-1:1);a=a+b+.5;return 3*(1-a)*a*a+a*a*a},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){--a;return a*a*(2.70158*a+1.70158)+
1},elastic:function(a){return a==!!a?a:V(2,-10*a)*M.sin(2*(a-.075)*W/.3)+1},bounce:function(a){var b;return 1/2.75>a?b=7.5625*a*a:2/2.75>a?(a-=1.5/2.75,b=7.5625*a*a+.75):2.5/2.75>a?(a-=2.25/2.75,b=7.5625*a*a+.9375):(a-=2.625/2.75,b=7.5625*a*a+.984375),b}};xa.easeIn=xa["ease-in"]=xa["<"];xa.easeOut=xa["ease-out"]=xa[">"];xa.easeInOut=xa["ease-in-out"]=xa["<>"];xa["back-in"]=xa.backIn;xa["back-out"]=xa.backOut;var ea=[],sb=d.requestAnimationFrame||d.webkitRequestAnimationFrame||d.mozRequestAnimationFrame||
d.oRequestAnimationFrame||d.msRequestAnimationFrame||function(a){setTimeout(a,16)},Za=function(){for(var a=+new Date,b=0;b<ea.length;b++){var c=ea[b];if(!c.el.removed&&!c.paused){var d,e,f=a-c.start,h=c.ms,l=c.easing,p=c.from,m=c.diff,n=c.to,r=(c.t,c.el),x={},q={};if(c.initstatus?(f=(c.initstatus*c.anim.top-c.prev)/(c.percent-c.prev)*h,c.status=c.initstatus,delete c.initstatus,c.stop&&ea.splice(b--,1)):c.status=(c.prev+f/h*(c.percent-c.prev))/c.anim.top,!(0>f))if(h>f){var v=l(f/h),z;for(z in p)if(p[u](z)){switch(ba[z]){case Y:d=
+p[z]+v*h*m[z];break;case "colour":d="rgb("+[hb(ua(p[z].r+v*h*m[z].r)),hb(ua(p[z].g+v*h*m[z].g)),hb(ua(p[z].b+v*h*m[z].b))].join()+")";break;case "path":d=[];f=0;for(l=p[z].length;l>f;f++){d[f]=[p[z][f][0]];n=1;for(q=p[z][f].length;q>n;n++)d[f][n]=+p[z][f][n]+v*h*m[z][f][n];d[f]=d[f].join(O)}d=d.join(O);break;case "transform":if(m[z].real)for(d=[],f=0,l=p[z].length;l>f;f++)for(d[f]=[p[z][f][0]],n=1,q=p[z][f].length;q>n;n++)d[f][n]=p[z][f][n]+v*h*m[z][f][n];else d=function(a){return+p[z][a]+v*h*m[z][a]},
d=[["m",d(0),d(1),d(2),d(3),d(4),d(5)]];break;case "csv":if("clip-rect"==z)for(d=[],f=4;f--;)d[f]=+p[z][f]+v*h*m[z][f];break;default:for(l=[][F](p[z]),d=[],f=r.paper.customAttributes[z].length;f--;)d[f]=+l[f]+v*h*m[z][f]}x[z]=d}r.attr(x);(function(a,b,c){setTimeout(function(){g("raphael.anim.frame."+a,b,c)})})(r.id,r,c.anim)}else{if(function(a,b,c){setTimeout(function(){g("raphael.anim.frame."+b.id,b,c);g("raphael.anim.finish."+b.id,b,c);k.is(a,"function")&&a.call(b)})}(c.callback,r,c.anim),r.attr(n),
ea.splice(b--,1),1<c.repeat&&!c.next){for(e in n)n[u](e)&&(q[e]=c.totalOrigin[e]);c.el.attr(q);w(c.anim,c.el,c.anim.percents[0],null,c.totalOrigin,c.repeat-1)}c.next&&!c.stop&&w(c.anim,c.el,c.next,null,c.totalOrigin,c.repeat)}}}ea.length&&sb(Za)},hb=function(a){return 255<a?255:0>a?0:a};ja.animateWith=function(a,b,c,d,e,f){if(this.removed)return f&&f.call(this),this;c=c instanceof n?c:k.animation(c,d,e,f);w(c,this,c.percents[0],null,this.attr());c=0;for(d=ea.length;d>c;c++)if(ea[c].anim==b&&ea[c].el==
a){ea[d-1].start=ea[c].start;break}return this};ja.onAnimation=function(a){return a?g.on("raphael.anim.frame."+this.id,a):g.unbind("raphael.anim.frame."+this.id),this};n.prototype.delay=function(a){var b=new n(this.anim,this.ms);return b.times=this.times,b.del=+a||0,b};n.prototype.repeat=function(a){var b=new n(this.anim,this.ms);return b.del=this.del,b.times=M.floor(C(a,0))||1,b};k.animation=function(a,b,c,d){if(a instanceof n)return a;(k.is(c,"function")||!c)&&(d=d||c||null,c=null);a=Object(a);
b=+b||0;var e,f,g={};for(f in a)a[u](f)&&da(f)!=f&&da(f)+"%"!=f&&(e=!0,g[f]=a[f]);if(e)return c&&(g.easing=c),d&&(g.callback=d),new n({100:g},b);if(d){c=0;for(var h in a)e=aa(h),a[u](h)&&e>c&&(c=e);c+="%";!a[c].callback&&(a[c].callback=d)}return new n(a,b)};ja.animate=function(a,b,c,d){if(this.removed)return d&&d.call(this),this;a=a instanceof n?a:k.animation(a,b,c,d);return w(a,this,a.percents[0],null,this.attr()),this};ja.setTime=function(a,b){return a&&null!=b&&this.status(a,H(b,a.ms)/a.ms),this};
ja.status=function(a,b){var c,d,e=[],f=0;if(null!=b)return w(a,this,-1,H(b,1)),this;for(c=ea.length;c>f;f++)if(d=ea[f],d.el.id==this.id&&(!a||d.anim==a)){if(a)return d.status;e.push({anim:d.anim,status:d.status})}return a?0:e};ja.pause=function(a){for(var b=0;b<ea.length;b++)ea[b].el.id!=this.id||a&&ea[b].anim!=a||!1!==g("raphael.anim.pause."+this.id,this,ea[b].anim)&&(ea[b].paused=!0);return this};ja.resume=function(a){for(var b=0;b<ea.length;b++)if(ea[b].el.id==this.id&&(!a||ea[b].anim==a)){var c=
ea[b];!1!==g("raphael.anim.resume."+this.id,this,c.anim)&&(delete c.paused,this.status(c.anim,c.status))}return this};ja.stop=function(a){for(var b=0;b<ea.length;b++)ea[b].el.id!=this.id||a&&ea[b].anim!=a||!1!==g("raphael.anim.stop."+this.id,this,ea[b].anim)&&ea.splice(b--,1);return this};g.on("raphael.remove",p);g.on("raphael.clear",p);ja.toString=function(){return"Rapha\u00ebl\u2019s object"};var Ya=function(a){if(this.items=[],this.length=0,this.type="set",a)for(var b=0,c=a.length;c>b;b++)!a[b]||
a[b].constructor!=ja.constructor&&a[b].constructor!=Ya||(this[this.items.length]=this.items[this.items.length]=a[b],this.length++)},Fa=Ya.prototype;Fa.push=function(){for(var a,b,c=0,d=arguments.length;d>c;c++)a=arguments[c],!a||a.constructor!=ja.constructor&&a.constructor!=Ya||(b=this.items.length,this[b]=this.items[b]=a,this.length++);return this};Fa.pop=function(){return this.length&&delete this[this.length--],this.items.pop()};Fa.forEach=function(a,b){for(var c=0,d=this.items.length;d>c&&!1!==
a.call(b,this.items[c],c);c++);return this};for(var Eb in ja)ja[u](Eb)&&(Fa[Eb]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a][G](c,b)})}}(Eb));return Fa.attr=function(a,b){if(a&&k.is(a,U)&&k.is(a[0],"object"))for(var c=0,d=a.length;d>c;c++)this.items[c].attr(a[c]);else for(c=0,d=this.items.length;d>c;c++)this.items[c].attr(a,b);return this},Fa.clear=function(){for(;this.length;)this.pop()},Fa.splice=function(a,b,c){a=0>a?C(this.length+a,0):a;b=C(0,H(this.length-
a,b));var d,e=[],f=[],g=[];for(d=2;d<arguments.length;d++)g.push(arguments[d]);for(d=0;b>d;d++)f.push(this[a+d]);for(;d<this.length-a;d++)e.push(this[a+d]);var h=g.length;for(d=0;d<h+e.length;d++)this.items[a+d]=this[a+d]=h>d?g[d]:e[d-h];for(d=this.items.length=this.length-=b-h;this[d];)delete this[d++];return new Ya(f)},Fa.exclude=function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]==a)return this.splice(b,1),!0},Fa.animate=function(a,b,c,d){!k.is(c,"function")&&c||(d=c||null);var e,f=this.items.length,
g=f,h=this;if(!f)return this;d&&(e=function(){!--f&&d.call(h)});c=k.is(c,"string")?c:e;b=k.animation(a,b,c,e);for(a=this.items[--g].animate(b);g--;)this.items[g]&&!this.items[g].removed&&this.items[g].animateWith(a,b,b),this.items[g]&&!this.items[g].removed||f--;return this},Fa.insertAfter=function(a){for(var b=this.items.length;b--;)this.items[b].insertAfter(a);return this},Fa.getBBox=function(){for(var a=[],b=[],c=[],d=[],e=this.items.length;e--;)if(!this.items[e].removed){var f=this.items[e].getBBox();
a.push(f.x);b.push(f.y);c.push(f.x+f.width);d.push(f.y+f.height)}return a=H[G](0,a),b=H[G](0,b),c=C[G](0,c),d=C[G](0,d),{x:a,y:b,x2:c,y2:d,width:c-a,height:d-b}},Fa.clone=function(a){a=this.paper.set();for(var b=0,c=this.items.length;c>b;b++)a.push(this.items[b].clone());return a},Fa.toString=function(){return"Rapha\u00ebl\u2018s set"},Fa.glow=function(a){var b=this.paper.set();return this.forEach(function(c,d){var e=c.glow(a);null!=e&&e.forEach(function(a,c){b.push(a)})}),b},Fa.isPointInside=function(a,
b){var c=!1;return this.forEach(function(d){return d.isPointInside(a,b)?(c=!0,!1):void 0}),c},k.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var b={w:a.w,face:{},glyphs:{}},c=a.face["font-family"],d;for(d in a.face)a.face[u](d)&&(b.face[d]=a.face[d]);if(this.fonts[c]?this.fonts[c].push(b):this.fonts[c]=[b],!a.svg){b.face["units-per-em"]=aa(a.face["units-per-em"],10);for(var e in a.glyphs)if(a.glyphs[u](e)&&(c=a.glyphs[e],b.glyphs[e]={w:c.w,k:{},d:c.d&&"M"+c.d.replace(/[mlcxtrv]/g,
function(a){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[a]||"M"})+"z"},c.k))for(var f in c.k)c[u](f)&&(b.glyphs[e].k[f]=c.k[f])}return a},x.getFont=function(a,b,c,d){if(d=d||"normal",c=c||"normal",b=+b||{normal:400,bold:700,lighter:300,bolder:800}[b]||400,k.fonts){var e=k.fonts[a];if(!e){a=new RegExp("(^|\\s)"+a.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i");for(var f in k.fonts)if(k.fonts[u](f)&&a.test(f)){e=k.fonts[f];break}}var g;if(e)for(f=0,a=e.length;a>f&&(g=e[f],g.face["font-weight"]!=b||g.face["font-style"]!=
c&&g.face["font-style"]||g.face["font-stretch"]!=d);f++);return g}},x.print=function(a,b,c,d,e,f,g,h){f=f||"middle";g=C(H(g||0,1),-1);h=C(H(h||1,3),1);c=N(c)[R]("");var l=0,p=0,m="";if(k.is(d,"string")&&(d=this.getFont(d)),d){e=(e||16)/d.face["units-per-em"];var n=d.face.bbox[R](E),r=+n[0],x=n[3]-n[1],w=0;f=+n[1]+("baseline"==f?x+ +d.face.descent:x/2);for(var n=0,q=c.length;q>n;n++){if("\n"==c[n])p=v=l=0,w+=x*h;else var u=p&&d.glyphs[c[n-1]]||{},v=d.glyphs[c[n]],l=l+(p?(u.w||d.w)+(u.k&&u.k[c[n]]||
0)+d.w*g:0),p=1;v&&v.d&&(m+=k.transformPath(v.d,["t",l*e,w*e,"s",e,e,r,f,"t",(a-r)/e,(b-f)/e]))}}return this.path(m).attr({fill:"#000",stroke:"none"})},x.add=function(a){if(k.is(a,"array"))for(var b,c=this.set(),d=0,e=a.length;e>d;d++)b=a[d]||{},z[u](b.type)&&c.push(this[b.type]().attr(b));return c},k.format=function(a,b){var c=k.is(b,U)?[0][F](b):arguments;return a&&k.is(a,"string")&&c.length-1&&(a=a.replace(A,function(a,b){return null==c[++b]?"":c[b]})),a||""},k.fullfill=function(){var a=/\{([^\}]+)\}/g,
b=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,c=function(a,c,d){var e=d;return c.replace(b,function(a,b,c,d,f){b=b||d;e&&(b in e&&(e=e[b]),"function"==typeof e&&f&&(e=e()))}),e=(null==e||e==d?a:e)+""};return function(b,d){return String(b).replace(a,function(a,b){return c(a,b,d)})}}(),k.ninja=function(){return L?y.win.Raphael=D:delete Raphael,k},k.st=Fa,g.on("raphael.DOMload",function(){l=!0}),function(a,b,c){function d(){/in/.test(a.readyState)?setTimeout(d,9):k.eve("raphael.DOMload")}
null==a.readyState&&a.addEventListener&&(a.addEventListener(b,c=function(){a.removeEventListener(b,c,!1);a.readyState="complete"},!1),a.readyState="loading");d()}(document,"DOMContentLoaded"),function(){if(k.svg){var a=String,b=parseFloat,c=parseInt,d=Math,e=d.max,f=d.abs,g=d.pow,h=/[, ]+/,l=k.eve,p={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},m={};k.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\u00ebl "+
this.version};var n=function(b,c){if(c){"string"==typeof b&&(b=n(b));for(var d in c)c.hasOwnProperty(d)&&("xlink:"==d.substring(0,6)?b.setAttributeNS("http://www.w3.org/1999/xlink",d.substring(6),a(c[d])):b.setAttribute(d,a(c[d])))}else b=k._g.doc.createElementNS("http://www.w3.org/2000/svg",b),b.style&&(b.style.webkitTapHighlightColor="rgba(0,0,0,0)");return b},r=function(c,h){var l="linear",p=c.id+h,m=.5,r=.5,x=c.node,w=c.paper,q=x.style,u=k._g.doc.getElementById(p);if(!u){if(h=a(h).replace(k._radial_gradient,
function(a,c,e){if(l="radial",c&&e)m=b(c),r=b(e),a=2*(.5<r)-1,.25<g(m-.5,2)+g(r-.5,2)&&(r=d.sqrt(.25-g(m-.5,2))*a+.5)&&.5!=r&&(r=r.toFixed(5)-1E-5*a);return""}),h=h.split(/\s*\-\s*/),"linear"==l){u=h.shift();if(u=-b(u),isNaN(u))return null;var v=[0,0,d.cos(k.rad(u)),d.sin(k.rad(u))],u=1/(e(f(v[2]),f(v[3]))||1);v[2]*=u;v[3]*=u;0>v[2]&&(v[0]=-v[2],v[2]=0);0>v[3]&&(v[1]=-v[3],v[3]=0)}var z=k._parseDots(h);if(!z)return null;if(p=p.replace(/[\(\)\s,\xb0#]/g,"_"),c.gradient&&p!=c.gradient.id&&(w.defs.removeChild(c.gradient),
delete c.gradient),!c.gradient)for(u=n(l+"Gradient",{id:p}),c.gradient=u,n(u,"radial"==l?{fx:m,fy:r}:{x1:v[0],y1:v[1],x2:v[2],y2:v[3],gradientTransform:c.matrix.invert()}),w.defs.appendChild(u),w=0,v=z.length;v>w;w++)u.appendChild(n("stop",{offset:z[w].offset?z[w].offset:w?"100%":"0%","stop-color":z[w].color||"#fff"}))}return n(x,{fill:"url('"+document.location+"#"+p+"')",opacity:1,"fill-opacity":1}),q.fill="",q.opacity=1,q.fillOpacity=1,1},x=function(a){var b=a.getBBox(1);n(a.pattern,{patternTransform:a.matrix.invert()+
" translate("+b.x+","+b.y+")"})},w=function(b,c,d){if("path"==b.type){for(var e,f,g,h,l,r=a(c).toLowerCase().split("-"),x=b.paper,w=d?"end":"start",q=b.node,u=b.attrs,v=u["stroke-width"],z=r.length,A="classic",t=3,E=3,y=5;z--;)switch(r[z]){case "block":case "classic":case "oval":case "diamond":case "open":case "none":A=r[z];break;case "wide":E=5;break;case "narrow":E=2;break;case "long":t=5;break;case "short":t=2}if("open"==A?(t+=2,E+=2,y+=2,g=1,h=d?4:1,l={fill:"none",stroke:u.stroke}):(h=g=t/2,l=
{fill:u.stroke,stroke:"none"}),b._.arrows?d?(b._.arrows.endPath&&m[b._.arrows.endPath]--,b._.arrows.endMarker&&m[b._.arrows.endMarker]--):(b._.arrows.startPath&&m[b._.arrows.startPath]--,b._.arrows.startMarker&&m[b._.arrows.startMarker]--):b._.arrows={},"none"!=A){r="raphael-marker-"+A;z="raphael-marker-"+w+A+t+E+"-obj"+b.id;k._g.doc.getElementById(r)?m[r]++:(x.defs.appendChild(n(n("path"),{"stroke-linecap":"round",d:p[A],id:r})),m[r]=1);var B,D=k._g.doc.getElementById(z);D?(m[z]++,B=D.getElementsByTagName("use")[0]):
(D=n(n("marker"),{id:z,markerHeight:E,markerWidth:t,orient:"auto",refX:h,refY:E/2}),B=n(n("use"),{"xlink:href":"#"+r,transform:(d?"rotate(180 "+t/2+" "+E/2+") ":"")+"scale("+t/y+","+E/y+")","stroke-width":(1/((t/y+E/y)/2)).toFixed(4)}),D.appendChild(B),x.defs.appendChild(D),m[z]=1);n(B,l);g*="diamond"!=A&&"oval"!=A;d?(e=b._.arrows.startdx*v||0,f=k.getTotalLength(u.path)-g*v):(e=g*v,f=k.getTotalLength(u.path)-(b._.arrows.enddx*v||0));l={};l["marker-"+w]="url(#"+z+")";(f||e)&&(l.d=k.getSubpath(u.path,
e,f));n(q,l);b._.arrows[w+"Path"]=r;b._.arrows[w+"Marker"]=z;b._.arrows[w+"dx"]=g;b._.arrows[w+"Type"]=A;b._.arrows[w+"String"]=c}else d?(e=b._.arrows.startdx*v||0,f=k.getTotalLength(u.path)-e):(e=0,f=k.getTotalLength(u.path)-(b._.arrows.enddx*v||0)),b._.arrows[w+"Path"]&&n(q,{d:k.getSubpath(u.path,e,f)}),delete b._.arrows[w+"Path"],delete b._.arrows[w+"Marker"],delete b._.arrows[w+"dx"],delete b._.arrows[w+"Type"],delete b._.arrows[w+"String"];for(l in m)m.hasOwnProperty(l)&&!m[l]&&(b=k._g.doc.getElementById(l))&&
b.parentNode.removeChild(b)}},q={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},u=function(b,c,d){if(c=q[a(c).toLowerCase()]){var e=b.attrs["stroke-width"]||"1";d={round:e,square:e,butt:0}[b.attrs["stroke-linecap"]||d["stroke-linecap"]]||0;for(var f=[],g=c.length;g--;)f[g]=c[g]*e+(g%2?1:-1)*d;n(b.node,{"stroke-dasharray":f.join(",")})}else n(b.node,{"stroke-dasharray":"none"})},v=function(b,d){var g=b.node,
l=b.attrs,p=g.style.visibility;g.style.visibility="hidden";for(var m in d)if(d.hasOwnProperty(m)&&k._availableAttrs.hasOwnProperty(m)){var q=d[m];switch(l[m]=q,m){case "blur":b.blur(q);break;case "title":var v=g.getElementsByTagName("title");v.length&&(v=v[0])?v.firstChild.nodeValue=q:(v=n("title"),q=k._g.doc.createTextNode(q),v.appendChild(q),g.appendChild(v));break;case "href":case "target":v=g.parentNode;if("a"!=v.tagName.toLowerCase()){var A=n("a");v.insertBefore(A,g);A.appendChild(g);v=A}"target"==
m?v.setAttributeNS("http://www.w3.org/1999/xlink","show","blank"==q?"new":q):v.setAttributeNS("http://www.w3.org/1999/xlink",m,q);break;case "cursor":g.style.cursor=q;break;case "transform":b.transform(q);break;case "arrow-start":w(b,q);break;case "arrow-end":w(b,q,1);break;case "clip-rect":v=a(q).split(h);if(4==v.length){b.clip&&b.clip.parentNode.parentNode.removeChild(b.clip.parentNode);var A=n("clipPath"),t=n("rect");A.id=k.createUUID();n(t,{x:v[0],y:v[1],width:v[2],height:v[3]});A.appendChild(t);
b.paper.defs.appendChild(A);n(g,{"clip-path":"url(#"+A.id+")"});b.clip=t}!q&&(q=g.getAttribute("clip-path"))&&((q=k._g.doc.getElementById(q.replace(/(^url\(#|\)$)/g,"")))&&q.parentNode.removeChild(q),n(g,{"clip-path":""}),delete b.clip);break;case "path":"path"==b.type&&(n(g,{d:q?l.path=k._pathToAbsolute(q):"M0,0"}),b._.dirty=1,b._.arrows&&("startString"in b._.arrows&&w(b,b._.arrows.startString),"endString"in b._.arrows&&w(b,b._.arrows.endString,1)));break;case "width":if(g.setAttribute(m,q),b._.dirty=
1,!l.fx)break;m="x";q=l.x;case "x":l.fx&&(q=-l.x-(l.width||0));case "rx":if("rx"==m&&"rect"==b.type)break;case "cx":g.setAttribute(m,q);b.pattern&&x(b);b._.dirty=1;break;case "height":if(g.setAttribute(m,q),b._.dirty=1,!l.fy)break;m="y";q=l.y;case "y":l.fy&&(q=-l.y-(l.height||0));case "ry":if("ry"==m&&"rect"==b.type)break;case "cy":g.setAttribute(m,q);b.pattern&&x(b);b._.dirty=1;break;case "r":"rect"==b.type?n(g,{rx:q,ry:q}):g.setAttribute(m,q);b._.dirty=1;break;case "src":"image"==b.type&&g.setAttributeNS("http://www.w3.org/1999/xlink",
"href",q);break;case "stroke-width":1==b._.sx&&1==b._.sy||(q/=e(f(b._.sx),f(b._.sy))||1);g.setAttribute(m,q);l["stroke-dasharray"]&&u(b,l["stroke-dasharray"],d);b._.arrows&&("startString"in b._.arrows&&w(b,b._.arrows.startString),"endString"in b._.arrows&&w(b,b._.arrows.endString,1));break;case "stroke-dasharray":u(b,q,d);break;case "fill":var E=a(q).match(k._ISURL);if(E){var A=n("pattern"),y=n("image");A.id=k.createUUID();n(A,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});n(y,{x:0,y:0,
"xlink:href":E[1]});A.appendChild(y);(function(a){k._preload(E[1],function(){var b=this.offsetWidth,c=this.offsetHeight;n(a,{width:b,height:c});n(y,{width:b,height:c})})})(A);b.paper.defs.appendChild(A);n(g,{fill:"url(#"+A.id+")"});b.pattern=A;b.pattern&&x(b);break}v=k.getRGB(q);if(v.error){if(("circle"==b.type||"ellipse"==b.type||"r"!=a(q).charAt())&&r(b,q)){if("opacity"in l||"fill-opacity"in l)if(v=k._g.doc.getElementById(g.getAttribute("fill").replace(/^url\(#|\)$/g,""))){var B=v.getElementsByTagName("stop");
n(B[B.length-1],{"stop-opacity":("opacity"in l?l.opacity:1)*("fill-opacity"in l?l["fill-opacity"]:1)})}l.gradient=q;l.fill="none";break}}else delete d.gradient,delete l.gradient,!k.is(l.opacity,"undefined")&&k.is(d.opacity,"undefined")&&n(g,{opacity:l.opacity}),!k.is(l["fill-opacity"],"undefined")&&k.is(d["fill-opacity"],"undefined")&&n(g,{"fill-opacity":l["fill-opacity"]});v.hasOwnProperty("opacity")&&n(g,{"fill-opacity":1<v.opacity?v.opacity/100:v.opacity});case "stroke":v=k.getRGB(q);g.setAttribute(m,
v.hex);"stroke"==m&&v.hasOwnProperty("opacity")&&n(g,{"stroke-opacity":1<v.opacity?v.opacity/100:v.opacity});"stroke"==m&&b._.arrows&&("startString"in b._.arrows&&w(b,b._.arrows.startString),"endString"in b._.arrows&&w(b,b._.arrows.endString,1));break;case "gradient":"circle"!=b.type&&"ellipse"!=b.type&&"r"==a(q).charAt()||r(b,q);break;case "opacity":l.gradient&&!l.hasOwnProperty("stroke-opacity")&&n(g,{"stroke-opacity":1<q?q/100:q});case "fill-opacity":if(l.gradient){(v=k._g.doc.getElementById(g.getAttribute("fill").replace(/^url\(#|\)$/g,
"")))&&(B=v.getElementsByTagName("stop"),n(B[B.length-1],{"stop-opacity":q}));break}default:"font-size"==m&&(q=c(q,10)+"px"),v=m.replace(/(\-.)/g,function(a){return a.substring(1).toUpperCase()}),g.style[v]=q,b._.dirty=1,g.setAttribute(m,q)}}z(b,d);g.style.visibility=p},z=function(b,d){if("text"==b.type&&(d.hasOwnProperty("text")||d.hasOwnProperty("font")||d.hasOwnProperty("font-size")||d.hasOwnProperty("x")||d.hasOwnProperty("y"))){var e=b.attrs,f=b.node,g=f.firstChild?c(k._g.doc.defaultView.getComputedStyle(f.firstChild,
"").getPropertyValue("font-size"),10):10;if(d.hasOwnProperty("text")){for(e.text=d.text;f.firstChild;)f.removeChild(f.firstChild);for(var h,l=a(d.text).split("\n"),p=[],m=0,r=l.length;r>m;m++)h=n("tspan"),m&&n(h,{dy:1.2*g,x:e.x}),h.appendChild(k._g.doc.createTextNode(l[m])),f.appendChild(h),p[m]=h}else for(p=f.getElementsByTagName("tspan"),m=0,r=p.length;r>m;m++)m?n(p[m],{dy:1.2*g,x:e.x}):n(p[0],{dy:0});n(f,{x:e.x,y:e.y});b._.dirty=1;f=b._getBBox();(e=e.y-(f.y+f.height/2))&&k.is(e,"finite")&&n(p[0],
{dy:e})}},A=function(a){return a.parentNode&&"a"===a.parentNode.tagName.toLowerCase()?a.parentNode:a},t=function(a,b){this[0]=this.node=a;a.raphael=!0;this.id=k._oid++;a.raphaelid=this.id;this.matrix=k.matrix();this.realPath=null;this.paper=b;this.attrs=this.attrs||{};this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1};!b.bottom&&(b.bottom=this);(this.prev=b.top)&&(b.top.next=this);b.top=this;this.next=null},E=k.el;t.prototype=E;E.constructor=t;k._engine.path=function(a,b){var c=n("path");b.canvas&&
b.canvas.appendChild(c);c=new t(c,b);return c.type="path",v(c,{fill:"none",stroke:"#000",path:a}),c};E.rotate=function(c,d,e){if(this.removed)return this;if(c=a(c).split(h),c.length-1&&(d=b(c[1]),e=b(c[2])),c=b(c[0]),null==e&&(d=e),null==d||null==e)e=this.getBBox(1),d=e.x+e.width/2,e=e.y+e.height/2;return this.transform(this._.transform.concat([["r",c,d,e]])),this};E.scale=function(c,d,e,f){if(this.removed)return this;if(c=a(c).split(h),c.length-1&&(d=b(c[1]),e=b(c[2]),f=b(c[3])),c=b(c[0]),null==
d&&(d=c),null==f&&(e=f),null==e||null==f)var g=this.getBBox(1);return e=null==e?g.x+g.width/2:e,f=null==f?g.y+g.height/2:f,this.transform(this._.transform.concat([["s",c,d,e,f]])),this};E.translate=function(c,d){return this.removed?this:(c=a(c).split(h),c.length-1&&(d=b(c[1])),c=b(c[0])||0,d=+d||0,this.transform(this._.transform.concat([["t",c,d]])),this)};E.transform=function(a){var b=this._;if(null==a)return b.transform;if(k._extractTransform(this,a),this.clip&&n(this.clip,{transform:this.matrix.invert()}),
this.pattern&&x(this),this.node&&n(this.node,{transform:this.matrix}),1!=b.sx||1!=b.sy)a=this.attrs.hasOwnProperty("stroke-width")?this.attrs["stroke-width"]:1,this.attr({"stroke-width":a});return this};E.hide=function(){return this.removed||(this.node.style.display="none"),this};E.show=function(){return this.removed||(this.node.style.display=""),this};E.remove=function(){var a=A(this.node);if(!this.removed&&a.parentNode){var b=this.paper;b.__set__&&b.__set__.exclude(this);l.unbind("raphael.*.*."+
this.id);this.gradient&&b.defs.removeChild(this.gradient);k._tear(this,b);a.parentNode.removeChild(a);this.removeData();for(var c in this)this[c]="function"==typeof this[c]?k._removedFactory(c):null;this.removed=!0}};E._getBBox=function(){if("none"==this.node.style.display){this.show();var a=!0}var b,c=!1;this.paper.canvas.parentElement?b=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(b=this.paper.canvas.parentNode.style);b&&"none"==b.display&&(c=!0,b.display="");var d={};try{d=
this.node.getBBox()}catch(e){d={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{d=d||{},c&&(b.display="none")}return a&&this.hide(),d};E.attr=function(a,b){if(this.removed)return this;if(null==a){var c={},d;for(d in this.attrs)this.attrs.hasOwnProperty(d)&&(c[d]=this.attrs[d]);return c.gradient&&"none"==c.fill&&(c.fill=c.gradient)&&delete c.gradient,c.transform=this._.transform,c}if(null==b&&k.is(a,"string")){if("fill"==a&&"none"==this.attrs.fill&&
this.attrs.gradient)return this.attrs.gradient;if("transform"==a)return this._.transform;d=a.split(h);for(var c={},e=0,f=d.length;f>e;e++)a=d[e],a in this.attrs?c[a]=this.attrs[a]:k.is(this.paper.customAttributes[a],"function")?c[a]=this.paper.customAttributes[a].def:c[a]=k._availableAttrs[a];return f-1?c:c[d[0]]}if(null==b&&k.is(a,"array")){c={};e=0;for(f=a.length;f>e;e++)c[a[e]]=this.attr(a[e]);return c}null!=b?(c={},c[a]=b):null!=a&&k.is(a,"object")&&(c=a);for(e in c)l("raphael.attr."+e+"."+this.id,
this,c[e]);for(e in this.paper.customAttributes)if(this.paper.customAttributes.hasOwnProperty(e)&&c.hasOwnProperty(e)&&k.is(this.paper.customAttributes[e],"function"))for(f in d=this.paper.customAttributes[e].apply(this,[].concat(c[e])),this.attrs[e]=c[e],d)d.hasOwnProperty(f)&&(c[f]=d[f]);return v(this,c),this};E.toFront=function(){if(this.removed)return this;var a=A(this.node);a.parentNode.appendChild(a);a=this.paper;return a.top!=this&&k._tofront(this,a),this};E.toBack=function(){if(this.removed)return this;
var a=A(this.node),b=a.parentNode;b.insertBefore(a,b.firstChild);k._toback(this,this.paper);this.paper;return this};E.insertAfter=function(a){if(this.removed||!a)return this;var b=A(this.node),c=A(a.node||a[a.length-1].node);return c.nextSibling?c.parentNode.insertBefore(b,c.nextSibling):c.parentNode.appendChild(b),k._insertafter(this,a,this.paper),this};E.insertBefore=function(a){if(this.removed||!a)return this;var b=A(this.node),c=A(a.node||a[0].node);return c.parentNode.insertBefore(b,c),k._insertbefore(this,
a,this.paper),this};E.blur=function(a){if(0!==+a){var b=n("filter"),c=n("feGaussianBlur");this.attrs.blur=a;b.id=k.createUUID();n(c,{stdDeviation:+a||1.5});b.appendChild(c);this.paper.defs.appendChild(b);this._blur=b;n(this.node,{filter:"url(#"+b.id+")"})}else this._blur&&(this._blur.parentNode.removeChild(this._blur),delete this._blur,delete this.attrs.blur),this.node.removeAttribute("filter");return this};k._engine.circle=function(a,b,c,d){var e=n("circle");a.canvas&&a.canvas.appendChild(e);a=new t(e,
a);return a.attrs={cx:b,cy:c,r:d,fill:"none",stroke:"#000"},a.type="circle",n(e,a.attrs),a};k._engine.rect=function(a,b,c,d,e,f){var g=n("rect");a.canvas&&a.canvas.appendChild(g);a=new t(g,a);return a.attrs={x:b,y:c,width:d,height:e,rx:f||0,ry:f||0,fill:"none",stroke:"#000"},a.type="rect",n(g,a.attrs),a};k._engine.ellipse=function(a,b,c,d,e){var f=n("ellipse");a.canvas&&a.canvas.appendChild(f);a=new t(f,a);return a.attrs={cx:b,cy:c,rx:d,ry:e,fill:"none",stroke:"#000"},a.type="ellipse",n(f,a.attrs),
a};k._engine.image=function(a,b,c,d,e,f){var g=n("image");n(g,{x:c,y:d,width:e,height:f,preserveAspectRatio:"none"});g.setAttributeNS("http://www.w3.org/1999/xlink","href",b);a.canvas&&a.canvas.appendChild(g);a=new t(g,a);return a.attrs={x:c,y:d,width:e,height:f,src:b},a.type="image",a};k._engine.text=function(a,b,c,d){var e=n("text");a.canvas&&a.canvas.appendChild(e);a=new t(e,a);return a.attrs={x:b,y:c,"text-anchor":"middle",text:d,"font-family":k._availableAttrs["font-family"],"font-size":k._availableAttrs["font-size"],
stroke:"none",fill:"#000"},a.type="text",v(a,a.attrs),a};k._engine.setSize=function(a,b){return this.width=a||this.width,this.height=b||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this};k._engine.create=function(){var a=k._getContainer.apply(0,arguments),b=a&&a.container,c=a.x,d=a.y,e=a.width,a=a.height;if(!b)throw Error("SVG container not found.");var f,g=n("svg");return c=c||0,d=
d||0,e=e||512,a=a||342,n(g,{height:a,version:1.1,width:e,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==b?(g.style.cssText="overflow:hidden;position:absolute;left:"+c+"px;top:"+d+"px",k._g.doc.body.appendChild(g),f=1):(g.style.cssText="overflow:hidden;position:relative",b.firstChild?b.insertBefore(g,b.firstChild):b.appendChild(g)),b=new k._Paper,b.width=e,b.height=a,b.canvas=g,b.clear(),b._left=b._top=0,f&&(b.renderfix=function(){}),b.renderfix(),b};k._engine.setViewBox=
function(a,b,c,d,f){l("raphael.setViewBox",this,this._viewBox,[a,b,c,d,f]);var g,h=this.getSize(),h=e(c/h.width,d/h.height),k=this.top,p=f?"xMidYMid meet":"xMinYMin";null==a?(this._vbSize&&(h=1),delete this._vbSize,g="0 0 "+this.width+" "+this.height):(this._vbSize=h,g=a+" "+b+" "+c+" "+d);for(n(this.canvas,{viewBox:g,preserveAspectRatio:p});h&&k;)g="stroke-width"in k.attrs?k.attrs["stroke-width"]:1,k.attr({"stroke-width":g}),k._.dirty=1,k._.dirtyT=1,k=k.prev;return this._viewBox=[a,b,c,d,!!f],this};
k.prototype.renderfix=function(){var a,b=this.canvas,c=b.style;try{a=b.getScreenCTM()||b.createSVGMatrix()}catch(d){a=b.createSVGMatrix()}b=-a.e%1;a=-a.f%1;(b||a)&&(b&&(this._left=(this._left+b)%1,c.left=this._left+"px"),a&&(this._top=(this._top+a)%1,c.top=this._top+"px"))};k.prototype.clear=function(){k.eve("raphael.clear",this);for(var a=this.canvas;a.firstChild;)a.removeChild(a.firstChild);this.bottom=this.top=null;(this.desc=n("desc")).appendChild(k._g.doc.createTextNode("Created with Rapha\u00ebl "+
k.version));a.appendChild(this.desc);a.appendChild(this.defs=n("defs"))};k.prototype.remove=function(){l("raphael.remove",this);this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]="function"==typeof this[a]?k._removedFactory(a):null};var y=k.st,B;for(B in E)E.hasOwnProperty(B)&&!y.hasOwnProperty(B)&&(y[B]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a].apply(c,b)})}}(B))}}(),function(){if(k.vml){var a=String,b=parseFloat,
c=Math,d=c.round,e=c.max,f=c.min,g=c.abs,h=/[, ]+/,l=k.eve,p={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},m=/([clmz]),?([^clmz]*)/gi,n=/ progid:\S+Blur\([^\)]+\)/g,r=/-?[^,\s-]+/g,x={path:1,rect:1,image:1},w={circle:1,ellipse:1},q=function(b){var c=/[ahqstv]/gi,e=k._pathToAbsolute;if(a(b).match(c)&&(e=k._path2curve),c=/[clmz]/g,e==k._pathToAbsolute&&!a(b).match(c))return b=a(b).replace(m,function(a,b,c){var e=[],f="m"==b.toLowerCase(),g=p[b];return c.replace(r,function(a){f&&2==e.length&&(g+=
e+p["m"==b?"l":"L"],e=[]);e.push(d(21600*a))}),g+e});var f=e(b);b=[];for(var g=0,h=f.length;h>g;g++){c=f[g];e=f[g][0].toLowerCase();"z"==e&&(e="x");for(var l=1,n=c.length;n>l;l++)e+=d(21600*c[l])+(l!=n-1?",":"");b.push(e)}return b.join(" ")},u=function(a,b,c){var d=k.matrix();return d.rotate(-a,.5,.5),{dx:d.x(b,c),dy:d.y(b,c)}},v=function(a,b,c,d,e,f){var h=a._,l=a.matrix,k=h.fillpos;a=a.node;var p=a.style,m=1,n="",r=21600/b,x=21600/c;if(p.visibility="hidden",b&&c){if(a.coordsize=g(r)+" "+g(x),p.rotation=
f*(0>b*c?-1:1),f){var w=u(f,d,e);d=w.dx;e=w.dy}if(0>b&&(n+="x"),0>c&&(n+=" y")&&(m=-1),p.flip=n,a.coordorigin=d*-r+" "+e*-x,k||h.fillsize)d=(d=a.getElementsByTagName("fill"))&&d[0],a.removeChild(d),k&&(w=u(f,l.x(k[0],k[1]),l.y(k[0],k[1])),d.position=w.dx*m+" "+w.dy*m),h.fillsize&&(d.size=h.fillsize[0]*g(b)+" "+h.fillsize[1]*g(c)),a.appendChild(d);p.visibility="visible"}};k.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\u00ebl "+this.version};
var z=function(b,c,d){c=a(c).toLowerCase().split("-");d=d?"end":"start";for(var e=c.length,f="classic",g="medium",h="medium";e--;)switch(c[e]){case "block":case "classic":case "oval":case "diamond":case "open":case "none":f=c[e];break;case "wide":case "narrow":h=c[e];break;case "long":case "short":g=c[e]}b=b.node.getElementsByTagName("stroke")[0];b[d+"arrow"]=f;b[d+"arrowlength"]=g;b[d+"arrowwidth"]=h},A=function(c,g){c.attrs=c.attrs||{};var l=c.node,p=c.attrs,m=l.style,n=x[c.type]&&(g.x!=p.x||g.y!=
p.y||g.width!=p.width||g.height!=p.height||g.cx!=p.cx||g.cy!=p.cy||g.rx!=p.rx||g.ry!=p.ry||g.r!=p.r),r=w[c.type]&&(p.cx!=g.cx||p.cy!=g.cy||p.r!=g.r||p.rx!=g.rx||p.ry!=g.ry),u;for(u in g)g.hasOwnProperty(u)&&(p[u]=g[u]);if(n&&(p.path=k._getPath[c.type](c),c._.dirty=1),g.href&&(l.href=g.href),g.title&&(l.title=g.title),g.target&&(l.target=g.target),g.cursor&&(m.cursor=g.cursor),"blur"in g&&c.blur(g.blur),(g.path&&"path"==c.type||n)&&(l.path=q(~a(p.path).toLowerCase().indexOf("r")?k._pathToAbsolute(p.path):
p.path),c._.dirty=1,"image"==c.type&&(c._.fillpos=[p.x,p.y],c._.fillsize=[p.width,p.height],v(c,1,1,0,0,0))),"transform"in g&&c.transform(g.transform),r)m=+p.cx,n=+p.cy,r=+p.rx||+p.r||0,u=+p.ry||+p.r||0,l.path=k.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",d(21600*(m-r)),d(21600*(n-u)),d(21600*(m+r)),d(21600*(n+u)),d(21600*m)),c._.dirty=1;"clip-rect"in g&&(m=a(g["clip-rect"]).split(h),4==m.length&&(m[2]=+m[2]+ +m[0],m[3]=+m[3]+ +m[1],n=l.clipRect||k._g.doc.createElement("div"),r=n.style,r.clip=k.format("rect({1}px {2}px {3}px {0}px)",
m),l.clipRect||(r.position="absolute",r.top=0,r.left=0,r.width=c.paper.width+"px",r.height=c.paper.height+"px",l.parentNode.insertBefore(n,l),n.appendChild(l),l.clipRect=n)),g["clip-rect"]||l.clipRect&&(l.clipRect.style.clip="auto"));c.textpath&&(m=c.textpath.style,g.font&&(m.font=g.font),g["font-family"]&&(m.fontFamily='"'+g["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"'),g["font-size"]&&(m.fontSize=g["font-size"]),g["font-weight"]&&(m.fontWeight=g["font-weight"]),g["font-style"]&&
(m.fontStyle=g["font-style"]));if("arrow-start"in g&&z(c,g["arrow-start"]),"arrow-end"in g&&z(c,g["arrow-end"],1),null!=g.opacity||null!=g["stroke-width"]||null!=g.fill||null!=g.src||null!=g.stroke||null!=g["stroke-width"]||null!=g["stroke-opacity"]||null!=g["fill-opacity"]||null!=g["stroke-dasharray"]||null!=g["stroke-miterlimit"]||null!=g["stroke-linejoin"]||null!=g["stroke-linecap"]){m=l.getElementsByTagName("fill");if(m=m&&m[0],!m&&(m=B("fill")),"image"==c.type&&g.src&&(m.src=g.src),g.fill&&(m.on=
!0),(null==m.on||"none"==g.fill||null===g.fill)&&(m.on=!1),m.on&&g.fill)(n=a(g.fill).match(k._ISURL))?(m.parentNode==l&&l.removeChild(m),m.rotate=!0,m.src=n[1],m.type="tile",r=c.getBBox(1),m.position=r.x+" "+r.y,c._.fillpos=[r.x,r.y],k._preload(n[1],function(){c._.fillsize=[this.offsetWidth,this.offsetHeight]})):(m.color=k.getRGB(g.fill).hex,m.src="",m.type="solid",k.getRGB(g.fill).error&&(c.type in{circle:1,ellipse:1}||"r"!=a(g.fill).charAt())&&t(c,g.fill,m)&&(p.fill="none",p.gradient=g.fill,m.rotate=
!1));if("fill-opacity"in g||"opacity"in g)r=((+p["fill-opacity"]+1||2)-1)*((+p.opacity+1||2)-1)*((+k.getRGB(g.fill).o+1||2)-1),r=f(e(r,0),1),m.opacity=r,m.src&&(m.color="none");l.appendChild(m);m=l.getElementsByTagName("stroke")&&l.getElementsByTagName("stroke")[0];n=!1;!m&&(n=m=B("stroke"));(g.stroke&&"none"!=g.stroke||g["stroke-width"]||null!=g["stroke-opacity"]||g["stroke-dasharray"]||g["stroke-miterlimit"]||g["stroke-linejoin"]||g["stroke-linecap"])&&(m.on=!0);"none"!=g.stroke&&null!==g.stroke&&
null!=m.on&&0!=g.stroke&&0!=g["stroke-width"]||(m.on=!1);r=k.getRGB(g.stroke);m.on&&g.stroke&&(m.color=r.hex);r=((+p["stroke-opacity"]+1||2)-1)*((+p.opacity+1||2)-1)*((+r.o+1||2)-1);u=.75*(b(g["stroke-width"])||1);if(r=f(e(r,0),1),null==g["stroke-width"]&&(u=p["stroke-width"]),g["stroke-width"]&&(m.weight=u),u&&1>u&&(r*=u)&&(m.weight=1),m.opacity=r,g["stroke-linejoin"]&&(m.joinstyle=g["stroke-linejoin"]||"miter"),m.miterlimit=g["stroke-miterlimit"]||8,g["stroke-linecap"]&&(m.endcap="butt"==g["stroke-linecap"]?
"flat":"square"==g["stroke-linecap"]?"square":"round"),"stroke-dasharray"in g)r={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"},m.dashstyle=r.hasOwnProperty(g["stroke-dasharray"])?r[g["stroke-dasharray"]]:"";n&&l.appendChild(m)}if("text"==c.type){c.paper.canvas.style.display="";l=c.paper.span;n=p.font&&p.font.match(/\d+(?:\.\d*)?(?=px)/);m=l.style;p.font&&(m.font=p.font);
p["font-family"]&&(m.fontFamily=p["font-family"]);p["font-weight"]&&(m.fontWeight=p["font-weight"]);p["font-style"]&&(m.fontStyle=p["font-style"]);n=b(p["font-size"]||n&&n[0])||10;m.fontSize=100*n+"px";c.textpath.string&&(l.innerHTML=a(c.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));l=l.getBoundingClientRect();c.W=p.w=(l.right-l.left)/100;c.H=p.h=(l.bottom-l.top)/100;c.X=p.x;c.Y=p.y+c.H/2;("x"in g||"y"in g)&&(c.path.v=k.format("m{0},{1}l{2},{1}",d(21600*p.x),
d(21600*p.y),d(21600*p.x)+1));l="x y text font font-family font-weight font-style font-size".split(" ");m=0;for(n=l.length;n>m;m++)if(l[m]in g){c._.dirty=1;break}switch(p["text-anchor"]){case "start":c.textpath.style["v-text-align"]="left";c.bbx=c.W/2;break;case "end":c.textpath.style["v-text-align"]="right";c.bbx=-c.W/2;break;default:c.textpath.style["v-text-align"]="center",c.bbx=0}c.textpath.style["v-text-kern"]=!0}},t=function(d,e,f){d.attrs=d.attrs||{};var g=(d.attrs,Math.pow),h="linear",l=".5 .5";
if(d.attrs.gradient=e,e=a(e).replace(k._radial_gradient,function(a,d,e){return h="radial",d&&e&&(d=b(d),e=b(e),.25<g(d-.5,2)+g(e-.5,2)&&(e=c.sqrt(.25-g(d-.5,2))*(2*(.5<e)-1)+.5),l=d+" "+e),""}),e=e.split(/\s*\-\s*/),"linear"==h){var p=e.shift();if(p=-b(p),isNaN(p))return null}e=k._parseDots(e);if(!e)return null;if(d=d.shape||d.node,e.length){d.removeChild(f);f.on=!0;f.method="none";f.color=e[0].color;f.color2=e[e.length-1].color;for(var m=[],n=0,r=e.length;r>n;n++)e[n].offset&&m.push(e[n].offset+
" "+e[n].color);f.colors=m.length?m.join():"0% "+f.color;"radial"==h?(f.type="gradientTitle",f.focus="100%",f.focussize="0 0",f.focusposition=l,f.angle=0):(f.type="gradient",f.angle=(270-p)%360);d.appendChild(f)}return 1},E=function(a,b){this[0]=this.node=a;a.raphael=!0;this.id=k._oid++;a.raphaelid=this.id;this.Y=this.X=0;this.attrs={};this.paper=b;this.matrix=k.matrix();this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1};!b.bottom&&(b.bottom=this);(this.prev=b.top)&&(b.top.next=this);
b.top=this;this.next=null},y=k.el;E.prototype=y;y.constructor=E;y.transform=function(b){if(null==b)return this._.transform;var c,d=this.paper._viewBoxShift,e=d?"s"+[d.scale,d.scale]+"-1-1t"+[d.dx,d.dy]:"";d&&(c=b=a(b).replace(/\.{3}|\u2026/g,this._.transform||""));k._extractTransform(this,e+b);var f,d=this.matrix.clone(),e=this.skew;b=this.node;var g=~a(this.attrs.fill).indexOf("-"),h=!a(this.attrs.fill).indexOf("url(");(d.translate(1,1),h||g||"image"==this.type)?(e.matrix="1 0 0 1",e.offset="0 0",
f=d.split(),g&&f.noRotation||!f.isSimple)?(b.style.filter=d.toFilter(),d=this.getBBox(),e=this.getBBox(1),f=d.x-e.x,d=d.y-e.y,b.coordorigin=-21600*f+" "+-21600*d,v(this,1,1,f,d,0)):(b.style.filter="",v(this,f.scalex,f.scaley,f.dx,f.dy,f.rotate)):(b.style.filter="",e.matrix=a(d),e.offset=d.offset());return null!==c&&(this._.transform=c,k._extractTransform(this,c)),this};y.rotate=function(c,d,e){if(this.removed)return this;if(null!=c){if(c=a(c).split(h),c.length-1&&(d=b(c[1]),e=b(c[2])),c=b(c[0]),null==
e&&(d=e),null==d||null==e)e=this.getBBox(1),d=e.x+e.width/2,e=e.y+e.height/2;return this._.dirtyT=1,this.transform(this._.transform.concat([["r",c,d,e]])),this}};y.translate=function(c,d){return this.removed?this:(c=a(c).split(h),c.length-1&&(d=b(c[1])),c=b(c[0])||0,d=+d||0,this._.bbox&&(this._.bbox.x+=c,this._.bbox.y+=d),this.transform(this._.transform.concat([["t",c,d]])),this)};y.scale=function(c,d,e,f){if(this.removed)return this;if(c=a(c).split(h),c.length-1&&(d=b(c[1]),e=b(c[2]),f=b(c[3]),isNaN(e)&&
(e=null),isNaN(f)&&(f=null)),c=b(c[0]),null==d&&(d=c),null==f&&(e=f),null==e||null==f)var g=this.getBBox(1);return e=null==e?g.x+g.width/2:e,f=null==f?g.y+g.height/2:f,this.transform(this._.transform.concat([["s",c,d,e,f]])),this._.dirtyT=1,this};y.hide=function(){return!this.removed&&(this.node.style.display="none"),this};y.show=function(){return!this.removed&&(this.node.style.display=""),this};y.auxGetBBox=k.el.getBBox;y.getBBox=function(){var a=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var b=
{},c=1/this.paper._viewBoxShift.scale;return b.x=a.x-this.paper._viewBoxShift.dx,b.x*=c,b.y=a.y-this.paper._viewBoxShift.dy,b.y*=c,b.width=a.width*c,b.height=a.height*c,b.x2=b.x+b.width,b.y2=b.y+b.height,b}return a};y._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}};y.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this);k.eve.unbind("raphael.*.*."+this.id);k._tear(this,
this.paper);this.node.parentNode.removeChild(this.node);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var a in this)this[a]="function"==typeof this[a]?k._removedFactory(a):null;this.removed=!0}};y.attr=function(a,b){if(this.removed)return this;if(null==a){var c={},d;for(d in this.attrs)this.attrs.hasOwnProperty(d)&&(c[d]=this.attrs[d]);return c.gradient&&"none"==c.fill&&(c.fill=c.gradient)&&delete c.gradient,c.transform=this._.transform,c}if(null==b&&k.is(a,"string")){if("fill"==a&&
"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;d=a.split(h);for(var c={},e=0,f=d.length;f>e;e++)a=d[e],a in this.attrs?c[a]=this.attrs[a]:k.is(this.paper.customAttributes[a],"function")?c[a]=this.paper.customAttributes[a].def:c[a]=k._availableAttrs[a];return f-1?c:c[d[0]]}if(this.attrs&&null==b&&k.is(a,"array")){c={};e=0;for(f=a.length;f>e;e++)c[a[e]]=this.attr(a[e]);return c}null!=b&&(c={},c[a]=b);null==b&&k.is(a,"object")&&(c=a);for(e in c)l("raphael.attr."+e+"."+this.id,
this,c[e]);if(c){for(e in this.paper.customAttributes)if(this.paper.customAttributes.hasOwnProperty(e)&&c.hasOwnProperty(e)&&k.is(this.paper.customAttributes[e],"function"))for(f in d=this.paper.customAttributes[e].apply(this,[].concat(c[e])),this.attrs[e]=c[e],d)d.hasOwnProperty(f)&&(c[f]=d[f]);c.text&&"text"==this.type&&(this.textpath.string=c.text);A(this,c)}return this};y.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&k._tofront(this,
this.paper),this};y.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),k._toback(this,this.paper)),this)};y.insertAfter=function(a){return this.removed?this:(a.constructor==k.st.constructor&&(a=a[a.length-1]),a.node.nextSibling?a.node.parentNode.insertBefore(this.node,a.node.nextSibling):a.node.parentNode.appendChild(this.node),k._insertafter(this,a,this.paper),this)};y.insertBefore=
function(a){return this.removed?this:(a.constructor==k.st.constructor&&(a=a[0]),a.node.parentNode.insertBefore(this.node,a.node),k._insertbefore(this,a,this.paper),this)};y.blur=function(a){var b=this.node.runtimeStyle,c=b.filter;return c=c.replace(n,""),0!==+a?(this.attrs.blur=a,b.filter=c+"  progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+a||1.5)+")",b.margin=k.format("-{0}px 0 0 -{0}px",d(+a||1.5))):(b.filter=c,b.margin=0,delete this.attrs.blur),this};k._engine.path=function(a,b){var c=
B("shape");c.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)";c.coordsize="21600 21600";c.coordorigin=b.coordorigin;var d=new E(c,b),e={fill:"none",stroke:"#000"};a&&(e.path=a);d.type="path";d.path=[];d.Path="";A(d,e);b.canvas.appendChild(c);e=B("skew");return e.on=!0,c.appendChild(e),d.skew=e,d.transform(""),d};k._engine.rect=function(a,b,c,d,e,f){var g=k._rectPath(b,c,d,e,f);a=a.path(g);var h=a.attrs;return a.X=h.x=b,a.Y=h.y=c,a.W=h.width=d,a.H=h.height=
e,h.r=f,h.path=g,a.type="rect",a};k._engine.ellipse=function(a,b,c,d,e){a=a.path();a.attrs;return a.X=b-d,a.Y=c-e,a.W=2*d,a.H=2*e,a.type="ellipse",A(a,{cx:b,cy:c,rx:d,ry:e}),a};k._engine.circle=function(a,b,c,d){a=a.path();a.attrs;return a.X=b-d,a.Y=c-d,a.W=a.H=2*d,a.type="circle",A(a,{cx:b,cy:c,r:d}),a};k._engine.image=function(a,b,c,d,e,f){var g=k._rectPath(c,d,e,f);a=a.path(g).attr({stroke:"none"});var h=a.attrs,l=a.node,p=l.getElementsByTagName("fill")[0];return h.src=b,a.X=h.x=c,a.Y=h.y=d,a.W=
h.width=e,a.H=h.height=f,h.path=g,a.type="image",p.parentNode==l&&l.removeChild(p),p.rotate=!0,p.src=b,p.type="tile",a._.fillpos=[c,d],a._.fillsize=[e,f],l.appendChild(p),v(a,1,1,0,0,0),a};k._engine.text=function(b,c,e,f){var g=B("shape"),h=B("path"),l=B("textpath");c=c||0;e=e||0;f=f||"";h.v=k.format("m{0},{1}l{2},{1}",d(21600*c),d(21600*e),d(21600*c)+1);h.textpathok=!0;l.string=a(f);l.on=!0;g.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)";g.coordsize=
"21600 21600";g.coordorigin="0 0";var p=new E(g,b),m={fill:"#000",stroke:"none",font:k._availableAttrs.font,text:f};p.shape=g;p.path=h;p.textpath=l;p.type="text";p.attrs.text=a(f);p.attrs.x=c;p.attrs.y=e;p.attrs.w=1;p.attrs.h=1;A(p,m);g.appendChild(l);g.appendChild(h);b.canvas.appendChild(g);b=B("skew");return b.on=!0,g.appendChild(b),p.skew=b,p.transform(""),p};k._engine.setSize=function(a,b){var c=this.canvas.style;return this.width=a,this.height=b,a==+a&&(a+="px"),b==+b&&(b+="px"),c.width=a,c.height=
b,c.clip="rect(0 "+a+" "+b+" 0)",this._viewBox&&k._engine.setViewBox.apply(this,this._viewBox),this};k._engine.setViewBox=function(a,b,c,d,e){k.eve("raphael.setViewBox",this,this._viewBox,[a,b,c,d,e]);var f,g,h=this.getSize(),l=h.width,p=h.height;return e&&(f=p/d,g=l/c,l>c*f&&(a-=(l-c*f)/2/f),p>d*g&&(b-=(p-d*g)/2/g)),this._viewBox=[a,b,c,d,!!e],this._viewBoxShift={dx:-a,dy:-b,scale:h},this.forEach(function(a){a.transform("...")}),this};var B;k._engine.initWin=function(a){var b=a.document;31>b.styleSheets.length?
b.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):b.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!b.namespaces.rvml&&b.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),B=function(a){return b.createElement("<rvml:"+a+' class="rvml">')}}catch(c){B=function(a){return b.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}};k._engine.initWin(k._g.win);k._engine.create=function(){var a=k._getContainer.apply(0,arguments),b=a.container,c=
a.height,d=a.width,e=a.x,a=a.y;if(!b)throw Error("VML container not found.");var f=new k._Paper,g=f.canvas=k._g.doc.createElement("div"),h=g.style;return e=e||0,a=a||0,d=d||512,c=c||342,f.width=d,f.height=c,d==+d&&(d+="px"),c==+c&&(c+="px"),f.coordsize="21600000 21600000",f.coordorigin="0 0",f.span=k._g.doc.createElement("span"),f.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",g.appendChild(f.span),h.cssText=k.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",
d,c),1==b?(k._g.doc.body.appendChild(g),h.left=e+"px",h.top=a+"px",h.position="absolute"):b.firstChild?b.insertBefore(g,b.firstChild):b.appendChild(g),f.renderfix=function(){},f};k.prototype.clear=function(){k.eve("raphael.clear",this);this.canvas.innerHTML="";this.span=k._g.doc.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas.appendChild(this.span);this.bottom=this.top=null};k.prototype.remove=
function(){k.eve("raphael.remove",this);this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]="function"==typeof this[a]?k._removedFactory(a):null;return!0};var D=k.st,L;for(L in y)y.hasOwnProperty(L)&&!D.hasOwnProperty(L)&&(D[L]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a].apply(c,b)})}}(L))}}(),L?y.win.Raphael=k:Raphael=k,"object"==typeof exports&&(module.exports=k),k});
window.polyjs=function(d){if(!d){var g={};(function(){var d=[].indexOf||function(d){for(var g=0,e=this.length;g<e;g++)if(g in this&&this[g]===d)return g;return-1};g.groupBy=function(d,k){return _.groupBy(d,g.stringify(k))};g.stringify=function(d){return function(g){return _.reduce(d,function(d,b){return""+d+b+":"+g[b]+";"},"")}};g.cross=function(d,k){var e,b,a,c,f,m,v,r,n,w;null==k&&(k=[]);a=_.difference(_.keys(d),k);if(0===a.length)return[{}];e=[];c=a[0];a=g.cross(d,k.concat(c));w=d[c];m=0;for(r=
w.length;m<r;m++)for(f=w[m],v=0,n=a.length;v<n;v++)b=a[v],b=_.clone(b),b[c]=f,e.push(b);return e};g.filter=function(d,g,e){var b,a,c,f;a=[];c=0;for(f=d.length;c<f;c++)b=d[c],b[g]===e&&a.push(b);return a};g.intersect=function(g,q){var e,b,a,c,f;b=function(a){var b,c,e,f,p;c=[];p=g[a]["in"];e=0;for(f=p.length;e<f;e++)b=p[e],0<=d.call(q[a]["in"],b)&&c.push(b);return{"in":c}};e=function(a){var b,c,d,e,f;c=function(b){return b[a].lt?{type:"lt",val:b[a].lt}:b[a].le?{type:"le",val:b[a].le}:{type:null,val:null}};
b=function(b){return b[a].gt?{type:"gt",val:b[a].gt}:b[a].ge?{type:"ge",val:b[a].ge}:{type:null,val:null}};b=[b(g),b(q)];e=[c(g),c(q)];b.sort(function(a,b){return b.val-a.val});e.sort(function(a,b){return a.val-b.val});c={};b[0].type&&b[0].val&&(f=b[0],d=f.type,f=f.val,b[0].val===b[1].val&&b[0].type!==b[1].type&&(d="lt"),c[d]=f);e[0].type&&e[0].val&&(f=e[0],d=f.type,f=f.val,e[0].val===e[1].val&&e[0].type!==e[1].type&&(d="lt"),c[d]=f);if(b[0].type&&e[0].type&&(b[0].val>e[0].val||b[0].val===e[0].val&&
("lt"===b[0].key||"gt"===e[0].key)))throw"No intersection found!";return c};c={};for(a in g)f=g[a],c[a]=a in q?"in"in g[a]?b(a):e(a):f;for(a in q)f=q[a],a in c||(c[a]=f);return c};g.linear=function(d,k,e,b){if(_.isFinite(d)&&_.isFinite(k)&&_.isFinite(e)&&_.isFinite(b))return function(a){return(b-k)/(e-d)*(a-d)+k};throw g.error.input("Attempting to create linear function from infinity");};g.median=function(d,g){var e;null==g&&(g=!1);g||(d=_.sortBy(d,function(b){return b}));e=d.length/2;return 0!==
e%1?d[Math.floor(e)]:(d[e-1]+d[e])/2};g.counter=function(){var d;d=0;return function(){return d++}};g.sample=function(d,g){return _.pick(d,_.shuffle(_.keys(d)).splice(0,g))};g.compare=function(d,g){var e,b,a,c,f,k,v,r,n;n=_.sortBy(d,function(a){return a});r=_.sortBy(g,function(a){return a});b=[];a=[];e=[];for(v=f=0;v<n.length||f<r.length;)if(k=n[v],c=r[f],v>=n.length)e.push(c),f+=1;else if(f>=r.length)b.push(k),v+=1;else if(k<c)b.push(k),v+=1;else if(k>c)e.push(c),f+=1;else if(k===c)a.push(k),v+=
1,f+=1;else throw DataError("Unknown data encounted");return{deleted:b,kept:a,added:e}};g.flatten=function(d){var k,e,b,a;k=[];if(null!=d)if(_.isObject(d))if("scalefn"===d.t)"novalue"!==d.f&&k.push(d.v);else for(e in d)b=d[e],k=k.concat(g.flatten(b));else if(_.isArray(d))for(e=0,a=d.length;e<a;e++)b=d[e],k=k.concat(g.flatten(b));else k.push(d);return k};g.getLabel=function(d,g){return _.chain(d).map(function(d){return d.mapping[g]}).without(null,void 0).uniq().value().join(" | ")};g.strSize=function(d){d=
(d+"").length;return 10>d?6*d:5*(d-10)+60};g.sortArrays=function(d,g){var e;e=_.zip.apply(_,g);e.sort(function(b,a){return d(b[0],a[0])});return _.zip.apply(_,e)};g.isDefined=function(d){return _.isObject(d)?"scalefn"===d.t&&"novalue"!==d.f?g.isDefined(d.v):!0:void 0!==d&&null!==d&&!(_.isNumber(d)&&_.isNaN(d))};g.isURI=function(d){var g;return _.isString(d)?(g=/^(https?:\/\/)?((([a-z\d]([a-z\d-]*[a-z\d])*)\.)+[a-z]{2,}|((\d{1,3}\.){3}\d{1,3}))(\:\d+)?(\/[-a-z\d%_.~+]*)*(\?[;&a-z\d%_.~+=-]*)?(\#[-a-z\d_]*)?$/i,
g.test(d)):!1}}).call(this);(function(){g["const"]={aes:"x y color size opacity shape id text".split(" "),pivot_aes:["row","column","value"],noDomain:["id","text","tooltip"],noLegend:["x","y","id","text","tooltip"],trans:{bin:["key","binwidth"],lag:["key","lag"]},stat:{count:["key"],unique:["key"],sum:["key"],mean:["key"],box:["key"],median:["key"]},timerange:"second minute hour day week month twomonth quarter sixmonth year twoyear fiveyear decade".split(" "),approxTimeInSeconds:{second:1,minute:60,
hour:3600,day:86400,week:604800,month:2592E3,twomonth:5184E3,quarter:10368E3,sixmonth:15552E3,year:31536E3,twoyear:63072E3,fiveyear:157766400},sort:{key:null,sort:null,limit:null,asc:!1},scaleFns:{novalue:function(){return{v:null,f:"novalue",t:"scalefn"}},max:function(d){return{v:d,f:"max",t:"scalefn"}},min:function(d){return{v:d,f:"min",t:"scalefn"}},upper:function(d,g,q){return{v:d,n:g,m:q,f:"upper",t:"scalefn"}},lower:function(d,g,q){return{v:d,n:g,m:q,f:"lower",t:"scalefn"}},middle:function(d){return{v:d,
f:"middle",t:"scalefn"}},jitter:function(d){return{v:d,f:"jitter",t:"scalefn"}},identity:function(d){return{v:d,f:"identity",t:"scalefn"}}},epsilon:Math.pow(10,-7),defaults:{x:{v:null,f:"novalue",t:"scalefn"},y:{v:null,f:"novalue",t:"scalefn"},color:"steelblue",size:2,opacity:.7}}}).call(this);(function(){var d,h,q,e,b,a,c,f,m,v={}.hasOwnProperty,r=function(a,b){function c(){this.constructor=a}for(var d in b)v.call(b,d)&&(a[d]=b[d]);c.prototype=b.prototype;a.prototype=new c;a.__super__=b.prototype;
return a};h=function(a){function b(a){this.message=a;this.name="DefinitionError"}r(b,a);return b}(Error);q=function(a){function b(a){this.message=a;this.name="DependencyError"}r(b,a);return b}(Error);b=function(a){function b(a){this.message=a;this.name="ModeError"}r(b,a);return b}(Error);d=function(a){function b(a){this.message=a;this.name="DataError"}r(b,a);return b}(Error);m=function(a){function b(a){this.message=a;this.name="UnknownInput"}r(b,a);return b}(Error);a=function(a){function b(a){this.message=
a;this.name="ModeError"}r(b,a);return b}(Error);c=function(a){function b(a){this.message=a;this.name="ScaleError"}r(b,a);return b}(Error);e=function(a){function b(a){this.message=a;this.name="MissingData"}r(b,a);return b}(Error);f=function(a){function b(a){this.message=a;this.name="Type"}r(b,a);return b}(Error);g.error=function(a){return Error(a)};g.error.data=function(a){return new d(a)};g.error.depn=function(a){return new q(a)};g.error.defn=function(a){return new h(a)};g.error.mode=function(a){return new b(a)};
g.error.impl=function(b){return new a(b)};g.error.input=function(a){return new m(a)};g.error.scale=function(a){return new c(a)};g.error.missing=function(a){return new e(a)};g.error.type=function(a){return new f(a)}}).call(this);(function(){var d,h,q,e,b={}.hasOwnProperty,a=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);d.prototype=c.prototype;a.prototype=new d;a.__super__=c.prototype;return a},c=function(a,b){return function(){return a.apply(b,arguments)}};e=
function(){function a(){}a.prototype.render=function(){return g.error.impl()};a.prototype.dispose=function(){return g.error.impl()};return a}();h=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}a(c,b);c.prototype.getDimension=function(){throw g.error.impl();};return c}(e);q=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}a(c,b);c.prototype.getDimension=function(){throw g.error.impl();};c.prototype.make=function(){throw g.error.impl();};return c}(e);
d=function(b){function d(a){this.type=null!=a?a:null;this.dispose=c(this.dispose,this);this.geoms={};this.pts={}}a(d,b);d.prototype.set=function(a){return this.geoms=a};d.prototype.render=function(a){var b,c,d,e,f,h,k;f={};d=g.compare(_.keys(this.pts),_.keys(this.geoms));c=d.deleted;e=d.kept;b=d.added;h=0;for(k=c.length;h<k;h++)d=c[h],this._delete(a,this.pts[d]);c=0;for(h=b.length;c<h;c++)d=b[c],f[d]=this._add(a,this.geoms[d]);b=0;for(c=e.length;b<c;b++)d=e[b],f[d]=this._modify(a,this.pts[d],this.geoms[d]);
return this.pts=f};d.prototype._delete=function(a,b){var c,d,e;e=[];for(c in b)d=b[c],e.push(a.remove(d));return e};d.prototype._modify=function(a,b,c){var d,e,f,g;f={};g=c.marks;for(e in g){d=g[e];try{f[e]=b[e]?b[e].data("m").type===d.type?a.animate(b[e],d,c.evtData,c.tooltip):(a.remove(b[e]),a.add(d,c.evtData,c.tooltip,this.type)):a.add(d,c.evtData,c.tooltip,this.type)}catch(h){if(d=h,"MissingData"===d.name)console.log(d.message);else throw d;}}return f};d.prototype._add=function(a,b){var c,d,e,
f;e={};f=b.marks;for(d in f){c=f[d];try{e[d]=a.add(c,b.evtData,b.tooltip,this.type)}catch(g){if(c=g,"MissingData"===c.name)console.log(c.message);else throw c;}}return e};d.prototype.dispose=function(a){var b,c,d;d=this.pts;for(b in d)c=d[b],this._delete(a,c);return this.pts={}};return d}(e);g.Renderable=e;g.Guide=h;g.GuideSet=q;g.Geometry=d}).call(this);(function(){var d,h,q=[].slice,e=[].indexOf||function(b){for(var a=0,c=this.length;a<c;a++)if(a in this&&this[a]===b)return a;return-1};d=function(){function b(a,
b,d){a.getContext?this.context=a.getContext("2d"):a.polyGeom=this;a.width=b;a.height=d;this.items=[];this._counter=0}b.prototype._makeItem=function(a,b){var d;d=new h(a,this._newId(),this,b);this.items.unshift(d);return d};b.prototype._newId=function(){return this._counter+=1};b.prototype.rect=function(){var a;a=1<=arguments.length?q.call(arguments,0):[];return this._makeItem("rect",a)};b.prototype.circle=function(){var a;a=1<=arguments.length?q.call(arguments,0):[];return this._makeItem("circle",
a)};b.prototype.path=function(){var a;a=1<=arguments.length?q.call(arguments,0):[];return this._makeItem("path",a)};b.prototype.text=function(){var a;a=1<=arguments.length?q.call(arguments,0):[];return this._makeItem("text",a)};b.prototype.remove=function(a){var b,d,e,g,h;h=this.items;b=e=0;for(g=h.length;e<g;b=++e)if(d=h[b],d.id===a)return this.items.splice(b,1)};b.prototype.toBack=function(a){var b;b=this.remove(a)[0];a=this.items.pop();this.items.push(b);return this.items.push(a)};b.prototype.toFront=
function(a){a=this.remove(a)[0];return this.items.unshift(a)};b.prototype._resetContext=function(){this.context.fillStyle="#000000";this.context.strokeStyle="#000000";this.context.globalAlpha=1;return this.context.lineWidth=.5};b.prototype._stringToHex=function(a){switch(a){case "black":return"#000000";case "white":return"#ffffff";case "steelblue":return"#4692B4";default:return a}};return b}();h=function(){function b(a,b,d,e){this.type=a;this.id=b;this.canvas=d;this._attr={};this._interact={};this.attr(e)}
b.prototype.attr=function(){var a,b,d;a=1<=arguments.length?q.call(arguments,0):[];if(0<a.length&&_.isArray(a[0]))switch(b=a[0],this.type){case "rect":this._attr=_.extend(this._attr,{x:b[0],y:b[1],width:b[2],height:b[3]});break;case "circle":this._attr=_.extend(this._attr,{x:b[0],y:b[1],r:b[2]});break;case "path":this._attr=_.extend(this._attr,{path:b[0]});break;case "text":this._attr=_.extend(this._attr,{x:b[0],y:b[1],text:b[2],"font-size":"12pt","text-anchor":"middle"});break;default:throw g.error.defn("Unknown geometry type!");
}else if(1===a.length&&_.isObject(a[0]))for(b in d=a[0],d)a=d[b],this._attr[b]=a;else 2===a.length&&null!=a[0]&&null!=a[1]&&(this._attr[a[0]]=a[1]);return this};b.prototype.remove=function(){return this.canvas.remove(this.id)};b.prototype.toBack=function(){return this.canvas.toBack(this.id)};b.prototype.toFront=function(){return this.canvas.toFront(this.id)};b.prototype.getBBox=function(){var a,b,d,g,h,k,n;if("text"===this.type){b=null!=(a=parseInt(this._attr["font-size"].slice(0,-2)))?a:12;g=0;d=
1.04*b;n=this._attr.text;h=0;for(k=n.length;h<k;h++)a=n[h],g=0<=e.call(",.1",a)?g+b/4:g+b;return{height:d,width:g}}if("rect"===this.type)return{height:this._attr.height,width:this._attr.width};if("circle"===this.type)return{height:this._attr.r,width:this._attr.r}};b.prototype.transform=function(a){if("s"===a[0]&&(a=a.slice(1),"font-size"in this._attr&&(this._attr["font-size"]=this._attr["font-size"].slice(0,-2)*a+"pt"),"width"in this._attr&&(this._attr.width*=a),"height"in this._attr))return this._attr.height*=
a};b.prototype.animate=function(){var a;a=1<=arguments.length?q.call(arguments,0):[];this._attr.animate=a;return this};b.prototype.click=function(a){return this._interact.click=a};b.prototype.drag=function(a,b,d){return this._interact.drag={onmove:a,onstart:b,onend:d}};b.prototype.hover=function(a){return this._interact.hover=a};b.prototype.data=function(a,b){var d;null==(d=this._interact).data&&(d.data={});return this._interact.data[a]=b};b.prototype.touchstart=function(a){return this._interact.touchstart=
a};b.prototype.touchend=function(a){return this._interact.touchend=a};b.prototype.touchmove=function(a){return this._interact.touchmove=a};b.prototype.touchcancel=function(a){return this._interact.touchcancel=a};return b}();g.canvas=function(b,a,c){return new d(b,a,c)}}).call(this);(function(){var d,h;g.offset=function(d){var e,b,a;e={top:0,left:0};if(b=d&&d.ownerDocument)return a=b.documentElement,"undefined"!==typeof d.getBoundingClientRect&&(e=d.getBoundingClientRect()),d=null!==b&&b===b.window?
b:9===b.nodeType&&b.defaultView,{top:e.top+d.pageYOffset-a.clientTop,left:e.left+d.pageXOffset-a.clientLeft}};g.getXY=function(d,e){var b,a;-1!==e.type.indexOf("mouse")?(a=e.clientX,b=e.clientY):-1!==e.type.indexOf("touch")&&(b=e.changedTouches[0],a=b.clientX,b=b.clientY);return{x:a+(document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft)-d.left,y:b+(document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop)-d.top}};g.touchToMouse=function(d,
e,b){var a,c,f;null==b&&(b=!1);a=e.lastEvent;f=0<a.touches.length&&a.touches[0]||0<a.changedTouches.length&&a.changedTouches[0];c=document.createEvent("MouseEvent");c.initMouseEvent(d,a.bubbles,a.cancelable,a.view,a.detail,f.screenX,f.screenY,f.clientX,f.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,1,a.target);return b?(window.clearTimeout(e.pressTimer),e.pressTimer=window.setTimeout(function(){return a.target.dispatchEvent(c)},b)):a.target.dispatchEvent(c)};d={lastStart:0,lastTouch:0,lastEvent:null,
pressTimer:0};h=window.alert;g.touch=function(q,e,b,a){e.tooltip=e.data("t");e.evtData=e.data("e");d.lastEvent=b;b.preventDefault();if("touchstart"===q)return d.lastStart=b.timeStamp,g.touchToMouse("mousedown",d),d.pressTimer=window.setTimeout(function(){return g.touchToMouse("mouseover",d)},800),window.alert=function(){var a;window.clearTimeout(d.pressTimer);a=arguments;return window.setTimeout(function(){h.apply(window,a);return window.alert=h},100)};if("touchmove"===q){q=a.paper.getById(b.target.raphaelid);
a=g.offset(a.dom);a=g.getXY(a,b);if(600<b.timeStamp-d.lastStart&&q.isPointInside(a.x,a.y))return g.touchToMouse("mouseover",d);window.clearTimeout(d.pressTimer);return g.touchToMouse("mouseout",d)}if("touchend"===q){if(window.clearTimeout(d.pressTimer),g.touchToMouse("mouseup",d),g.touchToMouse("mouseout",d,400),800>b.timeStamp-d.lastStart)return g.touchToMouse("click",d)}else if("touchcancel"===q)return window.clearTimeout(d.pressTimer),g.touchToMouse("mouseout",d),g.touchToMouse("mouseup",d,300)}}).call(this);
(function(){var d,h,q;g.format=function(d,b){switch(d){case "cat":return g.format.identity;case "num":return g.format.number(b);case "date":return g.format.date(b);case "none":return g.format.identity}};g.format.identity=function(d){return d};d={0:"",3:"k",6:"m",9:"b",12:"t"};q=function(e,b){return _.isUndefined(d[b])?e+"e"+(0<b?"+":"-")+Math.abs(b):e+d[b]};h=function(d){var b,a,c;if(!isFinite(d))return d;a=""+d;b=Math.abs(d);1E4<=b&&(c=(""+b).split(/\./),b=c[0].length%3||3,c[0]=a.slice(0,b+(0>d))+
c[0].slice(b).replace(/(\d{3})/g,",$1"),a=c.join("."));return a};g.format.getExp=function(d){return Math.floor(Math.log(Math.abs(0===d?1:d))/Math.LN10)};g.format.number=function(d){return function(b){var a,c;c=0;a=null!=d?d:g.format.getExp(b);null==d||2!==a&&5!==a&&8!==a&&11!==a?-1===a?(a=0,c=null!=d?1:2):-2===a?(a=0,c=null!=d?2:3):1===a||2===a?a=0:3<a&&6>a?a=3:6<a&&9>a?a=6:9<a&&12>a?a=9:12<a&&15>a?a=12:c=null!=d?0:1:(a+=1,c=1);b=Math.round(b/Math.pow(10,a-c));b/=Math.pow(10,c);b=b.toFixed(c);return q(h(b),
a)}};g.format.date=function(d){return-1!==_.indexOf(g["const"].timerange,d)?"second"===d?function(b){return moment.unix(b).format("h:mm:ss a")}:"minute"===d?function(b){return moment.unix(b).format("h:mm a")}:"hour"===d?function(b){return moment.unix(b).format("MMM D h a")}:"day"===d||"week"===d?function(b){return moment.unix(b).format("MMM D")}:"month"===d||"twomonth"===d||"quarter"===d||"sixmonth"===d?function(b){return moment.unix(b).format("YYYY/MM")}:function(b){return moment.unix(b).format("YYYY")}:
function(b){return moment.unix(b).format(d)}};g.format._number_instance=g.format.number();g.format.value=function(d){return _.isNumber(d)?g.format._number_instance(d):d}}).call(this);(function(){var d,h;g.type={};g.type.impute=function(d){var e,b,a,c,f,g;f=b=c=e=0;for(g=d.length;f<g;f++)a=d[f],null!=a&&(b++,isNaN(a)&&isNaN(a.replace(/\$|\,/g,""))||c++,a=moment(a),null!=a&&a.isValid()&&e++);return c>.95*b?"num":e>.95*b?"date":"cat"};g.type.coerce=function(d,e){if(_.isUndefined(d)||_.isNull(d)||"cat"===
e.type)return d;if("num"===e.type)return isNaN(d)?+(""+d).replace(/\$|\,/g,""):+d;if("date"===e.type)return!_.isNumber(d)&&_.isEmpty(d)?null:e.format?"unix"===e.format?moment.unix(d).unix():moment(d,e.format).unix():isFinite(d)&&d>=Math.pow(10,9)?moment.unix(d).unix():moment(d).unix()};g.type.compare=function(g){switch(g){case "cat":return d;default:return h}};d=function(d,e){var b,a;if(d===e)return 0;_.isString(d)||(d=""+d);_.isString(e)||(e=""+e);b=d.toLowerCase();a=e.toLowerCase();return b===a?
d<e?-1:d>e?1:0:b<a?-1:b>a?1:0};h=function(d,e){return d===e?0:null===d?1:null===e?-1:d<e?-1:d>e?1:0}}).call(this);(function(){var d,h,q,e=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,a=function(a,d){function e(){this.constructor=a}for(var g in d)b.call(d,g)&&(a[g]=d[g]);e.prototype=d.prototype;a.prototype=new e;a.__super__=d.prototype;return a};g.spec={};g.spec.toStrictMode=function(a){var b,d,e,h,k,w,p,l;a=_.clone(a);null==a.layers&&a.layer&&(a.layers=[a.layer]);
null==a.guides&&a.guide&&(a.guides=a.guide);null==a.guides&&(a.guides={});if(a.layers)for(w=a.layers,b=d=0,h=w.length;d<h;b=++d){e=w[b];l=g["const"].aes;k=0;for(p=l.length;k<p;k++)b=l[k],e[b]&&_.isString(e[b])&&(e[b]={"var":e[b]});null==e.sample&&(e.sample=500)}if(a.facet)for(e=["var","x","y"],w=0,b=e.length;w<b;w++)h=e[w],(d=a.facet[h])&&_.isString(d)&&(a.facet[h]={"var":d});else a.facet={type:"none"};a.coord||(a.coord={type:"cartesian",flip:!1});_.isString(a.dom)&&(a.dom=document.getElementById(a.dom));
return a};g.spec.check=function(a){var b,d,e,h,k;if(null==a.layers||0===a.layers.length)throw g.error.defn("No layers are defined in the specification.");k=a.layers;b=e=0;for(h=k.length;e<h;b=++e){d=k[b];if(null==d.data)throw g.error.defn("Layer "+(b+1)+" does not have data to plot!");if(!d.data.isData)throw g.error.defn("Data must be a Polychart Data object.");}if((null==a.render||!1!==a.render)&&!a.dom)throw g.error.defn("No DOM element specified. Where to make plot?");return a};h=function(){function a(){this["return"]=
e(this["return"],this);this.reset=e(this.reset,this);this.processGrouping=e(this.processGrouping,this);this.processMapping=e(this.processMapping,this);this.addSort=e(this.addSort,this);this.extractFilters=e(this.extractFilters,this);this.translate=e(this.translate,this)}a.prototype.translate=function(a,b){};a.prototype.extractFilters=function(a){var b,c,d,e,h;null==a&&(a={});h=[];for(d in a){c=a[d];e=_.clone(c);b=g.parser.getExpression(d);c=b.exprType;b=b.expr;e.expr=b;if("stat"===c)throw g.error.defn("Aggregate statistics in filters not allowed.");
"trans"===c&&this.trans.push(b);h.push(this.filters.push(e))}return h};a.prototype.addSort=function(a,b){var c,d,e,h,p;h=g.parser.getExpression(a.sort);(d=h.statInfo())?(e=d.fname,d=d.args):(e=null,d=[]);e={key:b,sort:h.expr,stat:e,args:d,limit:a.limit,asc:null!=(c=a.asc)?c:!1};h=0;for(p=d.length;h<p;h++)c=d[h],"ident"!==c.expr[0]&&this.trans.push(c);return this.sort.push(e)};a.prototype.processMapping=function(a){var b,c,d,e,h,p;b=g.parser.getExpression(a["var"]);e=b.exprType;d=b.expr;b=b.statInfo;
a["var"]=d.name;this.select.push(d);"trans"===e&&this.trans.push(d);if("stat"===e){b=b();e=b.fname;c=b.args;h=0;for(p=c.length;h<p;h++)b=c[h],"ident"!==b.expr[0]&&this.trans.push(b);this.stat.push({name:e,args:c,expr:d})}else this.groups.push(d);if("sort"in a)return this.addSort(a,d)};a.prototype.processGrouping=function(a){var b;b=g.parser.getExpression(a["var"]);a=b.exprType;b=b.expr;if("trans"===a)this.trans.push(b);else if("stat"===a)throw g.error.defn("Facet variable should not contain statistics!");
this.select.push(b);return this.groups.push(b)};a.prototype.reset=function(){this.filters=[];this.trans=[];this.stat=[];this.select=[];this.groups=[];return this.sort=[]};a.prototype["return"]=function(){var a;a=function(a,b){var c,d,e,f;null==b&&(b=function(a){return a.name});c={};e=0;for(f=a.length;e<f;e++)d=a[e],c[b(d)]=d;return _.values(c)};return{select:a(this.select),trans:a(this.trans),sort:this.sort,filter:this.filters,stats:{stats:a(this.stat,function(a){return a.expr.name}),groups:a(this.groups)}}};
return a}();d=function(b){function d(){this.pickAesthetics=e(this.pickAesthetics,this);this.translate=e(this.translate,this);return d.__super__.constructor.apply(this,arguments)}a(d,b);d.prototype.translate=function(a,b){var c,d,e;null==b&&(b=[]);this.reset();this.extractFilters(null!=(c=a.filter)?c:{});c=this.pickAesthetics(a,g["const"].aes);for(e in c)d=c[e],this.processMapping(d);c=0;for(d=b.length;c<d;c++)e=b[c],this.processGrouping(e);return this["return"]()};d.prototype.pickAesthetics=function(a,
b){var c,d;c=_.pick(a,b);for(d in c)"var"in c[d]||delete c[d];return c};return d}(h);q=function(b){function d(){this.pickAesthetics=e(this.pickAesthetics,this);this.translate=e(this.translate,this);return d.__super__.constructor.apply(this,arguments)}a(d,b);d.prototype.translate=function(a){var b,c,d;this.reset();this.extractFilters(null!=(b=a.filter)?b:{});a=this.pickAesthetics(a);c=0;for(d=a.length;c<d;c++)b=a[c],this.processMapping(b);return this["return"]()};d.prototype.pickAesthetics=function(a){var b,
c,d,e,f,g;a=_.pick(a,["columns","rows","values"]);b=[];for(d in a)for(e=a[d],f=0,g=e.length;f<g;f++)c=e[f],"var"in c&&b.push(c);return b};return d}(h);h=function(b){function d(){this.pickAesthetics=e(this.pickAesthetics,this);this.translate=e(this.translate,this);return d.__super__.constructor.apply(this,arguments)}a(d,b);d.prototype.translate=function(a){var b,c;this.reset();this.extractFilters(null!=(b=a.filter)?b:{});a=this.pickAesthetics(a);for(c in a)b=a[c],this.processMapping(b);return this["return"]()};
d.prototype.pickAesthetics=function(a){var b;a=_.pick(a,["value"]);for(b in a)"var"in a[b]||delete a[b];return a};return d}(h);d=new d;q=new q;h=new h;g.spec.layerToData=d.translate;g.spec.pivotToData=q.translate;g.spec.numeralToData=h.translate}).call(this);(function(){g.xhr=function(d,g,q){var e;e=new XMLHttpRequest;3>arguments.length?(q=g,g=null):g&&e.overrideMimeType&&e.overrideMimeType(g);e.open("GET",d,!0);g&&e.setRequestHeader("Accept",g);e.onreadystatechange=function(){var b;if(4===e.readyState)return b=
e.status,b=!b&&e.response||200<=b&&300>b||304===b?e:null,q(b)};return e.send(null)};g.text=function(d,h,q){3>arguments.length&&(q=h,h=null);return g.xhr(d,h,function(d){return q(d&&d.responseText)})};g.json=function(d,h){return g.text(d,"application/json",function(d){return h(d?JSON.parse(d):null)})};g.dsv=function(d,h){var q,e,b,a,c,f,m;m=RegExp("\r\n|["+d+"\r\n]","g");f=RegExp('["'+d+"\n]");q=d.charCodeAt(0);b=function(b){return b.map(a).join(d)};a=function(a){var b;return null!=(b=f.test(a))?b:
'"'+a.replace(/\"/g,'""')+{'"':a}};c=null;e=function(a,b){return g.text(a,h,function(a){return b(a&&e.parse(a))})};e.parse=function(a){return e.parseRows(a,function(a,b){var d,e,f;if(b){f={};d=-1;for(e=c.length;++d<e;)f[c[d]]=a[d];return f}c=a;return null})};e.parseRows=function(a,b){var c,d,e,f,g,h,k,A;d={};c={};h=[];g=0;f=k=null;m.lastIndex=0;for(A=function(){var b,e,g;if(m.lastIndex>=a.length)return c;if(f)return f=!1,d;g=m.lastIndex;if(34===a.charCodeAt(g)){for(e=g;e++<a.length;)if(34===a.charCodeAt(e)){if(34!==
a.charCodeAt(e+1))break;e++}m.lastIndex=e+2;b=a.charCodeAt(e+1);13===b?(f=!0,10===a.charCodeAt(e+2)&&m.lastIndex++):10===b&&(f=!0);return a.substring(g+1,e).replace(/""/g,'"')}if(b=m.exec(a))return f=b[0].charCodeAt(0)!==q,a.substring(g,b.index);m.lastIndex=a.length;return a.substring(g)};(k=A())!==c;){for(e=[];k!==d&&k!==c;)e.push(k),k=A();b&&!(e=b(e,g++))||h.push(e)}return h};e.format=function(a){return a.map(b).join("\n")};return e};g.csv=g.dsv(",","text/csv")}).call(this);(function(){var d,h,
q,e,b,a,c,f,m,v,r,n,w,p,l,x,E,z,A,u,y,L,D,B,G,F,I,O,N,R,P,K,S,M,C,H,T,V,W,Y,U,ca,la,Q,Z,ua,da,aa,ka,Ba,ba,pa,Ja,ma,ha,Ha,t=function(a,b){return function(){return a.apply(b,arguments)}},J={}.hasOwnProperty,na=function(a,b){function c(){this.constructor=a}for(var d in b)J.call(b,d)&&(a[d]=b[d]);c.prototype=b.prototype;a.prototype=new c;a.__super__=b.prototype;return a},va=[].slice,Pa=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};F=function(a){return a.replace(/[\[\]\\]/g,
function(a){return"\\"+a})};pa=function(a){return a.replace(/\\./g,function(a){return a.slice(1)})};G=function(a){return"["+F(a)+"]"};ba=function(a){var b;b=a.length;"["===a[0]&&"]"===a[b-1]&&(a=a.slice(1,+(b-2)+1||9E9),a=pa(a));return a};V=function(a){return'"'+a.replace(/["\\]/g,function(a){return"\\"+a})+'"'};Ja=function(a){var b,c,d,e,f;b=a.length;f=['"',"'"];d=0;for(e=f.length;d<e;d++)if(c=f[d],a[0]===c&&a[b-1]===c){a=a.slice(1,+(b-2)+1||9E9);a=pa(a);break}return a};Y=function(a,b){return""+
a+"("+b+")"};U=function(a){return"["+a+"]"};c=function(){return function(a){this.message=a}}();a=function(){function a(b){this.name=b;this._unify=t(this._unify,this);this._runify=t(this._runify,this);this._known_unify=t(this._known_unify,this);this.unify=t(this.unify,this);this.mismatch=t(this.mismatch,this);this.error=t(this.error,this)}a.prototype.error=function(a,b){var d,e,f,g,h;h=[];f=0;for(g=a.length;f<g;f++)e=a[f],d=e[0],e=e[1],h.push("("+d+" vs. "+e+")");h.reverse();d=h.join(" in ");throw new c(b+
": "+d);};a.prototype.mismatch=function(a){return this.error(a,"Type mismatch")};a.prototype.unify=function(a){return a._known_unify(this)};a.prototype._known_unify=function(a){this._runify([],a);return this};a.prototype._runify=function(a,b){return this._unify(a.concat([[this.toString(),b.toString()]]),b)};a.prototype._unify=function(a,b){if(this.name!==b.name)return this.mismatch(a)};return a}();L=function(a){function b(){this._unify=t(this._unify,this);this.unify=t(this.unify,this);this.toString=
t(this.toString,this);b.__super__.constructor.call(this,"?");this.found=null}na(b,a);b.prototype.toString=function(){return null===this.found?"?":this.found.toString()};b.prototype.unify=function(a){return this._known_unify(a)};b.prototype._unify=function(a,b){return null===this.found?this.found=b:this.found._unify(a,b)};return b}(a);d=function(a){function b(){this.toString=t(this.toString,this);return b.__super__.constructor.apply(this,arguments)}na(b,a);b.prototype.toString=function(){return""+
this.name};return b}(a);m=function(a){function b(a,c){this.domains=a;this.range=c;this._unify=t(this._unify,this);this.toString=t(this.toString,this);b.__super__.constructor.call(this,"->")}na(b,a);b.prototype.toString=function(){var a,b,c,d,e;d=this.domains;e=[];b=0;for(c=d.length;b<c;b++)a=d[b],e.push(a.toString());return"(["+e.join(", ")+"] -> "+this.range+")"};b.prototype._unify=function(a,c){var d,e,f,g,h;b.__super__._unify.call(this,a,c);this.domains.length!==c.domains.length&&this.error(a,
"function domains differ in length");h=_.zip(this.domains,c.domains);f=0;for(g=h.length;f<g;f++)e=h[f],d=e[0],e=e[1],d._runify(a,e);return this.range._runify(a,c.range)};return b}(a);a.Base=_.object(function(){var a,b;a={cat:"cat",num:"num",date:"date",stat:"stat"};b=[];for(C in a)W=a[C],b.push([C,new d(W)]);return b}());A=function(){function a(b){this.toString=t(this.toString,this);this.get=t(this.get,this);this.peek=t(this.peek,this);this.empty=t(this.empty,this);var c,d,e,f;f=[];d=0;for(e=b.length;d<
e;d++)c=b[d],f.push(c);this.buffer=f.reverse()}a.prototype.empty=function(){return 0===this.buffer.length};a.prototype.peek=function(){return this.empty()?null:this.buffer[this.buffer.length-1]};a.prototype.get=function(){return this.empty()?null:this.buffer.pop()};a.prototype.toString=function(){return Y("Stream",U(va.call(this.buffer).reverse()))};return a}();y=function(){function a(b){this.tag=b;this.contents=t(this.contents,this);this.toString=t(this.toString,this)}a.Tag={symbol:"symbol",literal:"literal",
infixsymbol:"infixsymbol",keyword:"keyword",lparen:"(",rparen:")",comma:","};a.prototype.toString=function(){return"<"+this.contents().toString()+">"};a.prototype.contents=function(){return[this.tag]};return a}();u=function(a){function b(a){this.name=a;this.contents=t(this.contents,this);this.name=ba(this.name);b.__super__.constructor.call(this,y.Tag.symbol)}na(b,a);b.prototype.contents=function(){return b.__super__.contents.call(this).concat([this.name])};return b}(y);l=function(b){function c(b,
d){this.val=b;this.type=d;this.contents=t(this.contents,this);c.__super__.constructor.call(this,y.Tag.literal);this.type===a.Base.cat&&(this.val=Ja(this.val))}na(c,b);c.prototype.contents=function(){return c.__super__.contents.call(this).concat([this.val])};return c}(y);n=function(a){function b(a){this.op=a;this.contents=t(this.contents,this);b.__super__.constructor.call(this,y.Tag.infixsymbol)}na(b,a);b.prototype.contents=function(){return b.__super__.contents.call(this).concat([this.op])};return b}(y);
w=function(a){function b(a){this.name=a;this.contents=t(this.contents,this);b.__super__.constructor.call(this,y.Tag.keyword)}na(b,a);b.prototype.contents=function(){return b.__super__.contents.call(this).concat([this.name])};return b}(y);f=function(){var a,b,c,d;c=[y.Tag.lparen,y.Tag.rparen,y.Tag.comma];d=[];a=0;for(b=c.length;a<b;a++)la=c[a],d.push(new y(la));return d}();p=f[0];z=f[1];q=f[2];P="++ * / % + - >= > <= < != ==".split(" ");R=function(a,b){return P.indexOf(a)<=P.indexOf(b)};f=function(){var a,
b,c;c=[];a=0;for(b=P.length;a<b;a++)ca=P[a],c.push(ca.replace(/[+*]/g,function(a){return"(\\"+a+")"}));return c}();f=RegExp("^("+f.join("|")+")");S=["if","then","else"];Ba=[[/^\(/,function(){return p}],[/^\)/,function(){return z}],[/^,/,function(){return q}],[/^[+-]?(0x[0-9a-fA-F]+|0?\.\d+|[1-9]\d*(\.\d+)?|0)([eE][+-]?\d+)?/,function(b){return new l(b,a.Base.num)}],[/^(([\w|\.]|[^\u0000-\u0080])+|\[((\\.)|[^\\\[\]])+\])/,function(a){return 0<=Pa.call(S,a)?new w(a):new u(a)}],[/^('((\\.)|[^\\'])*'|"((\\.)|[^\\"])+")/,
function(b){return new l(b,a.Base.cat)}],[f,function(a){return new n(a)}]];M=function(a){var b,c,d,e;d=0;for(e=Ba.length;d<e;d++)if(c=Ba[d],b=c[0],c=c[1],b=b.exec(a))return d=b[0],[a.slice(d.length),c(d)];throw g.error.defn("There is an error in your specification at "+a);};ka=function(a){var b,c;for(c=[];;){a=a.replace(/^\s+/,"");if(!a)break;b=M(a);a=b[0];b=b[1];c.push(b)}return c};f=function(){function a(){}a.prototype.toString=function(){return Y(this.constructor.name,this.contents())};return a}();
v=function(a){function b(a){this.name=a;this.visit=t(this.visit,this);this.pretty=t(this.pretty,this);this.contents=t(this.contents,this)}na(b,a);b.prototype.contents=function(){return[this.name]};b.prototype.pretty=function(){return G(this.name)};b.prototype.visit=function(a){return a.ident(this,this.name)};return b}(f);b=function(b){function c(a,b){this.val=a;this.vtype=b;this.visit=t(this.visit,this);this.pretty=t(this.pretty,this);this.contents=t(this.contents,this)}na(c,b);c.prototype.contents=
function(){return[this.val]};c.prototype.pretty=function(){return this.vtype===a.Base.cat?V(this.val):this.val};c.prototype.visit=function(a){return a["const"](this,this.val,this.vtype)};return c}(f);h=function(a){function b(a,c){this.fname=a;this.args=c;this.visit=t(this.visit,this);this.pretty=t(this.pretty,this);this.contents=t(this.contents,this)}na(b,a);b.prototype.contents=function(){return[this.fname,U(this.args)]};b.prototype.pretty=function(){var a,b=this.fname,c,d,e,f;e=this.args;f=[];c=
0;for(d=e.length;c<d;c++)a=e[c],f.push(a.pretty());return Y(b,f)};b.prototype.visit=function(a){var b;return a.call(this,this.fname,function(){var c,d,e,f;e=this.args;f=[];c=0;for(d=e.length;c<d;c++)b=e[c],f.push(b.visit(a));return f}.call(this))};return b}(f);r=function(a){function b(a,c,d){this.opsym=a;this.lhs=c;this.rhs=d;this.visit=t(this.visit,this);this.pretty=t(this.pretty,this);this.contents=t(this.contents,this)}na(b,a);b.prototype.contents=function(){return[this.lhs,this.opsym,this.rhs]};
b.prototype.pretty=function(){return"("+[this.lhs.pretty(),this.opsym,this.rhs.pretty()].join(" ")+")"};b.prototype.visit=function(a){return a.infixop(this,this.opsym,this.lhs.visit(a),this.rhs.visit(a))};return b}(f);e=function(a){function b(a,c,d){this.condition=a;this.consequent=c;this.alternative=d;this.visit=t(this.visit,this);this.pretty=t(this.pretty,this);this.contents=t(this.contents,this)}na(b,a);b.prototype.contents=function(){return[this.condition,this.consequent,this.alternative]};b.prototype.pretty=
function(){return"(if "+this.condition.pretty()+" "+("then "+this.consequent.pretty()+" else "+this.alternative.pretty()+")")};b.prototype.visit=function(a){return a.conditional(this,this.condition.visit(a),this.consequent.visit(a),this.alternative.visit(a))};return b}(f);x=function(){function a(){this.finish=t(this.finish,this);this.push=t(this.push,this);this._reduce=t(this._reduce,this);this.ops=[]}a.prototype._reduce=function(a,b){for(var c,d;0!==this.ops.length;)if(d=this.ops.pop(),c=d[0],d=
d[1],b(d))a=new r(d,c,a);else{this.ops.push([c,d]);break}return a};a.prototype.push=function(a,b){a=this._reduce(a,function(a){return R(a,b)});return this.ops.push([a,b])};a.prototype.finish=function(a){return this._reduce(a,function(a){return!0})};return a}();D=function(a,b){if(a!==b)throw g.error.defn("Expected "+b+" but received "+a);};B=function(a,b){return D(a.tag,b)};E=function(){function a(b){this.stream=b;this.parseFinish=t(this.parseFinish,this);this.parseInfix=t(this.parseInfix,this);this.parseCallArgs=
t(this.parseCallArgs,this);this.parseCall=t(this.parseCall,this);this.parseAtomCall=t(this.parseAtomCall,this);this.parseParenExpr=t(this.parseParenExpr,this);this.parseConditional=t(this.parseConditional,this);this.parseKeyword=t(this.parseKeyword,this);this.parseKeywordExpr=t(this.parseKeywordExpr,this);this.parseExpr=t(this.parseExpr,this);this.parseSubExpr=t(this.parseSubExpr,this);this.parseTopExpr=t(this.parseTopExpr,this);this.parseFail=t(this.parseFail,this);this.expect=t(this.expect,this);
this.ops=new x}a.prototype.expect=function(a,b){var c,d,e,f,g;d=this.stream.peek();if(null!==d)for(e=0,f=b.length;e<f;e++)if(c=b[e],la=c[0],c=c[1],g=d.tag,0<=Pa.call(la,g))return c();return a()};a.prototype.parseFail=function(){throw g.error.defn("There is an error in your specification at "+this.stream.toString());};a.prototype.parseTopExpr=function(){var a;a=this.parseExpr();null!==this.stream.peek()&&this.parseFail();return a};a.prototype.parseSubExpr=function(){return(new a(this.stream)).parseExpr()};
a.prototype.parseExpr=function(){var a;a=this.expect(this.parseFail,[[[y.Tag.lparen],this.parseParenExpr],[[y.Tag.keyword],this.parseKeywordExpr],[[y.Tag.literal,y.Tag.symbol],this.parseAtomCall]]);return this.expect(this.parseFinish(a),[[[y.Tag.infixsymbol],this.parseInfix(a)]])};a.prototype.parseKeywordExpr=function(){var a;a=this.stream.peek();B(a,y.Tag.keyword);switch(a.name){case "if":return this.parseConditional();default:return this.parseFail()}};a.prototype.parseKeyword=function(a){var b;
b=this.stream.get();B(b,y.Tag.keyword);return D(b.name,a)};a.prototype.parseConditional=function(){var a,b,c;this.parseKeyword("if");b=this.parseSubExpr();this.parseKeyword("then");c=this.parseSubExpr();this.parseKeyword("else");a=this.parseSubExpr();return new e(b,c,a)};a.prototype.parseParenExpr=function(){var a;D(this.stream.get(),p);a=this.parseSubExpr();D(this.stream.get(),z);return a};a.prototype.parseAtomCall=function(){var a,c;c=this.stream.get();a=c.tag===y.Tag.literal?new b(c.val,c.type):
c.tag===y.Tag.symbol?new v(c.name):D(!1,!0);return this.expect(function(){return a},[[[y.Tag.lparen],this.parseCall(c)]])};a.prototype.parseCall=function(a){var b=this;return function(c){var d;B(a,y.Tag.symbol);D(b.stream.get(),p);d=a.name;c=b.expect(b.parseCallArgs([]),[[[y.Tag.rparen],function(){b.stream.get();return[]}]]);return new h(d,c)}};a.prototype.parseCallArgs=function(a){var b=this;return function(){var c,d;c=b.parseSubExpr();d=a.concat([c]);return b.expect(b.parseFail,[[[y.Tag.rparen],
function(){b.stream.get();return d}],[[y.Tag.comma],function(){b.stream.get();return b.parseCallArgs(d)()}]])}};a.prototype.parseInfix=function(a){var b=this;return function(){var c;c=b.stream.get();B(c,y.Tag.infixsymbol);b.ops.push(a,c.op);return b.parseExpr()}};a.prototype.parseFinish=function(a){var b=this;return function(){return b.ops.finish(a)}};return a}();T=function(a){a=new A(ka(a));return(new E(a)).parseTopExpr()};O=function(b,c,d){var e;e=function(a,c){var d,e;if(!(a in b))throw g.error.defn("Unknown function name: "+
a);"++"===a&&2===c.length&&(c[1]===aa&&c[0]===Q&&(a="++_num1"),c[0]===aa&&c[1]===Q&&(a="++_num2"));"bin"===a&&2===c.length&&c[0]===Z&&(a="bin_date");"min"!==a&&"max"!==a||1!==c.length||c[0]!==Z||(a+="_date");"count"!==a&&"unique"!==a&&"lag"!==a||1!==c.length||(c[0]===Q?a+="_cat":c[0]===Z&&(a+="_date"));"parseDate"===a&&1===c.length&&(a="parseDateDefault");d=b[a];e=new L;d.unify(new m(c,e));return e.found};return d.visit({ident:function(a,b){if(b in c)return c[b];throw g.error.defn("Unknown column name: "+
b);},"const":function(a,b,c){return c},call:function(a,b,c){return e(b,c)},infixop:function(a,b,c,d){return e(b,[c,d])},conditional:function(b,c,d,e){c.unify(a.Base.num);d.unify(e);return d}})};Q=a.Base.cat;aa=a.Base.num;Z=a.Base.date;H=new m([aa,aa],aa);K={"++":new m([Q,Q],Q),"++_num1":new m([Q,aa],Q),"++_num2":new m([aa,Q],Q)};Ha="* / % + - >= > <= < != == =".split(" ");ma=0;for(ha=Ha.length;ma<ha;ma++)f=Ha[ma],K[f]=H;ha=["sum","mean","box","median"];H=0;for(ma=ha.length;H<ma;H++)f=ha[H],K[f]=new m([aa],
a.Base.stat);ha=["min","max"];H=0;for(ma=ha.length;H<ma;H++)f=ha[H],K[f]=new m([aa],a.Base.stat),K[f+"_date"]=new m([Z],a.Base.stat);ha=["count","unique"];H=0;for(ma=ha.length;H<ma;H++)f=ha[H],K[f]=new m([aa],a.Base.stat),K[f+"_cat"]=new m([Q],a.Base.stat),K[f+"_date"]=new m([Z],a.Base.stat);ha=["lag"];ma=0;for(H=ha.length;ma<H;ma++)f=ha[ma],K[f]=new m([aa,aa],aa),K[f+"_cat"]=new m([Q,aa],Q),K[f+"_date"]=new m([Z,aa],Z);K.log=new m([aa],aa);K.substr=new m([Q,aa,aa],Q);K.length=new m([Q],aa);K.upper=
new m([Q],Q);K.lower=new m([Q],Q);K.indexOf=new m([Q,Q],aa);K.parseNum=new m([Q],aa);K.parseDate=new m([Q,Q],Z);K.parseDateDefault=new m([Q],Z);K.year=new m([Z],aa);K.month=new m([Z],aa);K.dayOfMonth=new m([Z],aa);K.dayOfYear=new m([Z],aa);K.dayOfWeek=new m([Z],aa);K.hour=new m([Z],aa);K.minute=new m([Z],aa);K.second=new m([Z],aa);K.bin=new m([aa,aa],aa);K.bin_date=new m([Z,Q],Z);I=function(a){return a.visit({ident:function(a,b){return["ident",{name:b}]},"const":function(a,b,c){return["const",{value:b,
type:c.name}]},call:function(a,b,c){return["call",{fname:b,args:c}]},infixop:function(a,b,c,d){return["infixop",{opname:b,lhs:c,rhs:d}]},conditional:function(a,b,c,d){return["conditional",{cond:b,conseq:c,altern:d}]}})};da=_.clone(K);da.sum=new m([aa],a.Base.stat);da.log=new m([aa],aa);da.nameCollision=new m([Q],aa);ua={x:aa,nameCollision:Q};N=function(a){var b;try{if(b=T(a),"name"in b)return b.name}catch(c){}return a};g.parser={tj:function(a){a=T(a);return I(a)},tc:function(a){a=T(a);return O(da,
ua,a)},ttc:function(){var b,c,d,e;c=a.Base.cat;d=a.Base.num;e=new L;b=new m([c,d,e,d],d);c=new m([c,d,c,e],d);return b.unify(c)},createColTypeEnv:function(b){var c,d,e;c={};for(d in b)e=b[d],c[d]=a.Base[e.type];return c},getExpression:function(a){var b,c,d,e;"count(*)"===a&&(a="count(1)");b=T(a);c=function(a){return{name:a.pretty(),expr:I(a)}};d=function(){};a=c(b);return{exprType:"ident"===a.expr[0]?"ident":!_.has(b,"fname")||"sum"!==(e=b.fname)&&"count"!==e&&"unique"!==e&&"mean"!==e&&"box"!==e&&
"median"!==e&&"min"!==e&&"max"!==e?"trans":(d=function(){var a,d=b.fname,e,f,g,h;g=b.args;h=[];f=0;for(e=g.length;f<e;f++)a=g[f],h.push(c(a));return{fname:d,args:h}},"stat"),expr:a,statInfo:d}},getType:function(a,b,c){null==c&&(c=!0);a=O(K,b,T(a));return c&&"stat"===a.name?"num":a.name},tokenize:ka,parse:T,bracket:G,unbracket:N,normalize:function(a){return N(T(a).pretty())},escape:F,unescape:pa}}).call(this);(function(){var d,h,q,e={}.hasOwnProperty,b=function(a,b){function d(){this.constructor=a}
for(var g in b)e.call(b,g)&&(a[g]=b[g]);d.prototype=b.prototype;a.prototype=new d;a.__super__=b.prototype;return a},a=function(a,b){return function(){return a.apply(b,arguments)}};h=function(){function a(b){var c;this.spec=b;null==this.spec&&(this.spec={});this.flip=null!=(c=this.spec.flip)?c:!1;this.scales=null;b=this.flip?["y","x"]:["x","y"];this.x=b[0];this.y=b[1]}a.prototype.make=function(a){return this.dims=a};a.prototype.setScales=function(a){return this.scales={x:a.x.f,y:a.y.f}};a.prototype.clipping=
function(a){return[a.x,a.y,this.dims.eachWidth,this.dims.eachHeight]};a.prototype.getScale=function(a){};a.prototype.ranges=function(){};return a}();d=function(a){function d(){return d.__super__.constructor.apply(this,arguments)}b(d,a);d.prototype.type="cartesian";d.prototype.getScale=function(a){if("x"===a||"y"===a)return this.scales[this[a]];throw g.error.input("Coordinates only keep x & y scales");};d.prototype.ranges=function(){var a;a={};a[this.x]={min:0,max:this.dims.eachWidth};a[this.y]={min:this.dims.eachHeight,
max:0};return a};d.prototype.axisType=function(a){return this[a]};d.prototype.getXY=function(a,b){var c,d;if(a)return c={x:_.isArray(b.x)?_.map(b.x,this.scales.x):this.scales.x(b.x),y:_.isArray(b.y)?_.map(b.y,this.scales.y):this.scales.y(b.y)},{x:c[this.x],y:c[this.y]};c=this.scales[this.x];d=this.scales[this.y];return{x:_.isArray(b.x)?_.map(b.x,c):c(b.x),y:_.isArray(b.y)?_.map(b.y,d):d(b.y)}};d.prototype.getAes=function(a,b,c){return{x:c.x(a[this.x],b[this.x]),y:c.y(a[this.y],b[this.y])}};return d}(h);
q=function(c){function d(){this.getXY=a(this.getXY,this);return d.__super__.constructor.apply(this,arguments)}b(d,c);d.prototype.type="polar";d.prototype.make=function(a){this.dims=a;this.cx=this.dims.eachWidth/2;return this.cy=this.dims.eachHeight/2};d.prototype.getScale=function(a){if("r"===a)return this.scales[this.x];if("t"===a)return this.scales[this.y];throw g.error.input("Coordinates only keep r & t scales");};d.prototype.ranges=function(){var a,b,c;b=[this.x,this.y];a=b[0];c=b[1];b={};b[c]=
{min:0,max:2*Math.PI};b[a]={min:0,max:Math.min(this.dims.eachWidth,this.dims.eachHeight)/2-10};return b};d.prototype.axisType=function(a){return"x"===this[a]?"r":"t"};d.prototype.getXY=function(a,b){var c,d,e,f,g,h,k,q,A,u,y,L,D,B,G=this;u=function(a,b){return G.cx+a*Math.cos(b-Math.PI/2)};y=function(a,b){return G.cy+a*Math.sin(b-Math.PI/2)};f=[this.x,this.y];g=f[0];k=f[1];if(a){if(_.isArray(b[g])){f={x:[],y:[],r:[],t:[]};D=b[g];d=c=0;for(L=D.length;c<L;d=++c)h=D[d],h=this.scales[g](h),q=this.scales[k](b[k][d]),
f.x.push(u(h,q)),f.y.push(y(h,q)),f.r.push(h),f.t.push(q);return f}h=this.scales[g](b[g]);q=this.scales[k](b[k]);return{x:u(h,q),y:y(h,q),r:h,t:q}}e=function(a){return _.isObject(a)&&"scalefn"===a.t&&"identity"===a.f};c=function(a,b){var c,d;c=e(a);d=e(b);if(c&&!d)return{x:a.v,y:y(G.scales[g](b),0)};if(c&&d)return{x:a.v,y:b.v};if(!c&&d)return{y:b.v,x:y(G.scales[k](a),0)};h=G.scales[g](b);q=G.scales[k](a);return{x:u(h,q),y:y(h,q)}};if(_.isArray(b.x)){f={x:[],y:[]};B=b.x;d=L=0;for(D=B.length;L<D;d=
++L)A=B[d],d=b.y[d],A=c(A,d),d=A.x,A=A.y,f.x.push(d),f.y.push(A);return f}return c(b.x,b.y)};return d}(h);g.coord={cartesian:function(a){return new d(a)},polar:function(a){return new q(a)}};g.coord.make=function(a){if(null==a||null==a.type)return g.coord.cartesian();switch(a.type){case "cartesian":return g.coord.cartesian(a);case "polar":return g.coord.polar(a);default:throw g.error.defn("No such coordinate type "+a.type+".");}}}).call(this);(function(){var d,h,q,e,b,a,c,f,m,v=[].indexOf||function(a){for(var b=
0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};e=g["const"].aes;g.domain={};g.domain.make=function(a,b,c,d){var e,h,k;e=[];for(k in a)h=a[k],e.push(f(h.geoms,b[k],c,d));return g.domain.merge(e)};g.domain.compare=function(a){return a?"cat"===a.type?function(b,c){b=_.indexOf(a.levels,b);c=_.indexOf(a.levels,c);return-1===b?1:-1===c?-1:b<c?-1:b>c?1:0}:g.type.compare(a.type):function(a){return a}};q=function(){return function(a){this.type=a.type;this.min=a.min;this.max=a.max;this.bw=
a.bw}}();h=function(){return function(a){this.type=a.type;this.min=a.min;this.max=a.max;this.bw=a.bw}}();d=function(){return function(a){this.type=a.type;this.levels=a.levels;this.sorted=a.sorted}}();c=function(a){"cat"!==a.type&&a.max===a.min&&(a.bw?(a.max+=a.bw,a.min-=a.bw):0===a.max?a.max+=1:(a.max*=1.1,a.min/=1.1));switch(a.type){case "num":return new q(a);case "date":return new h(a);case "cat":return new d(a)}};g.domain.single=function(a,b,d){var e,f,h,k,m,q,u,v,L,D,B,G,F,I,O,N,R,P,K;if(0===
a.length)throw g.error.input("Dataset is none?");f=function(a){return null!=d?d[a]:null};switch(b.type){case "num":return e=null!=(k=f("bw"))?k:b.bw,1<a.length?(b=null!=(m=f("min"))?m:_.min(a),h=null!=(G=f("max"))?G:_.max(a)+(null!=e?e:0)):1===a.length?e?(b=null!=(F=f("min"))?F:a[0],h=null!=(I=f("max"))?I:a[0]+e):(b=null!=(O=f("min"))?O:a[0]-1,h=null!=(N=f("max"))?N:a[0]+1):(b=null!=(R=f("min"))?R:0,h=null!=(P=null!=(K=f("max"))?K:e)?P:1),c({type:"num",min:b,max:h,bw:e});case "date":return e=null!=
(q=f("bw"))?q:b.bw,b=null!=(u=f("min"))?u:_.min(a),h=f("max"),null==h&&(h=_.max(a),h=function(){switch(e){case "week":return moment.unix(h).add("days",7).unix();case "twomonth":return moment.unix(h).add("months",2).unix();case "quarter":return moment.unix(h).add("months",4).unix();case "sixmonth":return moment.unix(h).add("months",6).unix();case "twoyear":return moment.unix(h).add("years",2).unix();case "fiveyear":return moment.unix(h).add("years",5).unix();case "decade":return moment.unix(h).add("years",
10).unix();default:return moment.unix(h).add(e+"s",1).unix()}}()),c({type:"date",min:b,max:h,bw:e});case "cat":return c({type:"cat",levels:null!=(v=null!=(L=f("levels"))?L:b.levels)?v:_.uniq(a),sorted:null!=(D=null!=(B=f("levels"))?B:b.sorted)?D:!1})}};f=function(b,d,e,f){var h,k,m,q,A;k={};for(h in d)q=d[h],m=e[h],0<=v.call(g["const"].noDomain,h)||(f?k[h]=c(e[h]):(A=a(b,h),k[h]=g.domain.single(A,q,m)));return k};a=function(a,b){var c,d,e,f,h;f=[];for(d in a)for(e in c=a[d],h=c.marks,h)c=h[e],f=f.concat(g.flatten(c[b]));
h=[];e=0;for(c=f.length;e<c;e++)d=f[e],g.isDefined(d)&&h.push(d);return h};g.domain.merge=function(a){var b,c,d,f,g;d={};f=0;for(g=e.length;f<g;f++)b=e[f],c=_.without(_.pluck(a,b),void 0),0<c.length&&(d[b]=m(c));return d};b={num:function(a){var b,d;b=_.compact(_.uniq(_.map(a,function(a){return a.bw})));if(1<b.length)throw g.error.data("Not all layers have the same binwidth.");b=null!=(d=b[0])?d:void 0;d=_.min(_.map(a,function(a){return a.min}));a=_.max(_.map(a,function(a){return a.max}));return c({type:"num",
min:d,max:a,bw:b})},date:function(a){var b,d;b=_.compact(_.uniq(_.map(a,function(a){return a.bw})));if(1<b.length)throw g.error.data("Not all layers have the same binwidth.");b=null!=(d=b[0])?d:void 0;d=_.min(_.map(a,function(a){return a.min}));a=_.max(_.map(a,function(a){return a.max}));return c({type:"date",min:d,max:a,bw:b})},cat:function(a){var b,d,e,f,h,k,m,q;f=[];h=0;for(m=a.length;h<m;h++)if(d=a[h],d.sorted){b=!0;k=0;for(q=f.length;k<q;k++)e=f[k],_.isEqual(e,d.levels)&&(b=!1);b&&f.push(d.levels)}a=
_.chain(a).filter(function(a){return!a.sorted}).map(function(a){return a.levels}).value();if(1<f.length&&_.intersection.apply(this,f))throw g.error.data("You are trying to combine incompatible sorted domains in the same axis.");f=[_.flatten(f,!0)];a=_.union.apply(this,f.concat(a));0===f[0].length&&(a=a.sort());return c({type:"cat",levels:a,sorted:0!==f[0].length})}};m=function(a){var c;c=_.uniq(_.map(a,function(a){return a.type}));if(1<c.length)throw g.error.data("You are trying to merge data of different types in the same axis or legend.");
return b[c[0]](a)}}).call(this);(function(){var d,h,q,e;g.tick={};g.tick.make=function(b,a,c){var d,h,k,r,n,w,p,l;n=null;d=function(a){return a};null!=a.ticks?w="num"===c?_.filter(a.ticks,function(a){return a>=b.min&&a<=b.max}):a.ticks:(d=null!=(w=a.numticks)?w:5,d=e[c](b,d),w=d.ticks,n=d.step);d=a.labels?function(b){var c;return null!=(c=a.labels[b])?c:b}:a.formatter?a.formatter:g.format(c.split("-")[0],n);n={};c=q(c,d);if(w)for(h=p=0,l=w.length-1;0<=l?p<=l:p>=l;h=0<=l?++p:--p)r=0===h?null:w[h-1],
k=h===w.length-1?null:w[h+1],h=w[h],k=c(h,r,k),n[k.value]=k;return{ticks:n,ticksFormatter:d}};d=function(){return function(b){this.location=b.location;this.value=b.value;this.index=b.index;this.evtData=b.evtData}}();q=function(b,a){var c;c=0;return function(e,g,h){var r;"cat"===b?r={"in":[e]}:(r={},null!=g&&(r.ge=g),null!=h&&(r.le=h));return new d({location:e,value:a(e),index:c++,evtData:r})}};h=function(b,a){var c,d;d=Math.pow(10,Math.floor(Math.log(b/a)/Math.LN10));c=a/b*d;.15>c?d*=10:.35>=c?d*=
5:.75>=c&&(d*=2);return d};e={none:function(){return{}},cat:function(b,a){var c,d,e,g,h,k,q;e=Math.max(1,Math.round(b.levels.length/a));g=[];q=b.levels;c=h=0;for(k=q.length;h<k;c=++h)d=q[c],0===c%e&&g.push(d);return{ticks:g}},num:function(b,a){var c,d,e,g;e=b.min;d=b.max;if(c=b.bw){for(;(d-e)/c>1.4*a;)c*=2;g=e}else c=h(d-e,a),g=Math.ceil(e/c)*c;for(e=[];g<=d;)e.push(g),g+=c;return{ticks:e,step:Math.floor(Math.log(c)/Math.LN10)}},"num-log":function(b,a){var c,d,e,k,r,n,q,p,l;p=[];n=b.min;r=b.max;d=
function(a){return Math.log(a)/Math.LN10};c=function(a){return Math.exp(a*Math.LN10)};k=Math.max(d(n),0);e=d(r);q=h(e-k,a);for(l=Math.ceil(k/q)*q;l<e+g["const"].epsilon;){if(!(0!==l%1&&.1>=l%1)){if(l%1>g["const"].epsilon){if(k=Math.floor(l)+d(l%1*10),0===k%1){l+=q;continue}}else k=l;k=c(k);k<n||k>r||p.push(k)}l+=q}return{ticks:p}},date:function(b,a){var c,d,e,h,k,n,q;h=b.min;e=b.max;if(c=b.bw)for(k=c;"decade"!==k&&(e-h)/g["const"].approxTimeInSeconds[k]>1.4*a;)k=g["const"].timerange[_.indexOf(g["const"].timerange,
k)+1];else for(d in c=(e-h)/a,k="decade",q=g["const"].approxTimeInSeconds,q)if(n=q[d],c<1.4*n){k=d;break}n=[];d=moment.unix(h).startOf(k);c=function(){switch(k){case "twomonth":return["months",2];case "quarter":return["months",4];case "sixmonth":return["months",6];case "twoyear":return["years",2];case "fiveyear":return["years",5];case "decade":return["years",10];default:return[k+"s",1]}}();for(d.unix()<h&&d.add(c[0],c[1]);d.unix()<=e;)n.push(d.unix()),d.add(c[0],c[1]);return{ticks:n,step:k}}}}).call(this);
(function(){var d,h,q,e,b,a,c=function(a,b){return function(){return a.apply(b,arguments)}},f={}.hasOwnProperty,m=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);c.prototype=b.prototype;a.prototype=new c;a.__super__=b.prototype;return a};a=g["const"].scaleFns;d=function(a){function b(){this.render=c(this.render,this);this.make=c(this.make,this);this.position="none";this.title=this.titletext=null}m(b,a);b.prototype.make=function(a){var b,c,d,e;b=a.guideSpec;d=
a.title;c=a.position;this.size=a.size;this.color=a.color;a=function(a,c){var d;return null!=(d=b[a])?d:c};this.titletext=a("title",d);this.position=null!=(e=a("position",c))?e:this.defaultPosition;if("out"===this.position)return this.position="bottom"};b.prototype.render=function(a,b,c){if("none"!==this.position)return null!=this.title&&a.remove(this.title),this.title=a.add(this._makeTitle(b,c),null,null,"guide-"+this.titleType);if(null!=this.title)return a.remove(this.title)};b.prototype.dispose=
function(a){a.remove(this.title);return this.title=null};b.prototype._makeTitle=function(){throw g.error.impl();};b.prototype.getDimension=function(){var a;a={};"none"!==this.position&&(a[this.position]=10);return a};return b}(g.Guide);q=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}m(c,b);c.prototype.defaultPosition="bottom";c.prototype.titleType="titleH";c.prototype._makeTitle=function(b,c){var d,e,f,g,h;d="top"===this.position?b.paddingTop+b.guideTop-(null!=(e=c.top)?
e:0)-2:b.height-b.paddingBottom-b.guideBottom+(null!=(f=c.bottom)?f:0);return{type:"text",x:a.identity(b.paddingLeft+b.guideLeft+(b.width-b.paddingLeft-b.guideLeft-b.paddingRight-b.guideRight)/2),y:a.identity(d),color:a.identity(null!=(g=this.color)?g:"black"),size:a.identity(null!=(h=this.size)?h:12),text:this.titletext,"text-anchor":"middle"}};return c}(d);b=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}m(c,b);c.prototype.defaultPosition="left";c.prototype.titleType=
"titleV";c.prototype._makeTitle=function(b,c){var d,e,f,g,h;d="left"===this.position?b.paddingLeft+b.guideLeft-(null!=(e=c.left)?e:0)-7:b.width-b.paddingRight-b.guideRight+(null!=(f=c.right)?f:0);e=b.paddingTop+b.guideTop+(b.height-b.paddingTop-b.guideTop-b.paddingBottom-b.guideBottom)/2;return{type:"text",x:a.identity(d),y:a.identity(e),color:a.identity(null!=(g=this.color)?g:"black"),size:a.identity(null!=(h=this.size)?h:12),text:this.titletext,"text-anchor":"middle",transform:"r270"}};return c}(d);
e=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}m(c,b);c.prototype.titleType="title";c.prototype._makeTitle=function(b,c){var d,e;return{type:"text",x:a.identity(b.width/2),y:a.identity(20),color:a.identity(null!=(d=this.color)?d:"black"),size:a.identity(null!=(e=this.size)?e:12),text:this.titletext,"font-size":"13px","font-weight":"bold","text-anchor":"middle"}};return c}(d);h=function(b){function d(){this.render=c(this.render,this);this.make=c(this.make,this);return d.__super__.constructor.apply(this,
arguments)}m(d,b);d.prototype.make=function(a){var b;b=a.title;this.size=a.size;this.color=a.color;return this.titletext=b};d.prototype.render=function(a,b,c){return null!=this.title?this.title=a.animate(this.title,this._makeTitle(b,c)):this.title=a.add(this._makeTitle(b,c),null,null,"guide-facet-title")};d.prototype._makeTitle=function(b,c){var d,e;return{type:"text",x:a.identity(c.x+b.eachWidth/2),y:a.identity(c.y-7),color:a.identity(null!=(d=this.color)?d:"black"),size:a.identity(null!=(e=this.size)?
e:12),text:this.titletext,"text-anchor":"middle"}};return d}(d);null==g.guide&&(g.guide={});g.guide.title=function(a){return"y"===a||"r"===a?new b:"main"===a?new e:"facet"===a?new h:new q}}).call(this);(function(){var d,h,q,e,b,a,c,f={}.hasOwnProperty,m=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);c.prototype=b.prototype;a.prototype=new c;a.__super__=b.prototype;return a},v=function(a,b){return function(){return a.apply(b,arguments)}},r=[].indexOf||function(a){for(var b=
0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};c=g["const"].scaleFns;d=function(a){function b(){this.axesGeoms={}}m(b,a);b.prototype.make=function(a){var b,c,d,e;this.domains=a.domains;this.coord=a.coord;this.scales=a.scales;this.specs=a.specs;this.labels=a.labels;return this.axes={x:g.guide.axis(this.coord.axisType("x"),{domain:this.domains.x,type:this.scales.x.tickType(),guideSpec:null!=(b=this.specs.x)?b:{},key:null!=(c=this.labels.x)?c:"x"}),y:g.guide.axis(this.coord.axisType("y"),
{domain:this.domains.y,type:this.scales.y.tickType(),guideSpec:null!=(d=this.specs.y)?d:{},key:null!=(e=this.labels.y)?e:"y"})}};b.prototype.getDimension=function(a){var b,c,d;a={};d=this.axes;for(c in d)b=d[c],b=b.getDimension(),"left"===b.position?a.left=b.width:"right"===b.position?a.right=b.width:"bottom"===b.position?a.bottom=b.height:"top"===b.position&&(a.top=b.height);return a};b.prototype.render=function(a,b,c){var d,e,f,h,k,m,n,r,q,w,v,O,N,R,P,K;m=_.keys(c.indices);f=g.compare(_.keys(this.axesGeoms),
m).deleted;k=0;for(w=f.length;k<w;k++)for(h in e=f[k],v=this.axesGeoms[e],v)e=v[h],e.dispose(b());f={top:0,left:0,right:a.eachWidth,bottom:a.eachHeight,width:a.eachWidth,height:a.eachHeight};h=c.edge(this.axes.x.position);k=c.edge(this.axes.y.position);w={renderLabel:!1,renderTick:!1};v={renderLabel:!1,renderTick:!1};"r"===this.axes.x.type&&(w.renderLine=!1);"r"===this.axes.y.type&&(v.renderLine=!1);N=0;for(R=m.length;N<R;N++)for(e=m[N],r=c.getOffset(a,e),null==(O=this.axesGeoms)[e]&&(O[e]={x:new g.Geometry("guide"),
y:new g.Geometry("guide")}),q=b(r,!1,!1),r=h(e)?{}:w,this.axesGeoms[e].x.set(this.axes.x.calculate(f,this.coord,r)),this.axesGeoms[e].x.render(q),r=k(e)?{}:v,this.axesGeoms[e].y.set(this.axes.y.calculate(f,this.coord,r)),this.axesGeoms[e].y.render(q),P=["x","y"],r=0,q=P.length;r<q;r++)for(n in d=P[r],K=this.axesGeoms[e][d].pts,K)d=K[n],d.grid&&d.grid.toBack()};b.prototype.dispose=function(a){var b,c,d;d=this.axesGeoms;for(c in d)b=d[c],b.x.dispose(a),b.y.dispose(a);return this.axesGeoms={}};return b}(g.GuideSet);
h=function(a){function b(a){this.calculate=v(this.calculate,this);var c,d,e,f,h;c=a.domain;f=a.type;d=a.guideSpec;a=a.key;e=function(a,b){var c;return null!=(c=d[a])?c:b};this.position=e("position",this.defaultPosition);if(h=this.position,0>r.call(this.validPositions,h))throw g.error.defn("X-axis position can't be "+this.position+".");this.titletext=e("title",a);this.renderTick=e("renderTick",this.renderTickDefault);this.renderGrid=e("renderGrid",this.renderGridDefault);this.renderLabel=e("renderLabel",
this.renderLabelDefault);this.renderLine=e("renderLine",this.renderLineDefault);this.gridColor=e("gridColor",this.gridColor);c=g.tick.make(c,d,f);this.ticks=c.ticks;this.ticksFormatter=c.ticksFormatter;this.maxwidth=_.max(_.map(this.ticks,function(a){return g.strSize(a.value)}));this.maxwidth=Math.max(this.maxwidth,0)}m(b,a);b.prototype.renderTickDefault=!0;b.prototype.renderGridDefault=!0;b.prototype.renderLabelDefault=!0;b.prototype.renderLineDefault=!0;b.prototype.calculate=function(a,b,c){var d,
e,f,g,h,k,m;this.coord=b;if("none"===this.position)return{};null==c&&(c={});a.centerx=a.left+a.width/2;a.centery=a.top+a.height/2;a.radius=Math.min(a.width,a.height)/2-10;b={};this.renderLine&&(b.line={marks:{0:this._renderline(a)}});g=this.ticks;for(d in g)f=g[d],e={},this.renderTick&&(null!=(h=c.renderTick)?h:1)&&(e.tick=this._makeTick(a,f)),this.renderLabel&&(null!=(k=c.renderLabel)?k:1)&&(e.text=this._makeLabel(a,f)),this.renderGrid&&(null!=(m=c.renderGrid)?m:1)&&(e.grid=this._makeGrid(a,f)),
b[d]={marks:e};return b};b.prototype._makeTick=function(a){if(!a)throw g.error.impl();a.type="path";a.stroke=c.identity("#666");a.color=c.identity("#666");return a};b.prototype._makeLabel=function(a){if(!a)throw g.error.impl();a.type="text";a.stroke=c.identity("#666");a.color=c.identity("#666");return a};b.prototype._makeGrid=function(a){if(!a)throw g.error.impl();a.stroke=null!=this.gridColor?this.gridColor:"#EFEFEF";return a};return b}(g.Guide);b=function(a){function b(){return b.__super__.constructor.apply(this,
arguments)}m(b,a);b.prototype.type="x";b.prototype.renderGridDefault=!1;b.prototype.defaultPosition="bottom";b.prototype.validPositions=["top","bottom","none"];b.prototype._renderline=function(a){var b,d;d="top"===this.position?c.identity(a.top):c.identity(a.bottom);b=c.identity(a.left);a=c.identity(a.left+a.width);return{type:"path",y:[d,d],x:[b,a],stroke:c.identity("#666")}};b.prototype._makeTick=function(a,d){var e,f;"top"===this.position?(e=c.identity(a.top),f=c.identity(a.top-5)):(e=c.identity(a.bottom),
f=c.identity(a.bottom+5));return b.__super__._makeTick.call(this,{x:[d.location,d.location],y:[e,f]})};b.prototype._makeLabel=function(a,d){var e;e="top"===this.position?c.identity(a.top-15):c.identity(a.bottom+15);return b.__super__._makeLabel.call(this,{x:d.location,y:e,text:d.value,"text-anchor":"middle"})};b.prototype._makeGrid=function(a,d){var e,f;e=c.identity(a.top);f=c.identity(a.bottom);return b.__super__._makeGrid.call(this,{type:"path",x:[d.location,d.location],y:[e,f]})};b.prototype.getDimension=
function(){var a;return{position:null!=(a=this.position)?a:"bottom",height:30,width:"all"}};return b}(h);a=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}m(b,a);b.prototype.type="y";b.prototype.renderLineDefault=!1;b.prototype.renderTickDefault=!1;b.prototype.defaultPosition="left";b.prototype.validPositions=["left","right","none"];b.prototype._renderline=function(a){var b,d;b="left"===this.position?c.identity(a.left):c.identity(a.right);d=c.identity(a.top);a=c.identity(a.top+
a.height);return{type:"path",x:[b,b],y:[d,a],stroke:c.identity("#666")}};b.prototype._makeTick=function(a,d){var e,f;"left"===this.position?(e=c.identity(a.left),f=c.identity(a.left-5)):(e=c.identity(a.right),f=c.identity(a.right+5));return b.__super__._makeTick.call(this,{x:[e,f],y:[d.location,d.location]})};b.prototype._makeLabel=function(a,d){var e;e="left"===this.position?c.identity(a.left-7):c.identity(a.right+7);return b.__super__._makeLabel.call(this,{x:e,y:d.location,text:d.value,"text-anchor":"left"===
this.position?"end":"start"})};b.prototype._makeGrid=function(a,d){var e,f;e=c.identity(a.left);f=c.identity(a.right);return b.__super__._makeGrid.call(this,{type:"path",y:[d.location,d.location],x:[e,f]})};b.prototype.getDimension=function(){var a;return{position:null!=(a=this.position)?a:"right",height:"all",width:5+this.maxwidth}};return b}(h);q=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}m(b,a);b.prototype.type="r";b.prototype.defaultPosition="left";b.prototype.validPositions=
["left","right","none"];b.prototype._renderline=function(a){var b,d;b=c.identity(a.left);d=c.identity(a.top);a=c.identity(a.top+a.height/2);return{type:"path",x:[b,b],y:[d,a],stroke:c.identity("#666")}};b.prototype._makeTick=function(a,d){return b.__super__._makeTick.call(this,{x:[c.identity(a.left),c.identity(a.left-5)],y:[d.location,d.location]})};b.prototype._makeLabel=function(a,d){return b.__super__._makeLabel.call(this,{x:c.identity(a.left-7),y:d.location,text:d.value,"text-anchor":"end"})};
b.prototype._makeGrid=function(a,d){return b.__super__._makeGrid.call(this,{type:"circle",x:c.identity(a.centerx),y:c.identity(a.centery),size:c.identity(this.coord.getScale("r")(d.location)),color:c.identity("none"),"fill-opacity":0,"stroke-width":1})};b.prototype.getDimension=function(){return{position:"left",height:"all",width:5+this.maxwidth}};return b}(h);e=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}m(b,a);b.prototype.type="t";b.prototype.defaultPosition="out";
b.prototype.validPositions=["out","none"];b.prototype._renderline=function(a){return{type:"circle",x:c.identity(a.centerx),y:c.identity(a.centery),size:c.identity(a.radius),color:c.identity("none"),stroke:c.identity("#666"),"stroke-width":1}};b.prototype._makeTick=function(a,d){return b.__super__._makeTick.call(this,{x:[d.location,d.location],y:[c.max(0),c.max(3)]})};b.prototype._makeLabel=function(a,d){return b.__super__._makeLabel.call(this,{x:d.location,y:c.max(12),text:d.value,"text-anchor":"middle"})};
b.prototype._makeGrid=function(a,d){var e,f,g,h;f=c.identity(a.centerx);h=c.identity(a.centery);e=this.coord.getScale("t")(d.location)-Math.PI/2;g=c.identity(a.centerx+a.radius*Math.cos(e));e=c.identity(a.centery+a.radius*Math.sin(e));return b.__super__._makeGrid.call(this,{type:"path",y:[h,e],x:[f,g]})};b.prototype.getDimension=function(){return{}};return b}(h);null==g.guide&&(g.guide={});g.guide.axis=function(c,d){if("x"===c)return new b(d);if("y"===c)return new a(d);if("r"===c)return new q(d);
if("t"===c)return new e(d)};g.guide.axes=function(a){return new d(a)}}).call(this);(function(){var d,h,q,e,b,a={}.hasOwnProperty,c=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);d.prototype=c.prototype;b.prototype=new d;b.__super__=c.prototype;return b},f=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},m=function(a,b){return function(){return a.apply(b,arguments)}};b=g["const"].scaleFns;g.guide.legends=function(){return new q};
g.guide.legend=function(a,b){return"left"===b||"right"===b?new e(a):new d(a)};q=function(a){function b(){this.legends=[];this.deletedLegends=[]}c(b,a);b.prototype.make=function(a){var b,c,d,e,f,h,k,m,r,q,v,B;d=a.domains;m=a.layers;e=a.guideSpec;v=a.scales;k=a.layerMapping;this.position=a.position;c=a.dims;null==this.postion&&(this.postion="right");if("none"!==this.position){b=this._mergeAes(d,m);for(h=0;h<this.legends.length;){r=this.legends[h];q=!0;for(f=0;f<b.length;){a=b[f];if(_.isEqual(a,r.aes)){b.splice(f,
1);q=!1;break}f++}q?(this.deletedLegends.push(r),this.legends.splice(h,1)):h++}r=0;for(f=b.length;r<f;r++)a=b[r],this.legends.push(g.guide.legend(a,this.position));h=this.legends;q=[];b=0;for(f=h.length;b<f;b++)r=h[b],a=r.aes[0],q.push(r.make({domain:d[a],position:this.position,guideSpec:null!=(B=e[a])?B:{},type:v[a].tickType(),mapping:k,keys:g.getLabel(m,a),dims:c}));return q}};b.prototype._mergeAes=function(a,b){var c,d,e,h,k,m,r;k=[];for(c in a)if(!(0<=f.call(g["const"].noLegend,c)||(e=_.map(b,
function(a){return a.mapping[c]}),_.all(e,_.isUndefined)))){h=!1;m=0;for(r=k.length;m<r;m++)if(d=k[m],_.isEqual(d.mapped,e)){d.aes.push(c);h=!0;break}h||k.push({aes:[c],mapped:e})}return _.pluck(k,"aes")};b.prototype.getDimension=function(a){var b,c,d;b={};if("left"===(c=this.position)||"right"===c)b[this.position]=this._leftrightWidth(a);else if("top"===(d=this.position)||"bottom"===d)b[this.position]=this._topbottomHeight(a);return b};b.prototype._leftrightWidth=function(a){var b,c,d,e,f,g,h,k;
e=a.chartHeight;f=0;b=10;c=0;k=this.legends;g=0;for(h=k.length;g<h;g++)d=k[g],d=d.getDimension(a),d.height+c>e&&(b+=f+5,f=c=0),d.width>f&&(f=d.width),c+=d.height;return b+f};b.prototype._topbottomHeight=function(a){var b,c,d,e,f;c=10;f=this.legends;d=0;for(e=f.length;d<e;d++)b=f[d],b=b.getDimension(a),c+=b.height+10;return c};b.prototype.render=function(a,b,c){var d,e,f,g,h;e=b();h=this.deletedLegends;f=0;for(g=h.length;f<g;f++)d=h[f],d.dispose(e);this.deletedLegends=[];if("left"===this.position||
"right"===this.position)return this._renderV(a,b,c);if("top"===this.position||"bottom"===this.position)return this._renderH(a,b,c)};b.prototype._renderV=function(a,b,c){var d,e,f,g,h,k,m,r,q,v,G,F,I;d=a.paddingTop+a.guideTop;e="left"===this.position?a.paddingLeft:a.width-a.guideRight-a.paddingRight;h=0;g=a.height-a.guideTop-a.paddingTop;r=10;m="right"===this.position?c.right:0;F=this.legends;I=[];v=0;for(G=F.length;v<G;v++)f=F[v],k=f.getDimension(a),k.height+c.y>g&&(m+=h+5,h=r=0),k.width>h&&(h=k.width),
q={x:m+e,y:r+d},f.render(b(q,!1,!1),h),I.push(r+=k.height);return I};b.prototype._renderH=function(a,b,c){var d,e,f,g,h,k;d=a.paddingLeft;e="top"===this.position?a.paddingTop:a.height-a.guideBottom-a.paddingBottom;e={x:d,y:"top"===this.position?c.top+e:c.bottom+e+10};h=this.legends;k=[];f=0;for(g=h.length;f<g;f++)c=h[f],d=c.getDimension(a),c.render(b(e,!1,!1)),k.push(e.y+=d.height+10);return k};b.prototype.dispose=function(a){var b,c,d,e,f;e=this.legends;f=[];c=0;for(d=e.length;c<d;c++)b=e[c],f.push(b.dispose(a));
return f};return b}(g.GuideSet);h=function(a){function d(a){this.aes=a;this._makeEvtData=m(this._makeEvtData,this);this._makeTick=m(this._makeTick,this);this.geometry=new g.Geometry("guide")}c(d,a);d.prototype.TITLEHEIGHT=15;d.prototype.TICKHEIGHT=12;d.prototype.SPACING=10;d.prototype.make=function(a){var b,c,d,e,f;b=a.domain;d=a.type;c=a.guideSpec;this.mapping=a.mapping;this.position=a.position;a=a.keys;this.titletext=null!=(e=c.title)?e:a;return f=g.tick.make(b,c,d),this.ticks=f.ticks,f};d.prototype.calculate=
function(){var a,b,c,d,e;b={};b.title={marks:{0:this._makeTitle(this.titletext)},evtData:{aes:this.aes[0],value:"legendTitle"}};e=this.ticks;for(c in e)a=e[c],d={},d.tick=this._makeTick(a),d.text=this._makeLabel(a),a=this._makeEvtData(a),b[c]={marks:d,evtData:a};return b};d.prototype.render=function(a){this.geometry.set(this.calculate());return this.geometry.render(a)};d.prototype.dispose=function(a){return this.geometry.dispose(a)};d.prototype._makeTitle=function(a,c){null==c&&(c={x:0,y:0});return{type:"text",
x:b.identity(c.x+5),y:b.identity(c.y),color:b.identity("black"),text:a,"text-anchor":"start"}};d.prototype._makeLabel=function(a,c){c||(c={x:0,y:15+12*a.index});return{type:"text",x:b.identity(c.x+20),y:b.identity(c.y+1),color:b.identity("black"),text:a.value,"text-anchor":"start"}};d.prototype._makeTick=function(a,c){var d,e,h,k;c||(c={x:0,y:15+12*a.index});e={type:"circle",x:b.identity(c.x+10),y:b.identity(c.y),color:b.identity("steelblue")};k=this.mapping;for(d in k)h=k[d],0<=f.call(g["const"].noLegend,
d)||(h=h[0],0<=f.call(this.aes,d)?e[d]=a.location:null!=h.type&&"const"===h.type?e[d]=b.identity(h.value):_.isObject(h)?e[d]=b.identity(g["const"].defaults[d]):e[d]=b.identity(h));_.isObject(e.size)&&(e.size=b.identity(5));return e};d.prototype._makeEvtData=function(a){var b,c,d,e,g,h,k;c={};k=this.mapping;for(b in k)for(e=k[b],g=0,h=e.length;g<h;g++)d=e[g],0<=f.call(this.aes,b)&&"map"===d.type&&(c[d.value]=_.extend(a.evtData,{value:a.location,aes:b}));return c};return d}(g.Guide);e=function(a){function b(){return b.__super__.constructor.apply(this,
arguments)}c(b,a);b.prototype.make=function(a){var c;b.__super__.make.call(this,a);this.height=this.TITLEHEIGHT+this.SPACING+this.TICKHEIGHT*_.size(this.ticks);c=g.strSize(this.titletext);a=_.max(_.map(this.ticks,function(a){return g.strSize(a.value)}));return this.maxwidth=Math.max(c,a)};b.prototype.getDimension=function(){return{position:this.position,height:this.height,width:15+this.maxwidth}};return b}(h);d=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}c(b,a);b.prototype.TICKSPACING=
25;b.prototype.make=function(a){var c,d,e,f;b.__super__.make.call(this,a);this.maxwidth=a.dims.width;this.height=this.TITLEHEIGHT+this.SPACING;a=0;this.height+=this.TICKHEIGHT;f=this.ticks;d=0;for(e=f.length;d<e;d++)c=f[d],c=g.strSize(c.value)+this.TICKSPACING,a+c<this.maxwidth?a+=c:(this.height+=this.TICKHEIGHT,a=c);return null};b.prototype.calculate=function(){var a,b,c,d,e,f,h;b={};b.title={marks:{0:this._makeTitle(this.titletext)}};e={x:0,y:this.TITLEHEIGHT};h=this.ticks;for(c in h)f=h[c],d={},
d.tick=this._makeTick(f,e),d.text=this._makeLabel(f,e),a=this._makeEvtData(f,e),b[c]={marks:d,evtData:a},a=g.strSize(f.value)+this.TICKSPACING,e.x+a<this.maxwidth?e.x+=a:(e.x=0,e.y+=this.TICKHEIGHT);return b};b.prototype.getDimension=function(){return{position:this.position,height:this.height,width:"all"}};return b}(h)}).call(this);(function(){var d,h,q,e,b,a,c,f,m,v,r=function(a,b){return function(){return a.apply(b,arguments)}},n={}.hasOwnProperty,w=function(a,b){function c(){this.constructor=a}
for(var d in b)n.call(b,d)&&(a[d]=b[d]);c.prototype=b.prototype;a.prototype=new c;a.__super__=b.prototype;return a};v=function(){function a(b){this.f=null}a.prototype.make=function(a){this.domain=a;this.compare=g.domain.compare(a);if(!a)return this._makeNone();switch(a.type){case "num":return this._makeNum();case "date":return this._makeDate();case "cat":return this._makeCat()}};a.prototype._makeNone=function(){throw g.error.impl("You are using a scale that does not support null values");};a.prototype._makeNum=
function(){throw g.error.impl("You are using a scale that does not support numbers");};a.prototype._makeDate=function(){throw g.error.impl("You are using a scale that does not support dates");};a.prototype._makeCat=function(){throw g.error.impl("You are using a scale that does not support categories");};a.prototype.tickType=function(){if(!this.domain)return this._tickNone();switch(this.domain.type){case "num":return this._tickNum();case "date":return this._tickDate();case "cat":return this._tickCat()}};
a.prototype._tickNone=function(){return"none"};a.prototype._tickNum=function(){return"num"};a.prototype._tickDate=function(){return"date"};a.prototype._tickCat=function(){return"cat"};a.prototype._identityWrapper=function(a){return function(b){return _.isObject(b)&&"scalefn"===b.t&&"identity"===b.f?b.v:a(b)}};return a}();d=function(a){function b(a){this._catWrapper=r(this._catWrapper,this);this._dateWrapper=r(this._dateWrapper,this);this._numWrapper=r(this._numWrapper,this);this.finv=this.f=null}
w(b,a);b.prototype.make=function(a,c,d){this.range=c;this.space=d;_.isNumber(this.space)||(this.space=.05);return b.__super__.make.call(this,a)};b.prototype._makeNone=function(){var a,b=this;a=(this.range.max-this.range.min)*this.space;this.f=this._NaNCheckWrap(function(c){var d;if(_.isObject(c))switch(d=function(b){return(this.range.max-this.range.min-2*a)/b},c.f){case "identity":return c.v;case "middle":return b.range.max/2+b.range.min/2;case "max":return b.range.max;case "min":return b.range.min;
case "novalue":return b.range.max/2+b.range.min/2;case "upper":return c.m?b.range.min+a+(c.n+1)*d(c.m):b.range.max-a;case "lower":return c.m?b.range.min+a+c.n*d(c.m):b.range.min+a}else return b.range.max/2+b.range.min/2});return this.finv=function(){return{}}};b.prototype._NaNCheckWrap=function(a){return function(b){if(g.isDefined(b)){b=a(b);if(isNaN(b)||Infinity===b||-Infinity===b)throw g.error.scale("Scale outputed a value that is not finite.");return b}}};b.prototype._numWrapper=function(a,b){var c=
this;return this._NaNCheckWrap(function(d){var e,f,h;if(_.isObject(d)){if("scalefn"===d.t)switch(d.f){case "identity":return d.v;case "middle":return b(d.v+a.bw/2);case "max":return c.range.max+d.v;case "min":return c.range.min+d.v;case "upper":case "lower":h=b(d.v+a.bw);e=b(d.v);f=(h-e)*c.space;if("upper"===d.f&&!d.m)return h-f;if("lower"===d.f&&!d.m)return e+f;h=(h-e-2*f)/d.m;if("upper"===d.f)return e+f+(d.n+1)*h;if("lower"===d.f)return e+f+d.n*h}throw g.error.input("Unknown object "+d+" is passed to a scale");
}return b(d)})};b.prototype._dateWrapper=function(a,b){var c=this;return this._NaNCheckWrap(function(d){var e,f,h,l;if(_.isObject(d)){if("scalefn"===d.t)switch(d.f){case "identity":return d.v;case "max":return c.range.max+d.v;case "min":return c.range.min+d.v;case "upper":case "middle":case "lower":l=function(a,b,c){var e;null==c&&(c=0);e=moment.unix(d.v).startOf(b);e[b](a*Math.floor(e[b]()/a)+a*c);return e.unix()};h=b(function(){switch(a.bw){case "week":return moment.unix(d.v).day(7).unix();case "twomonth":return l(2,
"month");case "quarter":return l(4,"month");case "sixmonth":return l(6,"month");case "twoyear":return l(2,"year");case "fiveyear":return l(5,"year");case "decade":return l(10,"year");default:return moment.unix(d.v).endOf(a.bw).unix()}}());e=b(function(){switch(a.bw){case "week":return moment.unix(d.v).day(0).unix();case "twomonth":return l(2,"month",1);case "quarter":return l(4,"month",1);case "sixmonth":return l(6,"month",1);case "twoyear":return l(2,"year",1);case "fiveyear":return l(5,"year",1);
case "decade":return l(10,"year",1);default:return moment.unix(d.v).startOf(a.bw).unix()}}());f=(h-e)*c.space;if("middle"===d.f)return h/2+e/2;if("upper"===d.f&&!d.m)return h-f;if("lower"===d.f&&!d.m)return e+f;h=(h-e-2*f)/d.m;if("upper"===d.f)return e+f+(d.n+1)*h;if("lower"===d.f)return e+f+d.n*h}throw g.error.input("Unknown object "+d+" is passed to a scale");}return b(d)})};b.prototype._catWrapper=function(a,b){var c=this;return this._NaNCheckWrap(function(d){var e,f,h;f=a*c.space;if(_.isObject(d)){if("scalefn"===
d.t)switch(d.f){case "identity":return d.v;case "max":return c.range.max+d.v;case "min":return c.range.min+d.v;case "upper":case "middle":case "lower":h=b(d.v)+a;e=b(d.v);if("middle"===d.f)return h/2+e/2;if("upper"===d.f&&!d.m)return h-f;if("lower"===d.f&&!d.m)return e+f;h=(h-e-2*f)/d.m;if("upper"===d.f)return e+f+(d.n+1)*h;if("lower"===d.f)return e+f+d.n*h}throw g.error.input("Unknown object "+d+" is passed to a scale");}return b(d)+a/2})};return b}(v);a=function(a){function b(){return b.__super__.constructor.apply(this,
arguments)}w(b,a);b.prototype._makeNum=function(){var a,b;b=g.linear(this.domain.min,this.range.min,this.domain.max,this.range.max);a=g.linear(this.range.min,this.domain.min,this.range.max,this.domain.max);this.f=this._numWrapper(this.domain,b);return this.finv=function(b,c){var d;d=[a(b),a(c)];return{ge:_.min(d),le:_.max(d)}}};b.prototype._makeDate=function(){var a,b;b=g.linear(this.domain.min,this.range.min,this.domain.max,this.range.max);a=g.linear(this.range.min,this.domain.min,this.range.max,
this.domain.max);this.f=this._dateWrapper(this.domain,b);return this.finv=function(b,c){var d;d=[a(b),a(c)];return{ge:_.min(d),le:_.max(d)}}};b.prototype._makeCat=function(){var a,b=this;a=(this.range.max-this.range.min)/this.domain.levels.length;this.f=this._catWrapper(a,function(c){c=_.indexOf(b.domain.levels,c);return-1===c?null:b.range.min+c*a});return this.finv=function(c,d){var e;d<c&&(e=[d,c],c=e[0],d=e[1]);return{"in":b.domain.levels.slice(Math.floor(c/a),+Math.floor(d/a)+1||9E9)}}};return b}(d);
c=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}w(b,a);b.prototype._makeNum=function(){var a,b,c,d;if(0>this.domain.min)throw g.error.input("Log scale cannot handle zero or negative input.");a=Math.log;c=g.linear(a(this.domain.min),this.range.min,a(this.domain.max),this.range.max);this.f=this._numWrapper(this.domain,function(b){return c(a(b))});d=g.linear(this.range.min,a(this.domain.min),this.range.max,a(this.domain.max));b=function(a){return Math.exp(d(a))};return this.finv=
function(a,c){var d;d=[b(a),b(c)];return{ge:_.min(d),le:_.max(d)}}};b.prototype._tickNum=function(){return"num-log"};return b}(d);d=function(a){function b(){this._makeDate=r(this._makeDate,this);this._makeNum=r(this._makeNum,this);return b.__super__.constructor.apply(this,arguments)}w(b,a);b.prototype._makeNum=function(){var a,b,c;a=0===this.domain.min?0:1;b=Math.sqrt;c=g.linear(b(this.domain.min),a,b(this.domain.max),10);return this.f=this._identityWrapper(function(a){return c(b(a))})};b.prototype._makeDate=
function(){return this._makeNum()};return b}(v);f=function(a){function b(){this._makeDate=r(this._makeDate,this);this._makeNum=r(this._makeNum,this);return b.__super__.constructor.apply(this,arguments)}w(b,a);b.prototype._makeNum=function(){return this.f=this._identityWrapper(g.linear(this.domain.min,0===this.domain.min?0:.1,this.domain.max,1))};b.prototype._makeDate=function(){return this._makeNum()};return b}(v);m=function(a){function b(){this._makeCat=r(this._makeCat,this);return b.__super__.constructor.apply(this,
arguments)}w(b,a);b.prototype._makeCat=function(){var a,b,c,d=this;c=this.domain.levels.length;if(9>=c)return a="#E41A1C #377EB8 #4DAF4A #984EA3 #FF7F00 #FFFF33 #A65628 #F781BF #999999".split(" "),this.f=function(b){b=_.indexOf(d.domain.levels,b);return a[b]};b=function(a){return _.indexOf(d.domain.levels,a)/c+1/(2*c)};return this.f=function(a){return"undefined"!==typeof Raphael&&null!==Raphael?Raphael.hsl(b(a),.5,.5):"hsl("+b(a)+",0.5,0.5)"}};return b}(v);q=function(a){function b(a){this._makeDate=
r(this._makeDate,this);this._makeNum=r(this._makeNum,this);this.lower=a.lower;this.upper=a.upper}w(b,a);b.prototype._makeNum=function(){var a,b,c,d,e;c="undefined"!==typeof Raphael&&null!==Raphael?Raphael.color(this.lower):this.lower;e="undefined"!==typeof Raphael&&null!==Raphael?Raphael.color(this.upper):this.upper;d=g.linear(this.domain.min,c.r,this.domain.max,e.r);b=g.linear(this.domain.min,c.g,this.domain.max,e.g);a=g.linear(this.domain.min,c.b,this.domain.max,e.b);return this.f=this._identityWrapper(function(c){return"undefined"!==
typeof Raphael&&null!==Raphael?Raphael.rgb(d(c),b(c),a(c)):"rgb("+d(c)+","+b(c)+","+a(c)+")"})};b.prototype._makeDate=function(){return this._makeNum()};return b}(v);e=function(a){function b(a){this._makeDate=r(this._makeDate,this);this._makeCat=r(this._makeCat,this);this._makeNum=r(this._makeNum,this);this.lower=a.lower;this.middle=a.middle;this.upper=a.upper;this.midpoint=a.midpoint;null==this.midpoint&&(this.midpoint=0)}w(b,a);b.prototype._makeNum=function(){var a,b,c,d,e,f,h,l,k,m=this;e="undefined"!==
typeof Raphael&&null!==Raphael?Raphael.color(this.lower):this.lower;f="undefined"!==typeof Raphael&&null!==Raphael?Raphael.color(this.middle):this.middle;k="undefined"!==typeof Raphael&&null!==Raphael?Raphael.color(this.upper):this.upper;h=g.linear(this.domain.min,e.r,this.midpoint,f.r);c=g.linear(this.domain.min,e.g,this.midpoint,f.g);a=g.linear(this.domain.min,e.b,this.midpoint,f.b);l=g.linear(this.midpoint,f.r,this.domain.max,k.r);d=g.linear(this.midpoint,f.g,this.domain.max,k.g);b=g.linear(this.midpoint,
f.b,this.domain.max,k.b);return this.f=this._identityWrapper(function(e){return e<m.midpoint?"undefined"!==typeof Raphael&&null!==Raphael?Raphael.rgb(h(e),c(e),a(e)):"rgb("+h(e)+","+c(e)+","+a(e)+")":"undefined"!==typeof Raphael&&null!==Raphael?Raphael.rgb(l(e),d(e),b(e)):"rgb("+l(e)+","+d(e)+","+b(e)+")"})};b.prototype._makeCat=function(){};b.prototype._makeDate=function(){return this._makeNum()};return b}(v);h=function(a){function b(a){this["function"]=a["function"]}w(b,a);b.prototype.make=function(a){this.domain=
a;this.compare=g.domain.compare(a);return this.f=this._identityWrapper(this["function"])};return b}(v);(function(a){function b(){return b.__super__.constructor.apply(this,arguments)}w(b,a);b.prototype._makeCat=function(){};return b})(v);b=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}w(b,a);b.prototype.make=function(a){this.domain=a;this.compare=function(a,b){return 0};return this.f=this._identityWrapper(function(a){return a})};return b}(v);g.scale={};g.scale.Base=
v;g.scale.classes={linear:a,log:c,area:d,palette:m,gradient:q,gradient2:e,identity:b,opacity:f,custom:h};g.scale.make=function(a){if(a.type in g.scale.classes)return new g.scale.classes[a.type](a);throw g.error.defn("No such scale "+a.type+".");}}).call(this);(function(){var d,h=[].indexOf||function(d){for(var e=0,b=this.length;e<b;e++)if(e in this&&this[e]===d)return e;return-1};g.scaleset=function(g,e,b){return new d(g,e,b)};d=function(){function d(e,b){this.coord=b;this.ranges=e;this.axes=g.guide.axes();
this.legends=g.guide.legends()}d.prototype.make=function(d,b,a){this.guideSpec=d;this.layers=a;this.domains=b;this.scales=this._makeScales(d,b,this.ranges);this.reverse={x:this.scales.x.finv,y:this.scales.y.finv};return this.layerMapping=this._mapLayers(a)};d.prototype.setRanges=function(d){var b,a,c,f;this.ranges=d;c=["x","y"];f=[];b=0;for(a=c.length;b<a;b++)d=c[b],f.push(this.scales[d].make(this.domains[d],this.ranges[d],this.getSpec(d).padding));return f};d.prototype._makeScales=function(d,b,a){var c,
f,k,q,r,n,w,p;f=function(a){var b,c;if(d&&null!=d[a]&&null!=d[a].scale){if(_.isFunction(d[a].scale))return{type:"custom","function":d[a].scale};b=function(){switch(a){case "x":return["linear","log"];case "y":return["linear","log"];case "color":return["palette","gradient","gradient2"];case "size":return["linear","log"];case "opacity":return["opacity"];case "shape":return["linear","log","area"];case "id":return["identity"];case "text":return["identity"];default:return[]}}();if(c=d[a].scale.type,0<=
h.call(b,c))return d[a].scale;throw g.error.scale("Aesthetic "+a+" cannot have scale "+d[a].scale.type);}return null};c={};c.x=g.scale.make(null!=(k=f("x"))?k:{type:"linear"});c.x.make(b.x,a.x,this.getSpec("x").padding);c.y=g.scale.make(null!=(q=f("y"))?q:{type:"linear"});c.y.make(b.y,a.y,this.getSpec("y").padding);null!=b.color&&("cat"===b.color.type?c.color=g.scale.make(null!=(r=f("color"))?r:{type:"palette"}):(a={type:"gradient",upper:"steelblue",lower:"red"},c.color=g.scale.make(null!=(n=f("color"))?
n:a)),c.color.make(b.color));null!=b.size&&(c.size=g.scale.make(null!=(w=f("size"))?w:{type:"area"}),c.size.make(b.size));null!=b.opacity&&(c.opacity=g.scale.make(null!=(p=f("opacity"))?p:{type:"opacity"}),c.opacity.make(b.opacity));c.text=g.scale.make({type:"identity"});c.text.make();return c};d.prototype.fromPixels=function(d,b){var a,c,f,g,h,k,n;null!=d&&null!=b&&(a=this.coord.getAes(d,b,this.reverse),f=a.x,g=a.y);c={};n=this.layerMapping.x;h=0;for(k=n.length;h<k;h++)a=n[h],null!=a.type&&"map"===
a.type&&(c[a.value]=null!=f?f:null);k=this.layerMapping.y;f=0;for(h=k.length;f<h;f++)a=k[f],null!=a.type&&"map"===a.type&&(c[a.value]=null!=g?g:null);return c};d.prototype.getSpec=function(d){return null!=this.guideSpec&&null!=this.guideSpec[d]?this.guideSpec[d]:{}};d.prototype.makeGuides=function(d,b){var a,c;this.makeAxes();this.makeTitles(null!=(a=d.title)?a:"");this.makeLegends(null!=(c=d.legendPosition)?c:"right",b);return{axes:this.axes,legends:this.legends,title:this.title}};d.prototype.renderGuides=
function(d,b,a){this.axes.render(d,b,a);this.renderTitles(d,b);return this.renderLegends(d,b)};d.prototype.disposeGuides=function(d){this.axes.dispose(d);this.legends.dispose(d);this.titles.x.dispose(d);this.titles.y.dispose(d);this.titles.main.dispose(d);return this.titles={}};d.prototype.makeTitles=function(d){null==this.titles&&(this.titles={x:g.guide.title(this.coord.axisType("x")),y:g.guide.title(this.coord.axisType("y")),main:g.guide.title("main")});this.titles.main.make({title:d,guideSpec:{},
position:"top"});this.titles.x.make({guideSpec:this.getSpec("x"),title:g.getLabel(this.layers,"x")});this.titles.y.make({guideSpec:this.getSpec("y"),title:g.getLabel(this.layers,"y")})};d.prototype.titleOffset=function(d){var b,a,c,f,g,h,k;d={};h=this.titles;for(a in h)for(b=h[a],c=b.getDimension(),k=["left","right","top"," bottom"],f=0,g=k.length;f<g;f++)b=k[f],c[b]&&(null==d[b]&&(d[b]=0),d[b]+=c[b]);return d};d.prototype.renderTitles=function(d,b){var a;b=b({},!1,!1);a=this.axesOffset(d);this.titles.x.render(b,
d,a);this.titles.y.render(b,d,a);this.titles.main.render(b,d,a)};d.prototype.makeAxes=function(){var d;return this.axes.make({domains:{x:this.domains.x,y:this.domains.y},coord:this.coord,scales:this.scales,specs:null!=(d=this.guideSpec)?d:{},labels:{x:g.getLabel(this.layers,"x"),y:g.getLabel(this.layers,"y")}})};d.prototype.axesOffset=function(d){return this.axes.getDimension(d)};d.prototype._mapLayers=function(d){var b,a,c,f,h;a={};h=g["const"].aes;c=0;for(f=h.length;c<f;c++)b=h[c],a[b]=_.map(d,
function(a){return null!=a.mapping[b]?{type:"map",value:a.mapping[b]}:null!=a.consts[b]?{type:"const",value:a.consts[b]}:a.defaults[b]});return a};d.prototype.makeLegends=function(d,b){null==d&&(d="right");return this.legends.make({domains:this.domains,layers:this.layers,guideSpec:this.guideSpec,scales:this.scales,layerMapping:this.layerMapping,position:d,dims:b})};d.prototype.legendOffset=function(d){return this.legends.getDimension(d)};d.prototype.renderLegends=function(d,b){var a,c,f,g,h,k,n,q,
p;f={left:0,right:0,top:0,bottom:0};a=this.axesOffset(d);g=this.titleOffset(d);n=["left","right","top","bottom"];h=0;for(k=n.length;h<k;h++)c=n[h],f[c]+=null!=(q=a[c])?q:0,f[c]+=null!=(p=g[c])?p:0;this.legends.render(d,b,f)};return d}()}).call(this);(function(){var d,h,q,e,b,a,c,f,m,v={}.hasOwnProperty,r=function(a,b){function c(){this.constructor=a}for(var d in b)v.call(b,d)&&(a[d]=b[d]);c.prototype=b.prototype;a.prototype=new c;a.__super__=b.prototype;return a},n=[].indexOf||function(a){for(var b=
0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},w=function(a,b){return function(){return a.apply(b,arguments)}};g.data=function(a){var b,c;c=void 0;_.isObject(a)&&"data"in a&&(7>(b=_.keys(a).length)&&"meta"in a||5>b)?(b=a.data,c=a.meta):b=a;switch(f(b)){case "json-object":case "json-grid":case "json-array":return g.data.json(b,c,void 0);case "url":return g.data.url(b,c,void 0);case "csv":return g.data.csv(b,c);case "api":return g.data.api(b);default:throw g.error.data("Unknown data format.");
}};g.data.json=function(a,b,c){return new e({data:a,meta:b,type:c})};g.data.csv=function(a,b){return new e({data:a,meta:b,csv:"csv"})};g.data.url=function(a,b,c){return new q({url:a,computeBackend:b,limit:c})};g.data.api=function(a){return new h({apiFun:a})};f=function(a){if(_.isArray(a))return _.isArray(a[0])?"json-grid":"json-array";if(_.isObject(a))return"json-object";if(_.isString(a))return g.isURI(a)?"url":"csv";if(_.isFunction(a))return"api";throw g.error.data("Unknown data format.");};b=function(a,
b){var c,d,e,f,h,k,m;if(0<a.length){e=_.union(_.keys(b),_.keys(a[0]));c=a.slice(0,100);f=0;for(h=e.length;f<h;f++)d=e[f],null==b[d]&&(b[d]={}),b[d].type||(b[d].type=g.type.impute(_.pluck(c,d)));f=0;for(k=a.length;f<k;f++)for(c=a[f],h=0,m=e.length;h<m;h++)d=e[h],c[d]=g.type.coerce(c[d],b[d]);d=e;e=a}else d=_.keys(b),e=[];return{key:d,raw:e,meta:b}};a=function(a,b){var c,d,e,f,h,k,m,n,r,q,v;k=[];if(0<a.length){f=b&&_.isArray(b)?b:b&&_.isObject(b)?_.keys(b):_.keys(a[0]);if(_.isArray(b)||!_.isObject(b))b=
{};c=a.slice(0,100);d=h=0;for(m=f.length;h<m;d=++h)e=f[d],null==b[e]&&(b[e]={}),b[e].type||(b[e].type=g.type.impute(_.pluck(c,d)));n=0;for(q=a.length;n<q;n++){c=a[n];h={};d=r=0;for(v=c.length;r<v;d=++r)m=c[d],e=f[d],h[e]=g.type.coerce(m,b[e]);k.push(h)}e=f;d=k}else e=_.keys(b),d=[];return{key:e,raw:d,meta:b}};m=function(a,b){var c,d,e,f,h,k,m,n,r;e=_.keys(a);h=[];k=0;for(d=e.length;k<d;k++)c=e[k],null==b[c]&&(b[c]={}),b[c].type||(b[c].type=g.type.impute(a[c].slice(0,100)));if(0<e.length&&(d=a[e[0]].length,
0<d))for(c=k=0,r=d-1;0<=r?k<=r:k>=r;c=0<=r?++k:--k){f={};m=0;for(n=e.length;m<n;m++)d=e[m],f[d]=g.type.coerce(a[d][c],b[d]);h.push(f)}return{key:e,raw:h,meta:b}};c=function(a,c){return b(g.csv.parse(a),c)};d=function(){function a(){this.raw=null;this.meta={};this.key=[];this.subscribed=[];this.computeBackend=!1}a.prototype.isData=!0;a.prototype.update=function(){var a,b,c,d,e;d=this.subscribed;e=[];b=0;for(c=d.length;b<c;b++)a=d[b],e.push(a());return e};a.prototype.subscribe=function(a){if(-1===_.indexOf(this.subscribed,
a))return this.subscribed.push(a)};a.prototype.unsubscribe=function(a){return this.subscribed.splice(_.indexOf(this.subscribed,a),1)};a.prototype.keys=function(){return this.key};a.prototype.rename=function(){return!1};a.prototype.renameMany=function(){return!1};a.prototype.remove=function(){return!1};a.prototype.filter=function(){return!1};a.prototype.sort=function(){return!1};a.prototype.derive=function(){return!1};a.prototype.get=function(a){if(this.raw)return _.pluck(this.raw,a);throw g.error.data("Data has not been fetched or is undefined.");
};a.prototype.len=function(){if(this.raw)return this.raw.length;throw g.error.data("Data has not been fetched or is undefined.");};a.prototype.getObject=function(a){if(this.raw)return this.raw[a];throw g.error.data("Data has not been fetched or is undefined.");};a.prototype.max=function(a){return _.max(this.get(a))};a.prototype.min=function(a){return _.min(this.get(a))};a.prototype.getMeta=function(a){if(this.meta)return this.meta[a]};a.prototype.type=function(a){if(a in this.meta)return a=this.meta[a].type,
"num"===a?"number":a;throw g.error.defn("Data does not have column "+a+".");};return a}();e=function(d){function e(a){e.__super__.constructor.call(this);this._setData(a)}r(e,d);e.prototype.getData=function(a,b){if(null==b)a(null,this);else return g.data.frontendProcess(b,this,function(b,c){c.raw=c.data;return a(b,c)})};e.prototype.update=function(a){this._setData(a);return e.__super__.update.call(this)};e.prototype._setData=function(d){var e,h,l;_.isObject(d)&&4>_.keys(d).length&&"data"in d?(e=d.data,
h=null!=(l=d.meta)?l:{}):(e=d,h={});l=function(){var l;switch(null!=(l=d.type)?l:f(e)){case "json-object":return m(e,h);case "json-grid":return a(e,h);case "json-array":return b(e,h);case "csv":return c(e,h);default:throw g.error.data("Unknown data format.");}}();this.key=l.key;this.raw=l.raw;this.meta=l.meta;return this.data=this.raw};e.prototype._checkRename=function(a,b){if(""===b)throw g.error.defn("Column names cannot be an empty string");if(-1===_.indexOf(this.key,a))throw g.error.defn("The key "+
a+" doesn't exist!");if(-1!==_.indexOf(this.key,b))throw g.error.defn("The key "+b+" already exists!");};e.prototype.rename=function(a,b,c){var d,e,f;null==c&&(c=!1);a=a.toString();b=b.toString();if(a===b)return!0;c||this._checkRename(a,b);f=this.raw;d=0;for(e=f.length;d<e;d++)c=f[d],c[b]=c[a],delete c[a];c=_.indexOf(this.key,a);this.key[c]=b;this.meta[b]=this.meta[a];delete this.meta[a];return!0};e.prototype.renameMany=function(a){var b,c;for(b in a)c=a[b],b!==c&&this._checkRename(b,c);for(b in a)c=
a[b],b!==c&&this.rename(b,c,!0);return!0};e.prototype.remove=function(a){var b,c,d,e;b=_.indexOf(this.key,a);if("-1"===b)return!1;this.key.splice(b,1);delete this.meta[a];e=this.raw;c=0;for(d=e.length;c<d;c++)b=e[c],delete b[a];return!0};e.prototype.filter=function(a){var b,c,d,e,f;a=_.isFunction(a)?a:_.isString(a)?new Function("d","with(d) { return "+a+";}"):function(){return!0};c=[];f=this.raw;d=0;for(e=f.length;d<e;d++)b=f[d],a(b)&&c.push(b);return g.data.json(c,this.meta)};e.prototype.sort=function(a,
b){var c,d,e;e=this.type(a);c=_.clone(this.raw);d=g.type.compare(e);c.sort(function(b,c){return d(b[a],c[a])});b&&c.reverse();return g.data.json(c,this.meta)};e.prototype.derive=function(a,b,c){var d,e,f,h,l,k,m,p;null==c&&(c={});e=c.dryrun;d=c.context;null==b&&(b=_uniqueId("var_"));null==d&&(d={});_.isFunction(a)?(c=a,f=!1):(f=!0,c=new Function("d","with(this) { with(d) { return "+(a||'""')+";}}"));p=this.raw;k=0;for(m=p.length;k<m;k++){h=p[k];l=c.call(d,h);if(_.isFunction(l))throw g.error.defn("Derivation function returned another function.");
h[b]=l}if(e)return{success:!0,values:_.pluck(this.raw.slice(0,11),b)};0<=n.call(this.key,b)||this.key.push(b);this.meta[b]={type:g.type.impute(_.pluck(this.raw.slice(0,101),b)),derived:!0};f&&(this.meta[b].formula=a);return b};return e}(d);q=function(d){function e(a){this.getData=w(this.getData,this);e.__super__.constructor.call(this);this.url=a.url;this.computeBackend=a.computeBackend;this.limit=a.limit;null==this.computeBackend&&(this.computeBackend=!1)}r(e,d);e.prototype.getData=function(d,e){var h,
l,k=this;if(null==this.raw||this.computeBackend)return h=-1===_.indexOf(this.url,"?")?"?":"&",l=this.url,this.limit&&(l+=""+h+"limit="+this.limit),e&&(l+="&spec="+encodeURIComponent(JSON.stringify(e))),g.text(l,function(e){var h,l,p;try{e=JSON.parse(e)}catch(n){}_.isObject(e)&&4>_.keys(e).length&&"data"in e?(h=e.data,l=null!=(p=e.meta)?p:{}):(h=e,l={});e=function(){switch(f(h)){case "json-object":return m(h,l);case "json-grid":return a(h,l);case "json-array":return b(h,l);case "csv":return c(h,l);
default:throw g.error.data("Unknown data format.");}}();k.key=e.key;k.raw=e.raw;k.meta=e.meta;k.data=k.raw;return d(null,k)});if(null==e)return d(null,this);g.data.frontendProcess(e,this,function(a,b){b.raw=b.data;return d(a,b)})};e.prototype.update=function(a){this.raw=null;return e.__super__.update.call(this)};e.prototype.renameMany=function(a){return 0===_.keys(a).length};return e}(d);h=function(d){function e(a){this.getData=w(this.getData,this);e.__super__.constructor.call(this);this.apiFun=a.apiFun;
this.computeBackend=!0}r(e,d);e.prototype.getData=function(d,e){var h=this;return this.apiFun(e,function(e,l){var k,p,n,r,q;if(null!=e)return d(e,null);if(_.isString(l))try{l=JSON.parse(l)}catch(v){p=v}p=null;try{k=l.data,n=null!=(r=l.meta)?r:{},q=function(){switch(f(k)){case "json-object":return m(k,n);case "json-grid":return a(k,n);case "json-array":return b(k,n);case "csv":return c(k,n);default:throw g.error.data("Unknown data format.");}}(),h.key=q.key,h.raw=q.raw,h.meta=q.meta,h.data=h.raw}catch(v){p=
v}return d(p,h)})};e.prototype.update=function(a){this.raw=null;return e.__super__.update.call(this)};e.prototype.renameMany=function(a){return 0===_.keys(a).length};return e}(d)}).call(this);(function(){var d,h,q,e,b,a,c,f,m,v,r,n=function(a,b){return function(){return a.apply(b,arguments)}},w=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};d=function(){function a(b,c,d,e){this.parseMethod=null!=e?e:g.spec.layerToData;this._wrap=n(this._wrap,
this);this.make=n(this.make,this);this.layerMeta=_.extend({},b.meta,{_additionalInfo:b.additionalInfo});this.dataObj=b.data;this.prevSpec=null;this.strictmode=d;this.statData=null;this.metaData={}}a.prototype.make=function(a,b,c){var d,e;e=this._wrap(c);this.strictmode&&e({data:this.dataObj.raw,meta:this.dataObj.meta});if(this.dataObj.computeBackend)return d=this.parseMethod(a,b),this.layerMeta&&(d.meta=this.layerMeta),h(d,this.dataObj,e);d=this.parseMethod(a,b);return this.dataObj.getData(function(a,
b){var c,f,g,h;if(null!=a)return e(a,null);if(0<=w.call(d.select,"count(*)")){h=b.data;f=0;for(g=h.length;f<g;f++)c=h[f],c["count(*)"]=1;b.meta["count(*)"]={};b.meta["count(*)"].type="num";d.stats.stats.push({key:"count(*)",name:"count(*)",stat:"count"})}return m(d,b,e)})};a.prototype._wrap=function(a){var b=this;return function(c,d){var e,f;if(null!=c)return a(c,null,null);e=d.data;f=d.meta;b.statData=e;b.metaData=f;return a(null,b.statData,b.metaData)}};return a}();g.DataProcess=d;g.data.process=
function(a,b,c,e){a=new d(b,c);a.process(e);return a};a={ident:function(a){return function(b){if(a in b)return b[a];throw g.error.defn("Referencing unknown column: "+a);}},"const":function(a){return function(){return a}},conditional:function(a,b,c){return function(d){return a(d)?b(d):c(d)}},infixop:{"+":function(a,b){return function(c){return a(c)+b(c)}},"-":function(a,b){return function(c){return a(c)-b(c)}},"*":function(a,b){return function(c){return a(c)*b(c)}},"/":function(a,b){return function(c){return a(c)/
b(c)}},"%":function(a,b){return function(c){return a(c)%b(c)}},">":function(a,b){return function(c){return a(c)>b(c)}},">=":function(a,b){return function(c){return a(c)>=b(c)}},"<":function(a,b){return function(c){return a(c)<b(c)}},"<=":function(a,b){return function(c){return a(c)<=b(c)}},"!=":function(a,b){return function(c){return a(c)!==b(c)}},"==":function(a,b){return function(c){return a(c)===b(c)}},"=":function(a,b){return function(c){return a(c)===b(c)}},"++":function(a,b){return function(c){return a(c)+
b(c)}}},trans:{substr:function(a){return function(b){var c,d;d=a[0](b).toString();c=a[1](b);b=a[2](b);return d.substr(c,b)}},length:function(a){return function(b){b=a[0](b).toString();return _.size(b)}},upper:function(a){return function(b){return a[0](b).toString().toUpperCase()}},lower:function(a){return function(b){return a[0](b).toString().toLowerCase()}},indexOf:function(a){return function(b){var c;c=a[0](b).toString();b=a[1](b).toString();return c.indexOf(b)}},parseNum:function(a){return function(b){return+a[0](b).toString()}},
parseDateDefault:function(a){return function(b){b=a[0](b);return moment(b).unix()}},parseDate:function(a){return function(b){var c;c=a[0](b);b=a[1](b);return moment(c,b).unix()}},year:function(a){return function(b){b=a[0](b);return moment.unix(b).year()}},month:function(a){return function(b){b=a[0](b);return moment.unix(b).month()+1}},dayOfMonth:function(a){return function(b){b=a[0](b);return moment.unix(b).date()}},dayOfYear:function(a){return function(b){b=a[0](b);return moment.unix(b).dayOfYear()}},
dayOfWeek:function(a){return function(b){b=a[0](b);return moment.unix(b).day()}},hour:function(a){return function(b){b=a[0](b);return moment.unix(b).hour()}},minute:function(a){return function(b){b=a[0](b);return moment.unix(b).minute()}},second:function(a){return function(b){b=a[0](b);return moment.unix(b).second()}},log:function(a){return function(b){return Math.log(a[0](b))}},lag:function(a){var b;b=[];return function(c){var d,e;e=a[0](c);c=a[1](c);d=_.size(b);if(0===d){var f;f=[];for(d=1;1<=c?
d<=c:d>=c;1<=c?++d:--d)f.push(void 0);b=f}else if(d!==c)throw g.error.defn("Lag period needs to be constant, but isn't!");b.push(e);return b.shift()}},bin:function(a){return function(b){var c,d;c=a[0](b);b=a[1](b);if(_.isNumber(b))return Math.floor(c/b)*b;d=function(a,b){var d;d=moment.unix(c).startOf(b);d[b](a*Math.floor(d[b]()/a));return d.unix()};switch(b){case "week":return moment.unix(c).day(0).unix();case "twomonth":return d(2,"month");case "quarter":return d(4,"month");case "sixmonth":return d(6,
"month");case "twoyear":return d(2,"year");case "fiveyear":return d(5,"year");case "decade":return d(10,"year");default:return moment.unix(c).startOf(b).unix()}}}}};b=function(c){var d,e,f,h,k,m,n;k=c[0];c=c[1];if("ident"===k)c=a.ident(c.name);else if("const"===k)c=(n=g.type.coerce(c.value,{type:c.type}),a["const"](n));else if("infixop"===k)c=(h=b(c.lhs),m=b(c.rhs),a.infixop[c.opname](h,m));else if("conditional"===k)c=(e=b(c.cond),f=b(c.conseq),d=b(c.altern),a.conditional(e,f,d));else if("call"===
k){h=c.args;m=[];e=0;for(f=h.length;e<f;e++)d=h[e],m.push(b(d));c=a.trans[c.fname](m)}else c=void 0;if(c)return c;throw g.error.defn("Unknown operation of type: "+k);};f={lt:function(a,b){return a<b},le:function(a,b){return a<=b},gt:function(a,b){return a>b},ge:function(a,b){return a>=b},"in":function(a,b){return 0<=w.call(b,a)}};c=function(a){var b;b=[];_.each(a,function(a){var c,d;c=g.parser.unbracket(a.expr.name);d=_.pick(a,"lt","gt","le","ge","in");return _.each(d,function(d,e){if(e in f)return a=
function(a){return f[e](a[c],d)},b.push(a)})});return function(a){var c,d,e;d=0;for(e=b.length;d<e;d++)if(c=b[d],!c(a))return!1;return!0}};r={sum:function(a){return _.reduce(_.without(a,void 0,null),function(a,b){return a+b},0)},mean:function(a){a=_.without(a,void 0,null);return _.reduce(a,function(a,b){return a+b},0)/a.length},count:function(a){return _.without(a,void 0,null).length},unique:function(a){return _.uniq(_.without(a,void 0,null)).length},min:function(a){return _.min(a)},max:function(a){return _.max(a)},
median:function(a){return g.median(a)},box:function(a){var b,c,d,e,f,h;c=a.length;return 5<c?(e=c/2,a=_.sortBy(a,function(a){return a}),b=Math.ceil(e)/2,0!==b%1?(b=Math.floor(b),e=a[b],c=a[c-1-b]):(e=(a[b]+a[b-1])/2,c=(a[c-b]+a[c-b-1])/2),b=c-e,d=e-1.5*b,f=c+1.5*b,b=_.groupBy(a,function(a){return a>=d&&a<=f}),{q1:_.min(b["true"]),q2:e,q3:g.median(a,!0),q4:c,q5:_.max(b["true"]),outliers:null!=(h=b["false"])?h:[]}):{outliers:a}}};e=function(a,b){var c,d,e;e={};_.each(b.stats,function(a){var b,c,d,f;
f=a.name;b=a.expr;a=a.args;c=r[f];d=g.parser.unbracket(a[0].name);return e[b.name]=function(a){return c(_.pluck(a,d))}});d=g.groupBy(a,function(){var a,d,e,f;e=b.groups;f=[];a=0;for(d=e.length;a<d;a++)c=e[a],f.push(g.parser.unbracket(c.name));return f}());return _.map(d,function(a){var c,d,f,h,k;d={};k=b.groups;f=0;for(h=k.length;f<h;f++)c=k[f].name,c=g.parser.unbracket(c),d[c]=a[0][c];for(c in e)f=e[c],d[c]=f(a);return d})};q=function(a,b){var c,d,f,h,k,m,n,r;f=a.key;m=a.sort;r=a.stat;c=a.args;h=
a.limit;d=a.asc;r&&(c={stats:[{name:r,expr:m,args:c}],groups:[f]},b=e(b,c));k=d?1:-1;n=g.parser.unbracket(m.name);b.sort(function(a,b){return a[n]===b[n]?0:a[n]>=b[n]?1*k:-1*k});h&&(b=b.slice(0,+(h-1)+1||9E9));d=_.uniq(_.pluck(b,g.parser.unbracket(f.name)));return{meta:{levels:d,sorted:!0},filter:{expr:f,"in":d}}};v=function(a){var b;b=g.parser.createColTypeEnv(a);return function(a){var c,d,e;c=a.expr;e=c[0];d=c[1];c=null;"call"===e&&"bin"===d.fname&&(d=d.args[1],e=d[0],d=d[1],"const"===e&&(c=g.type.coerce(d.value,
{type:d.type})));return{type:g.parser.getType(a.name,b),bw:c}}};m=function(a,d,f){var h,k,m,n,r,w,D,B,G,F,I;D=null!=(k=_.clone(d.meta))?k:{};r=v(D);k=function(a,b){var c,d;null==b&&(b={});c=g.parser.unbracket(a.name);return D[c]=_.extend(null!=(d=D[c])?d:{},r(a),b)};d=_.clone(d.raw);h=function(a,b){var c,e,f,g;g=[];e=0;for(f=d.length;e<f;e++)c=d[e],g.push(c[a]=b(c));return g};if(a.trans)for(I=a.trans,B=0,F=I.length;B<F;B++)m=I[B],h(m.name,b(m.expr)),k(m);a.filter&&(d=_.filter(d,c(a.filter)));if(a.sort){h=
[];I=a.sort;B=0;for(F=I.length;B<F;B++)w=I[B],m=w.key,n=q(w,d),w=n.meta,n=n.filter,h.push(n),k(m,w);d=_.filter(d,c(h))}if(a.stats&&a.stats.stats&&0<a.stats.stats.length)for(d=e(d,a.stats),F=a.stats.stats,h=0,B=F.length;h<B;h++)m=F[h],m=m.expr,k(m);a=null!=(G=a.select)?G:[];G=0;for(k=a.length;G<k;G++)if(m=a[G],m=g.parser.unbracket(m.name),null==D[m]&&"count(*)"!==m)throw g.error.defn("You referenced a data column "+m+" that doesn't exist.");return f(null,{data:d,meta:D})};h=function(a,b,c){return b.getData(c,
a)};g.data.frontendProcess=m;g.data.createFunction=b}).call(this);(function(){var d,h,q,e,b,a,c,f,m,v,r,n,w,p=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},l={}.hasOwnProperty,x=function(a,b){function c(){this.constructor=a}for(var d in b)l.call(b,d)&&(a[d]=b[d]);c.prototype=b.prototype;a.prototype=new c;a.__super__=b.prototype;return a};r=g["const"].aes;w=g["const"].scaleFns;n={x:w.novalue(),y:w.novalue(),color:"steelblue",size:5,opacity:.9,
shape:1};e=function(){function a(b,c,d){var e;this.spec=b;this.guideSpec=d;this.mapping={};this.consts={};d=0;for(e=r.length;d<e;d++)c=r[d],b[c]&&(b[c]["var"]&&(this.mapping[c]=g.parser.unbracket(b[c]["var"])),b[c]["const"]&&(this.consts[c]=b[c]["const"]))}a.prototype.defaults=n;a.prototype.calculate=function(a,b){var c,d,e;this.statData=a;this.meta=b;this._calcGeoms();this.geoms=this._sample(this.geoms);b={};e=this.mapping;for(c in e)d=e[c],b[c]=this.meta[d];return{geoms:this.geoms,meta:b}};a.prototype._calcGeoms=
function(){throw g.error.impl();};a.prototype._tooltip=function(a){var b=this;return"function"===typeof this.spec.tooltip?function(c){return b.spec.tooltip(a)}:null!=this.spec.tooltip?function(a){return b.spec.tooltip}:function(c){var d,e,f,h,k,l;k="";h=[];l=b.mapping;for(d in l)f=l[d],-1===h.indexOf(f)&&(h.push(f),e=null!=c&&null!=c[d]?g.format(c[d].domain.type,c[d].domain.bw):function(a){return a},k+="\n"+f+": "+e(a[f]));return k.substr(1)}};a.prototype._sample=function(a){if(!1===this.spec.sample)return a;
if(_.isNumber(this.spec.sample))return g.sample(a,this.spec.sample);throw g.error.defn("A layer's 'sample' definition should be an integer, not "+this.spec.sample);};a.prototype._getValue=function(a,b){return this.mapping[b]?a[this.mapping[b]]:this.consts[b]?w.identity(this.consts[b]):"x"===b||"y"===b?this.defaults[b]:w.identity(this.defaults[b])};a.prototype._getIdFunc=function(){var a=this;return null!=this.mapping.id?function(b){return a._getValue(b,"id")}:g.counter()};a.prototype._fillZeros=function(a,
b){var c,d,e;c=function(){var b,c,e;e=[];b=0;for(c=a.length;b<c;b++)d=a[b],e.push(this._getValue(d,"x"));return e}.call(this);e=_.difference(b,c);return{x:c.concat(e),y:function(){var b,c,e;e=[];b=0;for(c=a.length;b<c;b++)d=a[b],e.push(this._getValue(d,"y"));return e}.call(this).concat(function(){var a,b,c;c=[];a=0;for(b=e.length;a<b;a++)c.push(void 0);return c}())}};a.prototype._stack=function(a){var b,c,d,e,f,h,k,l,m,p=this;a=g.groupBy(this.statData,a);m=[];for(e in a)c=a[e],this.mapping.color&&
(f=this.meta[this.mapping.color].levels,h=null!=f?function(a,b){a=_.indexOf(f,a[p.mapping.color]);b=_.indexOf(f,b[p.mapping.color]);return a<b?-1:a>b?1:0}:(b=g.type.compare(this.meta[this.mapping.color].type),function(a,c){a=a[p.mapping.color];c=c[p.mapping.color];return b(a,c)}),c.sort(h)),k=0,l=null!=this.mapping.y?function(a){return a[p.mapping.y]}:function(a){return 0},m.push(function(){var a,b,e;e=[];a=0;for(b=c.length;a<b;a++)d=c[a],d.$lower=k,k+=parseFloat(l(d)),e.push(d.$upper=k);return e}());
return m};a.prototype._dodge=function(a){var b,c,d,e,f,h,k,l,m,p,n,r,q=this;d=_.without(_.keys(this.mapping),"x","y","id");_.toArray(_.pick(this.mapping,d));n=g.groupBy(this.statData,a);r=[];for(f in n){c=n[f];k={};h=1;m=0;for(p=d.length;m<p;m++)b=d[m],a=_.uniq(function(){var a,d,f;f=[];a=0;for(d=c.length;a<d;a++)e=c[a],f.push(this._getValue(e,b));return f}.call(this)),h*=a.length,a.sort(g.type.compare(this.meta[this.mapping[b]].type)),k[b]=a;l=function(a){var c,e,f,g;c=h;f=e=0;for(g=d.length;f<g;f++)b=
d[f],c/=k[b].length,e+=c*_.indexOf(k[b],q._getValue(a,b));return e};r.push(function(){var a,b,d;d=[];a=0;for(b=c.length;a<b;a++)e=c[a],e.$n=l(e),d.push(e.$m=h);return d}())}return r};a.prototype._inLevels=function(a){var b,c,d,e,f,g;e=["x","y"];c=0;for(d=e.length;c<d;c++)if(b=e[c],null!=(null!=(f=this.guideSpec[b])?f.levels:void 0)&&(g=a[this.spec[b]["var"]],0>p.call(this.guideSpec[b].levels,g)))return!1;return!0};return a}();c=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}
x(b,a);b.prototype._calcGeoms=function(){var a,b,c,d,e,f,g,h,k;b=this._getIdFunc();this.geoms={};h=this.statData;k=[];f=0;for(g=h.length;f<g;f++){c=h[f];a={};for(d in c)e=c[d],a[d]={"in":[e]};k.push(this.geoms[b(c)]={marks:{0:{type:"circle",x:this._getValue(c,"x"),y:this._getValue(c,"y"),color:this._getValue(c,"color"),size:this._getValue(c,"size"),opacity:this._inLevels(c)?this._getValue(c,"opacity"):0}},evtData:a,tooltip:this._tooltip(c)})}return k};return b}(e);a=function(a){function b(){return b.__super__.constructor.apply(this,
arguments)}x(b,a);b.prototype._calcGeoms=function(){var a,b,c,d,e,f,h,k,l,m,p,n=this;d=function(){var a,b,c,d;c=_.without(_.keys(this.mapping),"x","y");d=[];a=0;for(b=c.length;a<b;a++)f=c[a],d.push(this.mapping[f]);return d}.call(this);b=g.groupBy(this.statData,d);e=this._getIdFunc();this.geoms={};p=[];for(f in b){a=b[f];k=a[0];c={};l=0;for(m=d.length;l<m;l++)h=d[l],c[h]={"in":[k[h]]};p.push(this.geoms[e(k)]={marks:{0:{type:"path",x:_.map(a,function(a){return n._getValue(a,"x")}),y:_.map(a,function(a){return n._getValue(a,
"y")}),color:this._getValue(k,"color"),opacity:this._getValue(k,"opacity"),size:this._getValue(k,"size")}},evtData:c})}return p};return b}(e);b=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}x(b,a);b.prototype.defaults={x:w.novalue(),y:w.novalue(),color:"steelblue",size:1,opacity:.9,shape:1};b.prototype._calcGeoms=function(){var a,b,c,d,e,f,h,k,l,m,p,n,r,q,v,w;a=_.uniq(function(){var a,b,c,d;c=this.statData;d=[];a=0;for(b=c.length;a<b;a++)h=c[a],d.push(this._getValue(h,
"x"));return d}.call(this));e=function(){var a,b,c,d;c=_.without(_.keys(this.mapping),"x","y");d=[];a=0;for(b=c.length;a<b;a++)k=c[a],d.push(this.mapping[k]);return d}.call(this);c=_.pairs(g.groupBy(this.statData,e));f=this._getIdFunc();this.geoms={};p=1===_.max(c,function(a){return a[1].length})[1].length;w=[];d=n=0;for(q=c.length;n<q;d=++n){m=c[d];l=m[0];b=m[1];p&&d+1<c.length&&b.push(c[d+1][1][0]);m=b[0];d={};r=0;for(v=e.length;r<v;r++)l=e[r],d[l]={"in":[m[l]]};b=this._fillZeros(b,a);l=b.x;b=b.y;
w.push(this.geoms[f(m)]={marks:{0:{type:"line",x:l,y:b,color:this._getValue(m,"color"),opacity:this._getValue(m,"opacity"),size:this._getValue(m,"size")}},evtData:d})}return w};return b}(e);f=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}x(b,a);b.prototype._calcGeoms=function(){var a,c,d,e,f,g;b.__super__._calcGeoms.call(this);f=this.geoms;g=[];for(c in f)a=f[c],g.push(function(){var b,c;b=a.marks;c=[];for(d in b)e=b[d],c.push(e.type="spline");return c}());return g};
return b}(b);h=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}x(b,a);b.prototype._calcGeoms=function(){var a,b;if(this.mapping.y&&"cat"===this.meta[this.mapping.y].type)throw g.error.defn("The dependent variable of a bar chart cannot be categorical!");if(this.mapping.x&&(a=this.meta[this.mapping.x],"cat"!==a.type&&!a.bw&&!a.binned&&"num"===a.type&&null==this.guideSpec.x.bw))throw g.error.type("Bar chart x-values need to be binned. Set binwidth or use the bin() transform!");
this.position=null!=(b=this.spec.position)?b:"stack";if("stack"===this.position)return this._calcGeomsStack();if("dodge"===this.position)return this._calcGeomsDodge();throw g.error.defn("Bar chart position "+this.position+" is unknown.");};b.prototype._calcGeomsDodge=function(){var a,b,c,d,e,f,g,h,k,l;a=null!=this.mapping.x?[this.mapping.x]:[];this._dodge(a);this._stack(a.concat("$n"));this.geoms={};b=this._getIdFunc();k=this.statData;l=[];g=0;for(h=k.length;g<h;g++){c=k[g];a={};for(d in c)e=c[d],
"y"!==d&&(a[d]={"in":[e]});e=w.lower(this._getValue(c,"x"),c.$n,c.$m);f=w.upper(this._getValue(c,"x"),c.$n,c.$m);l.push(this.geoms[b(c)]={marks:{0:{type:"rect",x:[e,f],y:[c.$lower,c.$upper],color:this._getValue(c,"color"),opacity:this._inLevels(c)?this._getValue(c,"opacity"):0}},evtData:a,tooltip:this._tooltip(c)})}return l};b.prototype._calcGeomsStack=function(){var a,b,c,d,e,f,g,h,k;this._stack(null!=this.mapping.x?[this.mapping.x]:[]);b=this._getIdFunc();this.geoms={};h=this.statData;k=[];f=0;
for(g=h.length;f<g;f++){c=h[f];a={};for(d in c)e=c[d],"y"!==d&&(a[d]={"in":[e]});k.push(this.geoms[b(c)]={marks:{0:{type:"rect",x:[w.lower(this._getValue(c,"x")),w.upper(this._getValue(c,"x"))],y:[c.$lower,c.$upper],color:this._getValue(c,"color"),opacity:this._inLevels(c)?this._getValue(c,"opacity"):0}},evtData:a,tooltip:this._tooltip(c)})}return k};return b}(e);d=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}x(b,a);b.prototype._calcGeoms=function(){var a,b,c,d,e,
f,h,k,l,m,p,n,r,q,v,w;a=function(){var a,b,c,d;c=this.statData;d=[];a=0;for(b=c.length;a<b;a++)k=c[a],g.isDefined(this._getValue(k,"y"))&&g.isDefined(n=this._getValue(k,"x"))&&d.push(n);return d}.call(this);a=_.uniq(a);b={};d=0;for(e=a.length;d<e;d++)m=a[d],b[m]=0;f=function(){var a,b,c,d;c=_.without(_.keys(this.mapping),"x","y");d=[];a=0;for(b=c.length;a<b;a++)l=c[a],d.push(this.mapping[l]);return d}.call(this);d=g.groupBy(this.statData,f);h=this._getIdFunc();this.geoms={};w=[];for(l in d){c=d[l];
p=c[0];e={};r=0;for(q=f.length;r<q;r++)m=f[r],e[m]={"in":[p[m]]};m=function(){var c,d,e;e=[];c=0;for(d=a.length;c<d;c++)n=a[c],e.push(b[n]);return e}();q=0;for(v=c.length;q<v;q++)k=c[q],n=this._getValue(k,"x"),r=this._getValue(k,"y"),b[n]+=r;c=function(){var c,d,e;e=[];c=0;for(d=a.length;c<d;c++)n=a[c],e.push(b[n]);return e}();w.push(this.geoms[h(p)]={marks:{0:{type:"area",x:a,y:{bottom:m,top:c},color:this._getValue(p,"color"),opacity:this._getValue(p,"opacity")}},evtData:e})}return w};return b}(e);
m=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}x(b,a);b.prototype._calcGeoms=function(){var a,b,c,d,e,f,g,h,k;b=this._getIdFunc();this.geoms={};h=this.statData;k=[];f=0;for(g=h.length;f<g;f++){c=h[f];a={};for(d in c)e=c[d],a[d]={"in":[e]};k.push(this.geoms[b(c)]={marks:{0:{type:"text",x:this._getValue(c,"x"),y:this._getValue(c,"y"),text:this._getValue(c,"text"),color:this._getValue(c,"color"),size:this._getValue(c,"size"),opacity:this._getValue(c,"opacity"),"text-anchor":"center"}},
evtData:a})}return k};return b}(e);v=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}x(b,a);b.prototype._calcGeoms=function(){var a,b,c,d,e,f,g,h,k;b=this._getIdFunc();this.geoms={};h=this.statData;k=[];f=0;for(g=h.length;f<g;f++){c=h[f];a={};this._getValue(c,"x");this._getValue(c,"y");for(d in c)e=c[d],"y"!==d&&"x"!==d&&(a[d]={"in":[e]});k.push(this.geoms[b(c)]={marks:{0:{type:"rect",x:[w.lower(this._getValue(c,"x")),w.upper(this._getValue(c,"x"))],y:[w.lower(this._getValue(c,
"y")),w.upper(this._getValue(c,"y"))],color:this._getValue(c,"color"),size:this._getValue(c,"size"),opacity:this._getValue(c,"opacity")}},evtData:a,tooltip:this._tooltip(c)})}return k};return b}(e);q=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}x(b,a);b.prototype._calcGeoms=function(){var a,b,c,d,e,f,g,h,k,l,m,p,n,r,q,v;c=this._getIdFunc();this.geoms={};q=this.statData;v=[];p=0;for(n=q.length;p<n;p++){e=q[p];b={};for(f in e)a=e[f],"y"!==f&&(b[f]={"in":[a]});k=this._getValue(e,
"x");m=this._getValue(e,"y");a=this._getValue(e,"color");d=this._getValue(e,"size");g=this._inLevels(e)?this._getValue(e,"opacity"):0;h=w.lower(k);l=w.upper(k);k=w.middle(k);b={marks:{},evtData:b};m.q1&&(b.marks={iqr:{type:"rect",x:[h,l],y:[m.q2,m.q4],stroke:a,color:w.identity("white"),size:d,opacity:g,"stroke-width":"1px"},q1:{type:"pline",x:[h,l],y:[m.q1,m.q1],color:a,size:d,opacity:g},lower:{type:"pline",x:[k,k],y:[m.q1,m.q2],color:a,size:d,opacity:g},q5:{type:"pline",x:[h,l],y:[m.q5,m.q5],color:a,
size:d,opacity:g},upper:{type:"pline",x:[k,k],y:[m.q4,m.q5],color:a,size:d,opacity:g},middle:{type:"pline",x:[h,l],y:[m.q3,m.q3],color:a,size:d,opacity:g}});r=m.outliers;d=l=0;for(m=r.length;l<m;d=++l)h=r[d],b.marks[d]={type:"circle",x:k,y:h,color:a,size:w.identity(3),opacity:g};v.push(this.geoms[c(e)]=b)}return v};return b}(e);g.layer={};g.layer.Base=e;g.layer.classes={point:c,text:m,line:b,path:a,area:d,bar:h,tile:v,box:q,spline:f};g.layer.make=function(a,b,c){var d;d=a.type;if(d in g.layer.classes)return new g.layer.classes[d](a,
b,c);throw g.error.defn("No such layer "+a.type+".");}}).call(this);(function(){var d,h={}.hasOwnProperty,q=function(d,b){function a(){this.constructor=d}for(var c in b)h.call(b,c)&&(d[c]=b[c]);a.prototype=b.prototype;d.prototype=new a;d.__super__=b.prototype;return d};g.pane={};g.pane.make=function(e,b){return new d(e,b)};d=function(d){function b(a,b){this.titleObj=b;this.index=a;this.title=this.layers=null}q(b,d);b.prototype.make=function(a,b,d){var e,h,k,n,q;this.layers=d;if(!this.geoms)for(this.geoms=
{},n=this.layers,d=k=0,n=n.length;k<n;d=++k)this.geoms[d]=new g.Geometry;this.metas={};q=this.layers;d=k=0;for(n=q.length;k<n;d=++k)e=q[d],h=e.calculate(b[d].statData,b[d].metaData),e=h.geoms,h=h.meta,this.geoms[d].set(e),this.metas[d]=h;null==this.title&&(this.title=this._makeTitle(a));this.title.make(this.titleObj);return this.domains=this._makeDomains(a,this.geoms,this.metas)};b.prototype._makeTitle=function(){return g.guide.title("facet")};b.prototype._makeDomains=function(a,b,d){return g.domain.make(b,
d,a.guides,a.strict)};b.prototype.render=function(a,b,d,e){var g;this.title.render(a({},!1,!1),e,b);b=a(b,d,!0);d=this.geoms;e=[];for(g in d)a=d[g],e.push(a.render(b));return e};b.prototype.dispose=function(a){var b,d,e;e=this.geoms;for(d in e)b=e[d],b.dispose(a);this.geoms={};return this.title.dispose(a)};return b}(g.Renderable)}).call(this);(function(){g.dim={};g.dim.make=function(d,g,q){var e,b,a,c,f,m,v,r;d={width:null!=(b=d.width)?b:400,height:null!=(a=d.height)?a:400,paddingLeft:null!=(c=d.paddingLeft)?
c:10,paddingRight:null!=(e=d.paddingRight)?e:10,paddingTop:null!=(f=d.paddingTop)?f:10,paddingBottom:null!=(m=d.paddingBottom)?m:10,horizontalSpacing:null!=(v=d.horizontalSpacing)?v:10,verticalSpacing:null!=(r=d.verticalSpacing)?r:20,guideTop:10,guideRight:0,guideLeft:5,guideBottom:5};e=g.axesOffset(d);b=e.left;a=e.right;c=e.top;e=e.bottom;d.guideLeft+=null!=b?b:0;d.guideRight+=null!=a?a:0;d.guideBottom+=null!=e?e:0;d.guideTop+=null!=c?c:0;e=g.titleOffset(d);b=e.left;a=e.right;c=e.top;e=e.bottom;
d.guideLeft+=null!=b?b:0;d.guideRight+=null!=a?a:0;d.guideBottom+=null!=e?e:0;d.guideTop+=null!=c?c:0;g=g.legendOffset(d);b=g.left;a=g.right;c=g.top;e=g.bottom;d.guideLeft+=null!=b?b:0;d.guideRight+=null!=a?a:0;d.guideBottom+=null!=e?e:0;d.guideTop+=null!=c?c:0;g=.4*d.width;b=.4*d.height;d.guideLeft>g&&(d.guideLeft=g);d.guideRight>g&&(d.guideRight=g);d.guideTop>b&&(d.guideTop=b);d.guideBottom>b&&(d.guideBottom=b);d.chartHeight=d.height-d.paddingTop-d.paddingBottom-d.guideTop-d.guideBottom;d.chartWidth=
d.width-d.paddingLeft-d.paddingRight-d.guideLeft-d.guideRight;null!=q.cols&&1<q.cols?(d.eachWidth=d.chartWidth-d.horizontalSpacing*q.cols,d.eachWidth/=q.cols):d.eachWidth=d.chartWidth;null!=q.rows&&1<q.rows?(d.eachHeight=d.chartHeight-d.verticalSpacing*(q.rows+1),d.eachHeight/=q.rows):d.eachHeight=d.chartHeight-d.verticalSpacing;return d};g.dim.guess=function(d,g){var q,e,b,a,c,f,m,v,r;q={width:null!=(e=d.width)?e:400,height:null!=(b=d.height)?b:400,paddingLeft:null!=(a=d.paddingLeft)?a:10,paddingRight:null!=
(c=d.paddingRight)?c:10,paddingTop:null!=(f=d.paddingTop)?f:10,paddingBottom:null!=(m=d.paddingBottom)?m:10,guideLeft:30,guideRight:40,guideTop:10,guideBottom:30,horizontalSpacing:null!=(v=d.horizontalSpacing)?v:10,verticalSpacing:null!=(r=d.verticalSpacing)?r:10};q.chartHeight=q.height-q.paddingTop-q.paddingBottom-q.guideTop-q.guideBottom;q.chartWidth=q.width-q.paddingLeft-q.paddingRight-q.guideLeft-q.guideRight;q.eachWidth=null!=g.cols&&1<g.cols?q.chartWidth-q.horizontalSpacing*(g.cols-1):q.chartWidth;
q.eachHeight=null!=g.rows&&1<g.rows?q.chartHeight-q.verticalSpacing*(g.rows-1):q.chartHeight;return q}}).call(this);(function(){var d,h,q,e,b,a,c,f,m,v,r={}.hasOwnProperty,n=function(a,b){function c(){this.constructor=a}for(var d in b)r.call(b,d)&&(a[d]=b[d]);c.prototype=b.prototype;a.prototype=new c;a.__super__=b.prototype;return a};g.paper=function(a,b,c,d,e){var f;null==e&&(e=!0);f="undefined"!==typeof Raphael&&null!==Raphael?Raphael(a,b,c):g.canvas(a,b,c);a=d.graph;d=d.numeral;b=f.rect(0,0,b,
c).attr({fill:"white",opacity:0,"stroke-width":0});null!=a?(b.click(a.handleEvent("reset")),g.mouseEvents(a,b,e),g.touchEvents(a.handleEvent,b,!0)):null!=d&&b.click(d.handleEvent("reset"));return f};g.mouseEvents=function(a,b,c){var d,e,f,h,k,m;f=a.handleEvent("select");c&&(h=null);m=e=k=d=null;return b.drag(function(b,f,n,p){if(null!=m&&null!=k){if(d={x:k.x+b,y:k.y+f},e=a.facet.getFacetInfo(a.dims,d.x,d.y),null!=h&&null!=e&&e.col===m.col&&e.row===m.row&&c)return n={x:Math.min(k.x,d.x),y:Math.min(k.y,
d.y),width:Math.abs(k.x-d.x),height:Math.abs(k.y-d.y)},h=h.attr(n)}else if(b=g.offset(a.dom),k={x:n-b.left,y:p-b.top},m=a.facet.getFacetInfo(a.dims,k.x,k.y),null!=m&&c)return h=a.paper.rect(k.x,k.y,0,0,2),h=h.attr({fill:"black",opacity:.2})},function(){return d=k=null},function(){if(null!=k&&null!=d)return null!=h&&c&&(h=h.hide(),h.remove()),f({start:k,end:d})})};g.touchEvents=function(a,b,c){null==c&&(c=!0);if(c)return b.touchstart(a("touchstart")),b.touchend(a("touchend")),b.touchmove(a("touchmove")),
b.touchcancel(a("touchcancel"))};g.render=function(a,b,c,d){return function(e,f,h){null==e&&(e={});null==f&&(f=!1);null==h&&(h=!0);if(null==d.type)throw g.error.unknown("Coordinate don't have at type?");if(null==v[d.type])throw g.error.input("Unknown coordinate type "+d.type);return{add:function(k,m,n,r){var q;if(null==v[d.type][k.type])throw g.error.input("Coord "+d.type+" has no mark "+k.type);q=v[d.type][k.type].render(b,c,d,e,k,h);q.data("m",k);m&&0<_.keys(m).length&&q.data("e",m);n&&q.data("t",
n);null!=f&&q.attr("clip-rect",f);"guide"===r?(q.click(a("guide-click")),q.hover(a("gover"),a("gout"))):"guide-title"===r||"guide-titleH"===r||"guide-titleV"===r?(q.click(a(r)),q.hover(a("tover"),a("tout"))):(q.click(a("click")),q.hover(a("mover"),a("mout")));g.touchEvents(a,q,!0);return q},remove:function(a){return a.remove()},animate:function(a,b,g,k){v[d.type][b.type].animate(a,c,d,e,b,h);null!=f&&a.attr("clip-rect",f);g&&0<_.keys(g).length&&a.data("e",g);k&&a.data("t",k);a.data("m",b);return a}}}};
f=function(){function a(){}a.prototype.render=function(a,b,c,d,e,f){var g;a=this._make(a);c=this.attr(b,c,d,e,f);for(g in c)b=c[g],a.attr(g,b);return a};a.prototype._make=function(){throw g.error.impl();};a.prototype.animate=function(a,b,c,d,e,f){return a.animate(this.attr(b,c,d,e,f),300)};a.prototype.attr=function(a,b,c,d,e){throw g.error.impl();};a.prototype._cantRender=function(a){throw g.error.missingdata();};a.prototype._makePath=function(a,b,c){null==c&&(c="L ");return("spline"===c?_.map(a,
function(a,c){return(0===c?"M "+a+" "+b[c]+" R ":"")+(""+a+" "+b[c])}):_.map(a,function(a,d){return(0===d?"M ":c)+a+" "+b[d]})).join(" ")};a.prototype._maybeApply=function(a,b,c){b=b[c];return _.isObject(b)&&"identity"===b.f?b.v:null!=a[c]?a[c].f(b):b};a.prototype._applyOffset=function(a,b,c){var d;if(!c)return{x:a,y:b};null==c.x&&(c.x=0);null==c.y&&(c.y=0);return{x:_.isArray(a)?function(){var b,e,f;f=[];b=0;for(e=a.length;b<e;b++)d=a[b],f.push(d+c.x);return f}():a+c.x,y:_.isArray(b)?function(){var a,
e,f;f=[];a=0;for(e=b.length;a<e;a++)d=b[a],f.push(d+c.y);return f}():b+c.y}};a.prototype._shared=function(a,b,c){var d,e=this;d=function(d){if(null!=b[d]&&null==c[d])return c[d]=e._maybeApply(a,b,d)};d("opacity");d("stroke-width");d("stroke-dasharray");d("stroke-dashoffset");d("transform");d("font-size");d("font-weight");d("font-family");return c};a.prototype._checkPointUndefined=function(a,b,c){null==c&&(c="Point");if(void 0===a||void 0===b)throw g.error.missing(""+c+" cannot be plotted due to undefined data.");
};a.prototype._checkArrayUndefined=function(a,b,c){var d;null==c&&(c="Line");if(_.all(function(){var c,e,f;f=[];d=c=0;for(e=a.length-1;0<=e?c<=e:c>=e;d=0<=e?++c:--c)f.push(void 0===a[d]||void 0===b[d]);return f}()))throw g.error.missing(""+c+" cannot be plotted due to too many missing points.");};a.prototype._checkArrayNaN=function(a,b){var c,d;d=_.map(_.zip(a,b),function(a,b){return isNaN(a[0])||isNaN(a[1])?void 0:a});return{x:function(){var a,b,e;e=[];a=0;for(b=d.length;a<b;a++)c=d[a],null!=c&&
e.push(c[0]);return e}(),y:function(){var a,b,e;e=[];a=0;for(b=d.length;a<b;a++)c=d[a],null!=c&&e.push(c[1]);return e}()}};return a}();d=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}n(b,a);b.prototype.animate=function(a,b,c,d,e,f){var g,h;h=a.data("m");g=this.attr(b,c,d,e,f);if(_.isEqual(h.x,e.x))return a.animate(g,300);b=this.attr(b,c,d,h,f);return a.animate(b,300,function(){return a.attr(g)})};return b}(f);h=function(a){function b(){return b.__super__.constructor.apply(this,
arguments)}n(b,a);b.prototype._make=function(a){return a.circle()};b.prototype.attr=function(a,b,c,d,e){e=b.getXY(e,d);b=e.x;e=e.y;this._checkPointUndefined(b,e,"Circle");c=this._applyOffset(b,e,c);b=c.x;e=c.y;c=this._maybeApply(a,d,d.stroke?"stroke":"color");c={cx:b,cy:e,r:this._maybeApply(a,d,"size"),stroke:c};(b=this._maybeApply(a,d,"color"))&&"none"!==b&&(c.fill=b);return this._shared(a,d,c)};return b}(f);b=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}n(b,a);b.prototype._make=
function(a){return a.path()};b.prototype.attr=function(a,b,c,d,e){var f;e=b.getXY(e,d);b=e.x;e=e.y;this._checkArrayUndefined(b,e,"Path");c=this._applyOffset(b,e,c);b=c.x;e=c.y;f=this._maybeApply(a,d,d.stroke?"stroke":"color");c=this._maybeApply(a,d,d.size?"size":"stroke-width");return this._shared(a,d,{path:this._makePath(b,e),stroke:f,"stroke-width":c})};return b}(f);e=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}n(b,a);b.prototype._make=function(a){return a.path()};
b.prototype.attr=function(a,b,c,d,e){var f,h;f=g.sortArrays(a.x.compare,[d.x,d.y]);d.x=f[0];d.y=f[1];e=b.getXY(e,d);b=e.x;e=e.y;this._checkArrayUndefined(b,e,"Line");f=0;for(h=b.length;f<h;++f);c=this._applyOffset(b,e,c);b=c.x;e=c.y;c=this._checkArrayNaN(b,e);b=c.x;e=c.y;f=this._maybeApply(a,d,d.stroke?"stroke":"color");c=this._maybeApply(a,d,d.size?"size":"stroke-width");return this._shared(a,d,{path:this._makePath(b,e),stroke:f,"stroke-width":c})};return b}(d);m=function(a){function b(){return b.__super__.constructor.apply(this,
arguments)}n(b,a);b.prototype.attr=function(a,b,c,d,e){var f,h;f=g.sortArrays(a.x.compare,[d.x,d.y]);d.x=f[0];d.y=f[1];e=b.getXY(e,d);b=e.x;e=e.y;this._checkArrayUndefined(b,e,"Spline");f=0;for(h=b.length;f<h;++f);c=this._applyOffset(b,e,c);b=c.x;e=c.y;c=this._checkArrayNaN(b,e);b=c.x;e=c.y;f=this._maybeApply(a,d,d.stroke?"stroke":"color");c=this._maybeApply(a,d,d.size?"size":"stroke-width");return this._shared(a,d,{path:this._makePath(b,e,"spline"),stroke:f,"stroke-width":c})};return b}(e);a=function(a){function b(){return b.__super__.constructor.apply(this,
arguments)}n(b,a);b.prototype.attr=function(a,b,c,d,e){var f,h,k,m,n;m=b.getXY(e,d);e=m.x;n=m.y;b=m.r;m=m.t;this._checkArrayUndefined(e,n,"Line");n=this._applyOffset(e,n,c);e=n.x;n=n.y;var p,r;if(_.max(b)-_.min(b)<g["const"].epsilon)for(b=b[0],c="M "+e[0]+" "+n[0],h=p=1,r=e.length-1;1<=r?p<=r:p>=r;h=1<=r?++p:--p)k=Math.abs(m[h]-m[h-1])>Math.PI?1:0,f=0<m[h]-m[h-1]?1:0,c+="A "+b+" "+b+" 0 "+k+" "+f+" "+e[h]+" "+n[h];else c=this._makePath(e,n);b=this._maybeApply(a,d,d.stroke?"stroke":"color");return this._shared(a,
d,{path:c,stroke:b})};return b}(e);d=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}n(b,a);b.prototype._make=function(a){return a.path()};b.prototype.attr=function(a,b,c,d,e){var f,h,k;f=g.sortArrays(a.x.compare,[d.x,d.y.top]);h=f[0];k=f[1];f=b.getXY(e,{x:h,y:k});f=this._applyOffset(f.x,f.y,c);k=g.sortArrays(function(b,c){return-a.x.compare(b,c)},[d.x,d.y.bottom]);h=k[0];k=k[1];b=b.getXY(e,{x:h,y:k});b=this._applyOffset(b.x,b.y,c);h=f.x.concat(b.x);k=f.y.concat(b.y);
return this._shared(a,d,{path:this._makePath(h,k),stroke:this._maybeApply(a,d,"color"),fill:this._maybeApply(a,d,"color"),"stroke-width":"0px"})};return b}(d);c=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}n(b,a);b.prototype._make=function(a){return a.rect()};b.prototype.attr=function(a,b,c,d,e){e=b.getXY(e,d);b=e.x;e=e.y;this._checkPointUndefined(b[0],e[0],"Bar");this._checkPointUndefined(b[1],e[1],"Bar");c=this._applyOffset(b,e,c);b=c.x;e=c.y;c=this._maybeApply(a,
d,d.stroke?"stroke":"color");return this._shared(a,d,{x:_.min(b),y:_.min(e),width:Math.abs(b[1]-b[0]),height:Math.abs(e[1]-e[0]),fill:this._maybeApply(a,d,"color"),stroke:c,"stroke-width":this._maybeApply(a,d,"stroke-width")})};return b}(f);q=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}n(b,a);b.prototype._make=function(a){return a.path()};b.prototype.attr=function(a,b,c,d,e){var f,h,k,m;f=d.x;h=f[0];f=f[1];m=d.y;k=m[0];m=m[1];this._checkPointUndefined(h,k,"Bar");
this._checkPointUndefined(f,m,"Bar");d.x=[h,h,f,f];d.y=[k,m,m,k];f=b.getXY(e,d);h=f.x;k=f.y;e=f.r;f=f.t;c=this._applyOffset(h,k,c);h=c.x;k=c.y;b.flip&&(h.push(h.splice(0,1)[0]),k.push(k.splice(0,1)[0]),e.push(e.splice(0,1)[0]),f.push(f.splice(0,1)[0]));2*Math.PI-Math.abs(f[1]-f[0])<g["const"].epsilon?(b="M "+h[0]+" "+k[0]+" A "+e[0]+" "+e[0]+" 0 1 1 "+h[0]+" "+(k[0]+2*e[0])+" A "+e[1]+" "+e[1]+" 0 1 1 "+h[1]+" "+k[1],b+="M "+h[2]+" "+k[2]+" A "+e[2]+" "+e[2]+" 0 1 0 "+h[2]+" "+(k[2]+2*e[2])+" A "+
e[3]+" "+e[3]+" 0 1 0 "+h[3]+" "+k[3]+" Z"):(c=Math.abs(f[1]-f[0])>Math.PI?1:0,b="M "+h[0]+" "+k[0]+" A "+e[0]+" "+e[1]+" 0 "+c+" 1 "+h[1]+" "+k[1],c=Math.abs(f[3]-f[2])>Math.PI?1:0,b+="L "+h[2]+" "+k[2]+" A "+e[2]+" "+e[3]+" 0 "+c+" 0 "+h[3]+" "+k[3]+" Z");c=this._maybeApply(a,d,d.stroke?"stroke":"color");return this._shared(a,d,{path:b,fill:this._maybeApply(a,d,"color"),stroke:c,"stroke-width":this._maybeApply(a,d,"stroke-width")})};return b}(f);f=function(a){function b(){return b.__super__.constructor.apply(this,
arguments)}n(b,a);b.prototype._make=function(a){return a.text()};b.prototype.attr=function(a,b,c,d,e){var f;e=b.getXY(e,d);b=e.x;e=e.y;this._checkPointUndefined(b,e,"Text");c=this._applyOffset(b,e,c);b=c.x;e=c.y;return this._shared(a,d,{x:b,y:e,r:10,text:this._maybeApply(a,d,"text"),"font-size":this._maybeApply(a,d,"size"),"text-anchor":null!=(f=d["text-anchor"])?f:"left",fill:this._maybeApply(a,d,"color")||"black"})};return b}(f);v={cartesian:{circle:new h,line:new e,pline:new e,area:new d,path:new b,
text:new f,rect:new c,spline:new m},polar:{circle:new h,path:new b,line:new e,pline:new a,area:new d,text:new f,rect:new q,spline:new m}}}).call(this);(function(){var d=[].indexOf||function(d){for(var g=0,e=this.length;g<e;g++)if(g in this&&this[g]===d)return g;return-1};g.handler={};g.handler.tooltip=function(){var d,k,e,b,a,c,f;a={};k=d=b=e=null;f=function(b){b=g.getXY(e,b);if(null!=a.text)return c(a,b)};c=function(a,b){var c,e,f,g,l,x;e=[b.x,b.y];g=e[0];e=e[1];if(null!=a.text)return f=a.text.getBBox().height,
g={x:g,y:e-f/2-20},a.text.attr(g),f=a.text.getBBox(),l=f.x,x=f.y,c=f.width,f=f.height,c={x:l-5,y:x-5,width:c+10,height:f+10},0>c.y&&(c.y=x+30+f,g.y=e+f/2+15),c.x+c.width>d&&(e=c.x+c.width-d,c.x-=e/2,g.x-=e/2),c.x<k&&(g.x+=k-c.x,c.x=k),a.text.attr(g),a.box.attr(c),a};return function(m,v,r,n){var w,p;e=g.offset(n.dom);b=v.paper;d=n.dims.chartWidth+n.dims.guideLeft+n.dims.paddingLeft;k=n.dims.guideLeft+n.dims.paddingLeft;if("mover"===m||"mout"===m)if(null!=a.text&&(a.text.remove(),a.box.remove()),a=
{},"mover"===m&&v.tooltip)return m=g.getXY(e,r),v.getBBox(),r=[m.x,m.y],w=r[0],r=r[1],a.text=b.text(w,r,v.tooltip(n.scaleSet.scales)).attr({"text-anchor":"middle",fill:"white"}),n=a.text.getBBox(),n=n.height,a.text.attr({y:r-n/2-20}),n=a.text.getBBox(),w=n.x,p=n.y,r=n.width,n=n.height,a.box=b.rect(w-5,p-5,r+10,n+10,10),a.box.attr({fill:"#213"}),a.text.toFront(),a=c(a,m),v.mousemove(f)}};g.handler.drilldown=function(h,q,e){var b,a;null==e&&(e={});if(!_.isArray(q))throw g.error.input("Parameter `levels` should be an array.");
if(0>d.call(g["const"].aes,h))throw g.error.input("Unknown aesthetic "+h+".");b=0;a=[e];return function(c,d,e,g){var k,n;if("reset"===c&&0<b){d=g.spec;a.pop();c=a.unshift();b--;n=d.layers;e=0;for(k=n.length;e<k;e++)d=n[e],d.filter=c,d[h]=q[b],d.id=q[b];return g.make(g.spec)}if("click"===c&&b<q.length-1&&(c=d.evtData,d=g.spec,e=c[q[b]])){c={};c[q[b]]=e;b++;c=_.extend(_.clone(a[a.length-1]),c);n=d.layers;e=0;for(k=n.length;e<k;e++)d=n[e],d.filter=c,d[h]=q[b],d.id=q[b];a.push(c);return g.make(g.spec)}}};
g.handler.zoom=function(d,k){var e,b,a,c,f,m;null==k&&(k={x:!0,y:!0});if(null==d)throw g.error.input("Initial specification missing.");b={x:_.clone(null!=(c=d.guides)?c.x:void 0),y:_.clone(null!=(f=d.guides)?f.y:void 0)};a=void 0;e=["x","y"];m=function(a){return function(b,c,d,e){return"reset"===b?_.isFunction(a)?a("resetZoom",c,d,e):a.handle("resetZoom",c,d,e):_.isFunction(a)?a(b,c,d,e):a.handle(b,c,d,e)}};return function(c,d,f,h){var p,l,x,E,z,A,u,y,L;null==a&&(a=_.clone(h.handlers));if("cartesian"===
h.coord.type){if("resetZoom"===c){p=h.spec;l=0;for(x=e.length;l<x;l++)f=e[l],p.guides[f]=_.clone(b[f]);h.handlers=_.clone(a);h.make(h.spec)}if("select"===c){d=d.evtData;p=h.spec.guides;u=h.spec.layers;L=[];x=0;for(z=u.length;x<z;x++){l=u[x];E=0;for(A=e.length;E<A;E++)f=e[E],k[f]&&null!=l[f]&&(c=g.parser.unbracket(l[f]["var"]),("num"===(y=h.axes.domains[f].type)||"date"===y)&&d[c].le-d[c].ge>g["const"].epsilon&&(null==p[f]&&(p[f]={min:null,max:null}),p[f].min=d[c].ge,p[f].max=d[c].le),"cat"===h.axes.domains[f].type&&
0!==d[c]["in"].length&&(null==p[f]&&(p[f]={levels:null}),p[f].levels=d[c]["in"]));h.handlers=_.map(h.handlers,m);L.push(h.make(h.spec))}return L}}}}}).call(this);(function(){var d,h=[].indexOf||function(d){for(var e=0,b=this.length;e<b;e++)if(e in this&&this[e]===d)return e;return-1};g.facet={};g.facet.make=function(){return new d};d=function(){function d(){this.type="none";this.mapping={};this.specgroups=[];this.groups=[];this.panes={};this.deletedPanes=[]}d.prototype.make=function(d){var b,a;this.spec=
d;d=this._getMappings(this.spec.facet);this.type=d.type;this.mapping=a=d.mapping;this.groups=_.values(this.mapping);this.specgroups={};for(b in a)d=a[b],this.spec.facet[b]&&(d=g.parser.normalize(d),this.specgroups[d]=this.spec.facet[b]);this.spec.facet.formatter&&(this.formatter=this.spec.facet.formatter);this.style={};this.spec.facet.size&&(this.style.size=this.spec.facet.size);if(this.spec.facet.color)return this.style.color=this.spec.facet.color};d.prototype.calculate=function(d,b){var a,c,f,h,
k;a=this._makeIndices(d,this.specgroups);this.values=a.values;this.indices=a.indices;"none"===this.type?this.rows=this.cols=1:(this.cols=this.spec.facet.cols,this.rows=this.spec.facet.rows,"wrap"===this.type?(a=this.values[this.mapping["var"]].length,this.cols||this.rows||(this.cols=Math.min(3,a)),this.cols?this.rows=Math.ceil(a/this.cols):this.rows&&(this.cols=Math.ceil(a/this.rows))):(this.rows=this.mapping.y?this.values[this.mapping.y].length:1,this.cols=this.mapping.x?this.values[this.mapping.x].length:
1));this.datas=this._groupData(d,this.indices);a=g.compare(_.keys(this.panes),_.keys(this.indices));c=a.deleted;a=a.added;h=0;for(k=c.length;h<k;h++)f=c[h],this.deletedPanes.push(this.panes[f]),delete this.panes[f];h=0;for(k=a.length;h<k;h++)f=a[h],c=this.formatter?this.formatter(this.indices[f]):f,this.panes[f]=g.pane.make(this.indices[f],_.extend({title:c},this.style));a=this.indices;c=[];for(f in a)c.push(this.panes[f].make(this.spec,this.datas[f],b));return c};d.prototype.render=function(d,b,
a){var c,f,g,h,k,n;if(0<this.deletedPanes.length){c=d({},!1,!1);n=this.deletedPanes;g=0;for(k=n.length;g<k;g++)h=n[g],h.dispose(c);this.deletedPanes=[]}k=this.panes;n=[];for(f in k)h=k[f],g=this.getOffset(b,f),c=a.clipping(g),n.push(h.render(d,g,c,b));return n};d.prototype.dispose=function(d){var b,a,c,f;c=this.panes;for(b in c)a=c[b],this.deletedPanes.push(a),delete this.panes[b];if(d){f=this.deletedPanes;b=0;for(c=f.length;b<c;b++)a=f[b],a.dispose(d);return this.deletedPanes=[]}};d.prototype.getGrid=
function(){return{cols:this.cols,rows:this.rows}};d.prototype.getOffset=function(d,b){var a;a=this._getRowCol(b);return{x:d.paddingLeft+d.guideLeft+(d.eachWidth+d.horizontalSpacing)*a.col,y:d.paddingTop+d.guideTop+(d.eachHeight+d.verticalSpacing)*a.row+d.verticalSpacing}};d.prototype.edge=function(d){var b,a,c,f,g,k,r,n,q=this;if("none"===this.type)return function(){return!0};"grid"===this.type?(n=function(a){return _.indexOf(q.values[q.mapping.y],q.indices[a][q.mapping.y])},b=function(a){return _.indexOf(q.values[q.mapping.x],
q.indices[a][q.mapping.x])}):(b=function(a){return _.indexOf(q.values[q.mapping["var"]],q.indices[a][q.mapping["var"]])%q.cols},n=function(a){return Math.floor(_.indexOf(q.values[q.mapping["var"]],q.indices[a][q.mapping["var"]])/q.cols)});if("none"===d)return function(){return!1};if("out"===d)return function(){return!0};c="top"===d||"bottom"===d?b:n;r="top"===d?n:"bottom"===d?function(a){return-n(a)}:"left"===d?b:"right"===d?function(a){return-b(a)}:void 0;d={};for(f in this.indices)if(k=c(f),g=r(f),
!d[k]||g<d[k].v)d[k]={v:g,k:f};a=_.pluck(d,"k");return function(b){return 0<=h.call(a,b)}};d.prototype.getEvtData=function(d,b){var a,c,f,g;f={};g=this.mapping;for(a in g)c=g[a],f[c]="x"===a||"y"===a?{"in":this.values[c][d]}:{"in":this.values[c][this.rows*b+d]};return f};d.prototype.getFacetInfo=function(d,b,a,c){var f,h,k;if(c){if(null==c.col||null==c.row)throw g.error.impl("Preset rows & columns are not present.");f=c.col;k=c.row}else f=(b-d.paddingLeft-d.guideLeft)/(d.eachWidth+d.horizontalSpacing),
f=Math.floor(f),k=(a-d.paddingTop-d.guideTop-d.verticalSpacing)/(d.eachHeight+d.verticalSpacing),k=Math.floor(k);if(0>f||f>=this.cols||0>k||k>=this.rows)return null;h={x:d.paddingLeft+d.guideLeft+(d.eachWidth+d.horizontalSpacing)*f,y:d.paddingTop+d.guideTop+(d.eachHeight+d.verticalSpacing)*k+d.verticalSpacing};b={x:b-h.x,y:a-h.y};if(!c&&(b.x>d.eachWidth||b.y>d.eachHeight))return null;b.x=Math.max(Math.min(b.x,d.eachWidth),0);b.y=Math.max(Math.min(b.y,d.eachHeight),0);return{row:k,col:f,offset:h,adjusted:b,
evtData:this.getEvtData(f,k)}};d.prototype._getMappings=function(d){var b;b={type:"none",mapping:{}};if(_.isObject(d))if("wrap"===d.type){b.type="wrap";if(!d["var"])throw g.error.defn("You didn't specify a variable to facet on.");d["var"]&&(b.mapping["var"]=g.parser.normalize(d["var"]["var"]))}else if("grid"===d.type){b.type="grid";if(!d.x&&d.y)throw g.error.defn("You didn't specify a variable to facet on.");d.x&&(b.mapping.x=g.parser.normalize(d.x["var"]));d.y&&(b.mapping.y=g.parser.normalize(d.y["var"]))}return b};
d.prototype._makeIndices=function(d,b){var a,c,f,h,k,r,n,q;q={};for(a in b)if(c=b[a],k=g.parser.normalize(c["var"]),c.levels)q[k]=c.levels;else{r=[];for(f in d){c=d[f];if(h=c.metaData[k])!h||"num"!==(n=h.type)&&"date"!==n||g.type.compare(h.type);r=_.uniq(_.union(r,_.pluck(c.statData,k)))}q[k]=r}a=g.cross(q);f={};h=_.pluck(b,"var");r=[];n=0;for(c=h.length;n<c;n++)k=h[n],r.push(g.parser.normalize(k));k=g.stringify(r);c=0;for(h=a.length;c<h;c++)n=a[c],f[k(n)]=n;return{values:q,indices:f}};d.prototype._groupData=
function(d,b){var a,c,f,h,k,r,n;c=g.groupProcessedData(d,this.groups);a={};n=this.indices;for(f in n){h=n[f];for(k=c;!0===k.grouped;)r=h[k.key],k=k.values[r];a[f]=k}return a};d.prototype._getRowCol=function(d){var b;b={row:0,col:0};"wrap"===this.type?(d=this.indices[d][this.mapping["var"]],d=_.indexOf(this.values[this.mapping["var"]],d),b.col=d%this.cols,b.row=Math.floor(d/this.cols)):"grid"===this.type&&(b.row=_.indexOf(this.values[this.mapping.y],this.indices[d][this.mapping.y]),b.col=_.indexOf(this.values[this.mapping.x],
this.indices[d][this.mapping.x]));return b};return d}();g.groupProcessedData=function(d,e){var b,a,c,f,h,k,r,n,w;if(0===e.length)return d;b=e.splice(0,1)[0];k=[];for(c in d)a=d[c],b in a.metaData&&(k=_.union(k,_.uniq(_.pluck(a.statData,b))));h={grouped:!0,key:b,values:{}};n=0;for(w=k.length;n<w;n++){r=k[n];f={};for(c in d)a=d[c],f[c]={metaData:a.metaData},f[c].statData=b in a.metaData?g.filter(a.statData,b,r):_.clone(a.statData);h.values[r]=g.groupProcessedData(f,_.clone(e))}return h}}).call(this);
(function(){var d,h,q,e=function(b,a){return function(){return b.apply(a,arguments)}};q=function(b){var a,c,d,e,h,k,n,q,p,l;h=["row","column","value"];c=0;for(e=h.length;c<e;c++)a=h[c],b[a+"s"]||(b[a+"s"]=[],null!=b[a]&&b[a+"s"].push(b[a]));p=["rows","columns","values"];h=0;for(n=p.length;h<n;h++)for(a=p[h],l=b[a],c=k=0,q=l.length;k<q;c=++k)e=l[c],_.isString(e)&&(b[a][c]={"var":e});null==b.full&&(b.full=!1);null==b.formatter&&(b.formatter={});c=b.formatter;for(d in c)a=c[d],d=g.parser.normalize(d),
b.formatter[d]=a;return b};h=function(){function b(a,b,d){var h,k,r,n,q;this.statData=a;this.ticks=b;this.spec=d;this.get=e(this.get,this);this.makeFormatters=e(this.makeFormatters,this);this.makeHeaders=e(this.makeHeaders,this);this.rows=function(){var a,b,c,d;c=this.spec.rows;d=[];a=0;for(b=c.length;a<b;a++)h=c[a],d.push(g.parser.unbracket(h["var"]));return d}.call(this);this.columns=function(){var a,b,c,d;c=this.spec.columns;d=[];a=0;for(b=c.length;a<b;a++)h=c[a],d.push(g.parser.unbracket(h["var"]));
return d}.call(this);b=this.rows.concat(this.columns);a=this.columns;this.dataIndexByRows={};this.dataIndexByCols={};r=function(a,b,c){var d,e,f,g,h;a=e=a;f=0;for(g=b.length;f<g;f++)d=b[f],null==a[h=c[d]]&&(a[h]={}),e=a,a=e[c[d]];return e[c[d]]=c};q=this.statData;k=0;for(n=q.length;k<n;k++)d=q[k],r(this.dataIndexByRows,b,d),r(this.dataIndexByCols,a,d)}b.prototype.makeHeaders=function(){var a,b,d=this;a=this.spec.full;b=function(e,g,h,k){var q,p,l;if(0===h.length)return e.push(g);q=h[0];p=h.slice(1);
l=_.keys(k);return _.each(d.ticks[q].ticks,function(d,f){var h;if(a||_.contains(l,""+d.location))return h=_.clone(g),h[q]=d.value,b(e,h,p,k[d.location])})};this.rowHeaders=[];this.colHeaders=[];b(this.rowHeaders,{},this.rows,this.dataIndexByRows);b(this.colHeaders,{},this.columns,this.dataIndexByCols);return{rowHeaders:this.rowHeaders,colHeaders:this.colHeaders}};b.prototype.makeFormatters=function(){var a,b,d,e,h,k,n;k=this.spec.values;n=[];e=0;for(h=k.length;e<h;e++)d=k[e],n.push(g.parser.unbracket(d["var"]));
d={};h=0;for(k=n.length;h<k;h++)e=n[h],d[e]=e in this.spec.formatter?this.spec.formatter[e]:(b=g.format.getExp(_.min(_.pluck(this.statData,e))),a=b,g.format.number(a));n=this.columns.concat(this.rows);a=0;for(b=n.length;a<b;a++)e=n[a],e in this.spec.formatter&&(d[e]=this.spec.formatter[e]);return d};b.prototype.get=function(a,b,d){var e,g,h,k,q;g=this.dataIndexByRows;q=this.rows;h=0;for(k=q.length;h<k;h++)e=q[h],e=this.ticks[e].ticks[a[e]].location,null!=g&&null!=g[e]&&(g=g[e]);k=this.columns;a=0;
for(h=k.length;a<h;a++)e=k[a],e=this.ticks[e].ticks[b[e]].location,null!=g&&null!=g[e]&&(g=g[e]);if(null!=g&&null!=g[d])return g[d]};return b}();d=function(){function b(a,b,d){this.callback=b;this.prepare=d;this.render=e(this.render,this);this.generateTicks=e(this.generateTicks,this);if(null==a)throw g.error.defn("No pivot table specification is passed in!");this.make(a)}b.prototype.make=function(a){this.spec=q(a);return(new g.DataProcess(this.spec,[],this.spec.strict,g.spec.pivotToData)).make(this.spec,
[],this.render)};b.prototype.generateTicks=function(a,b,d){var e,h,k,n,q,p,l,x,E,z,A;p={};z=["rows","columns"];l=0;for(x=z.length;l<x;l++)for(e=z[l],A=a[e],e=0,E=A.length;e<E;e++)q=A[e],q=g.parser.unbracket(q["var"]),n=d[q],k=_.pluck(b,q),k=g.domain.single(k,d[q],{}),n="cat"===n.type?{ticks:k.levels}:"num"===n.type?{numticks:(k.max-k.min)/n.bw}:(h=g["const"].approxTimeInSeconds[n.bw],{numticks:(k.max-k.min)/h}),k=g.tick.make(k,n,d[q].type),p[q]=k;return p};b.prototype.render=function(a,b,d){var e,
k,q,n,w,p,l,x,E,z,A,u;a=this.generateTicks(this.spec,b,d);b=new h(b,a,this.spec);d=b.makeHeaders();a=d.rowHeaders;d=d.colHeaders;l=b.makeFormatters();e=this.spec.columns.length;k=this.spec.rows.length;q=this.spec.values.length;if(!$)throw g.error.depn("Pivot Tables require jQuery!");u=$("<table></table>").attr("border","1px solid black");u.attr("cellspacing",0);u.attr("cellpadding",0);for(x=0;x<e;){A=$("<tr></tr>");w=g.parser.unbracket(this.spec.columns[x]["var"]);0===x&&1<k&&(E=$("<td></td>"),E.attr("rowspan",
e),E.attr("colspan",k-1),A.append(E));A.append($("<th>"+w+":</th>").attr("align","right"));for(E=0;E<d.length;){n=d[E][w];for(p=1;E+p<d.length&&n===d[E+p][w];)p++;l[w]&&(n=l[w](n));n=$("<td class='heading'>"+n+"</td>").attr("colspan",p*q);n.attr("align","center");A.append(n);E+=p}u.append(A);x++}A=$("<tr></tr>");0===k&&(E=$("<td class='spacing'></td>"),E.attr("rowspan",a.length+1),A.append(E));for(x=0;x<k;)w=g.parser.unbracket(this.spec.rows[x]["var"]),A.append($("<th>"+w+"</th>").attr("align","center")),
x++;for(x=0;x<d.length;){e=this.spec.values;E=0;for(w=e.length;E<w;E++)n=e[E],n=$("<td class='heading'>"+g.parser.unbracket(n["var"])+"</td>"),n.attr("align","center"),A.append(n);x++}u.append(A);for(x=0;x<a.length;){A=$("<tr></tr>");k=this.spec.rows;E=0;for(e=k.length;E<e;E++)if(w=k[E],w=g.parser.unbracket(w["var"]),n=a[x][w],0===x||n!==a[x-1][w]){for(q=1;x+q<a.length&&n===a[x+q][w];)q++;l[w]&&(n=l[w](n));n=$("<td class='heading'>"+n+"</td>").attr("rowspan",q);n.attr("align","center");n.attr("valign",
"middle");A.append(n)}for(E=0;E<d.length;){w=d[E];e=a[x];p=this.spec.values;k=0;for(q=p.length;k<q;k++)n=p[k],z=g.parser.unbracket(n["var"]),n=(n=b.get(e,w,z))?l[z](n):"-",A.append($("<td class='value'>"+n+"</td>").attr("align","right"));E++}u.append(A);x++}this.prepare&&this.prepare(this);this.spec.width&&u.attr("width",this.spec.width);this.spec.height&&u.attr("height",this.spec.height);this.dom=_.isString(this.spec.dom)?$("#"+this.spec.dom):$(this.spec.dom);this.dom.empty();this.dom.append(u);
if(this.callback)return this.callback(null,this)};return b}();g.pivot=function(b,a,c){return new d(b,a,c)}}).call(this);(function(){var d,h,q=function(b,a){return function(){return b.apply(a,arguments)}},e=[].indexOf||function(b){for(var a=0,c=this.length;a<c;a++)if(a in this&&this[a]===b)return a;return-1};h=function(b){_.isString(b.value)&&(b.value={"var":b.value});return b};d=function(){function b(a,b,d){this.render=q(this.render,this);this.handleEvent=q(this.handleEvent,this);if(null==a)throw g.error.defn("No numeral specification is passed in!");
this.handlers=[];this.callback=b;this.prepare=d;this.make(a)}b.prototype.make=function(a){if(!a.value)throw g.error.defn("No value defined in numeral.");this.spec=h(a);return(new g.DataProcess(this.spec,[],this.spec.strict,g.spec.numeralToData)).make(this.spec,[],this.render)};b.prototype.handleEvent=function(a){var b;b=this;return _.throttle(function(d){var e,h,k,n,q;"guide-title"===a&&(d=g.event.make(a,this),d.dispatch(b.dom));n=b.handlers;q=[];h=0;for(k=n.length;h<k;h++)e=n[h],_.isFunction(e)?
q.push(e(a,this,d,b)):q.push(e.handle(a,this,d,b));return q},300)};b.prototype.addHandler=function(a){if(0>e.call(this.handlers,a))return this.handlers.push(a)};b.prototype.render=function(a,b,d){var e,h,k,n;if(null!=a)console.error(a);else{a=g.parser.normalize(this.spec.value["var"]);this.value=b[0][a];this.title=null!=(k=this.spec.title)?k:a;b=0<(h=this.value)&&1>h?void 0:0===this.value%1?0:-1;this.value=g.format.number(b)(this.value);if(_.isNaN(this.value)||"NaN"===this.value)this.value="Not a Number";
null!=this.prepare&&this.prepare(this);this.dom=this.spec.dom;this.width=null!=(e=this.spec.width)?e:200;this.height=null!=(n=this.spec.height)?n:100;null==this.paper&&(this.paper=this._makePaper(this.dom,this.width,this.height,this));null==this.titleObj&&(this.titleObj=this.paper.text(this.width/2,10,""));this.titleObj.attr({text:this.title,"font-size":"12px"});this.titleObj.click(this.handleEvent("guide-title"));this.titleObj.hover(this.handleEvent("tover"),this.handleEvent("tout"));null==this.textObj&&
(this.textObj=this.paper.text(this.width/2,this.height/2,""));this.textObj.attr({x:this.width/2,y:7+this.height/2,text:this.value});e=this.textObj.getBBox();h=e.width;e=e.height;h=Math.min(.9*this.width/h,.9*(this.height-14)/e);this.textObj.transform("s"+h);this.callback&&this.callback(null,this)}};b.prototype._makePaper=function(a,b,d,e){return g.paper(a,b,d,{numeral:e},!1)};return b}();g.numeral=function(b,a,c){try{return new d(b,a,c)}catch(e){console.log(e);if(null!=a)return a(e,null);throw g.error.defn("Bad specification.");
}}}).call(this);(function(){var d,h,q,e={}.hasOwnProperty,b=function(a,b){function d(){this.constructor=a}for(var g in b)e.call(b,g)&&(a[g]=b[g]);d.prototype=b.prototype;a.prototype=new d;a.__super__=b.prototype;return a};h=function(){function a(a,b,d){null==a&&(a="polyjsEvent");this.eventName=a;this.cancelable=this.bubbles=!0;this.detail={type:d,data:b}}a.prototype.dispatch=function(a){var b;b=new CustomEvent(this.eventName,{detail:this.detail});if(null!=a)return a.dispatchEvent(b)};return a}();
q=function(a){function c(a,b){c.__super__.constructor.call(this,"title-click",a,b)}b(c,a);return c}(h);d=function(a){function c(a,b){c.__super__.constructor.call(this,"legend-click",a,b)}b(c,a);return c}(h);g.event={};g.event.make=function(a,b){if("guide-title"===a||"guide-titleH"===a||"guide-titleV"===a)return new q(b,a);if("legend-label"===a||"legend-title"===a)return new d(b,a);throw g.error.defn("No such event "+a+".");}}).call(this);(function(){var d,h=function(d,b){return function(){return d.apply(b,
arguments)}},q=[].indexOf||function(d){for(var b=0,a=this.length;b<a;b++)if(b in this&&this[b]===d)return b;return-1};d=function(){function d(b,a,c){null==a&&(a=null);null==c&&(c=null);this.handleEvent=h(this.handleEvent,this);this.render=h(this.render,this);this.mergeDomains=h(this.mergeDomains,this);this.merge=h(this.merge,this);this.maybeDispose=h(this.maybeDispose,this);if(null==b)throw g.error.defn("No graph specification is passed in!");this.handlers=[];this.coord=this.paper=this.dims=this.legends=
this.axes=this.scaleSet=null;this.facet=g.facet.make();this.dataSubscribed=[];this.callback=a;this.prepare=c;this.showTooltip=!(null!=b.tooltip&&!b.tooltip);this.showZoom=!(null!=b.zoom&&!b.zoom);this.make(b);this.showTooltip&&this.addHandler(g.handler.tooltip());this.showZoom&&this.addHandler(g.handler.zoom(b))}d.prototype.maybeDispose=function(b){var a;a=g.render(this.handleEvent,this.paper,this.scaleSet.scales,this.coord);a=a();if(this.coord&&!_.isEqual(this.coord.spec,b.coord))return this.scaleSet&&
(this.scaleSet.disposeGuides(a),this.scaleSet=null),this.coord=null};d.prototype.make=function(b){var a,c,d,e,h,k,n,q,p,l=this;null!=b?(b=g.spec.toStrictMode(b),g.spec.check(b),this.spec=b):b=this.spec;this.scaleSet&&this.maybeDispose(b);null==this.coord&&(this.coord=g.coord.make(this.spec.coord));this.facet.make(b);c=this.handleEvent("data");d=function(){var a,c,d,f;d=b.layers;f=[];e=a=0;for(c=d.length;a<c;e=++a)h=d[e],f.push(h.data);return f}();p=_.difference(d,this.dataSubscribed);n=0;for(q=p.length;n<
q;n++)a=p[n],a.subscribe(c);this.dataSubscribed=d;k=_.after(b.layers.length,this.merge);this.dataprocess={};this.processedData={};return _.each(b.layers,function(a,c){var d;b=l.spec.layers[c];d=_.values(l.facet.specgroups);l.dataprocess[c]=new g.DataProcess(b,d,b.strict);return l.dataprocess[c].make(b,d,function(a,b,d){if(null!=a)if(console.error(a),null!=l.callback)l.callback(a,null);else throw g.error.defn("Error processing data!");l.processedData[c]={statData:b,metaData:d};return k()})})};d.prototype.merge=
function(){var b=this;this.layers=_.map(this.spec.layers,function(a){return g.layer.make(a,b.spec.strict,b.spec.guides)});this.facet.calculate(this.processedData,this.layers);this.mergeDomains();return this.render()};d.prototype.mergeDomains=function(){var b,a,c;b=_.map(this.facet.panes,function(a){return a.domains});b=g.domain.merge(b);this.scaleSet||(a=g.dim.guess(this.spec,this.facet.getGrid()),this.coord.make(a),c=this.coord.ranges(),this.scaleSet=g.scaleset(c,this.coord));this.scaleSet.make(this.spec.guides,
b,this.layers);this.dims=this._makeDimensions(this.spec,this.scaleSet,this.facet,a);this.coord.make(this.dims);this.ranges=this.coord.ranges();return this.scaleSet.setRanges(this.ranges)};d.prototype.render=function(){var b,a;if(null==this.spec.render||!1!==this.spec.render)if(b=this.scaleSet.scales,this.coord.setScales(b),this.scaleSet.coord=this.coord,a=this.scaleSet.makeGuides(this.spec,this.dims),this.axes=a.axes,this.titles=a.titles,this.legends=a.legends,null!=this.prepare&&this.prepare(this),
this.dom=this.spec.dom,null==this.paper&&(this.paper=this._makePaper(this.dom,this.dims.width,this.dims.height,this)),b=g.render(this.handleEvent,this.paper,b,this.coord),this.facet.render(b,this.dims,this.coord),this.scaleSet.renderGuides(this.dims,b,this.facet),null!=this.callback)return this.callback(null,this)};d.prototype.addHandler=function(b){if(0>q.call(this.handlers,b))return this.handlers.push(b)};d.prototype.removeHandler=function(b){return this.handlers.splice(_.indexOf(this.handlers,
b),1)};d.prototype.handleEvent=function(b){var a;a=this;return _.throttle(function(c){var d,e,h,k,n;if("touchstart"===b||"touchmove"===b||"touchend"===b||"touchcancel"===b)g.touch(b,this,c,a);else if("select"===b){e=c.start;d=c.end;e=a.facet.getFacetInfo(a.dims,e.x,e.y);if(!e)return;k=e.col;n=e.row;h=e.adjusted;e=_.clone(h);h=a.facet.getFacetInfo(a.dims,d.x,d.y,{col:k,row:n}).adjusted;d=_.clone(h);this.evtData="cartesian"===a.coord.type?a.scaleSet.fromPixels(e,d):null}else if("data"===b)this.evtData=
{};else if("reset"===b||"click"===b||"mover"===b||"mout"===b||"tover"===b||"tout"===b||"gover"===b||"gout"===b||"guide-click"===b)this.tooltip=this.data("t"),this.evtData=this.data("e"),"guide-click"===b&&"text"===this.type&&null!=this.evtData&&(c="legendTitle"===this.evtData.value?g.event.make("legend-title",this):g.event.make("legend-label",this),c.dispatch(a.dom));else if("guide-title"===b||"guide-titleH"===b||"guide-titleV"===b)this.tooltip=this.data("t"),this.evtData=this.data("e"),c=g.event.make(b,
this),c.dispatch(a.dom);n=a.handlers;h=[];e=0;for(k=n.length;e<k;e++)d=n[e],_.isFunction(d)?h.push(d(b,this,c,a)):h.push(d.handle(b,this,c,a));return h},300)};d.prototype._makeScaleSet=function(b,a,c){b=this.coord.ranges();return g.scaleset(b,this.coord)};d.prototype._makeDimensions=function(b,a,c,d){a.makeGuides(b,d);return g.dim.make(b,a,c.getGrid())};d.prototype._makePaper=function(b,a,c,d){return g.paper(b,a,c,{graph:d},this.showZoom)};return d}();g.chart=function(e,b,a,c){null==c&&(c=!0);if(c)return new d(e,
b,a);try{return new d(e,b,a)}catch(f){if(null!=b)return b(f,null);throw g.error.defn("Bad specification.");}}}).call(this)}return{data:g.data,chart:g.chart,pivot:g.pivot,numeral:g.numeral,handler:g.handler,parser:{bracket:g.parser.bracket,unbracket:g.parser.unbracket,parse:g.parser.parse,getExpression:g.parser.getExpression,escape:g.parser.escape,unescape:g.parser.unescape},debug:g}}(window.polyjs);